(()=>{var e={};e.id=1658,e.ids=[1658],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},92785:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c}),t(65906),t(97621),t(35866),t(64968);var s=t(23191),r=t(88716),l=t(37922),n=t.n(l),i=t(95231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(a,o);let c=["",{children:["(portals)",{children:["cliente",{children:["paciente",{children:["medicamentos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,65906)),"C:\\Users\\dramo\\.gemini\\antigravity\\scratch\\maos-amigas-avaliacao\\src\\app\\(portals)\\cliente\\paciente\\medicamentos\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,97621)),"C:\\Users\\dramo\\.gemini\\antigravity\\scratch\\maos-amigas-avaliacao\\src\\app\\(portals)\\cliente\\layout.tsx"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,64968)),"C:\\Users\\dramo\\.gemini\\antigravity\\scratch\\maos-amigas-avaliacao\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\dramo\\.gemini\\antigravity\\scratch\\maos-amigas-avaliacao\\src\\app\\(portals)\\cliente\\paciente\\medicamentos\\page.tsx"],m="/(portals)/cliente/paciente/medicamentos/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(portals)/cliente/paciente/medicamentos/page",pathname:"/cliente/paciente/medicamentos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},96392:(e,a,t)=>{Promise.resolve().then(t.bind(t,28278))},86333:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(76557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},72607:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(76557).Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]])},36800:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(76557).Z)("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]])},83855:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(76557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},60850:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(76557).Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]])},16889:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(76557).Z)("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]])},70677:(e,a,t)=>{"use strict";t.d(a,{Z:()=>s});let s=(0,t(76557).Z)("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]])},28278:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>M});var s=t(10326),r=t(17577),l=t(30058),n=t(88129),i=t(90434),o=t(16889),c=t(60850),d=t(70677),m=t(72607),x=t(86333),p=t(83855),u=t(87888),h=t(88307),g=t(36800),b=t(85206),y=t(98091),v=t(94019),j=t(92977),f=t(61824),N=t(61867),k=t(59249);let w=e=>{switch(e){case"oral":return{label:"Via Oral",color:"text-brand-600",bg:"bg-brand-100 dark:bg-brand-900/30"};case"injection":return{label:"Injet\xe1vel",color:"text-purple-600",bg:"bg-purple-100 dark:bg-purple-900/30"};case"topical":return{label:"T\xf3pico",color:"text-green-600",bg:"bg-green-100 dark:bg-green-900/30"};default:return{label:"Outro",color:"text-neutral-600",bg:"bg-neutral-100 dark:bg-neutral-800"}}},Z=e=>{let a=parseInt(e.split(":")[0]);return a>=5&&a<12?o.Z:a>=12&&a<18?c.Z:a>=18&&a<21?d.Z:m.Z};function M(){let{medications:e,addMedication:a,updateMedication:t,deleteMedication:o}=(0,k.R)(),[c,d]=(0,r.useState)(""),[m,M]=(0,r.useState)(!1),[C,q]=(0,r.useState)(!1),[P,E]=(0,r.useState)(null),[D,_]=(0,r.useState)({name:"",dosage:"",frequency:"",times:[""],route:"oral",prescribedBy:"",notes:""}),B=e.filter(e=>e.name.toLowerCase().includes(c.toLowerCase())),S=e.filter(e=>"active"===e.status).length,z=e.filter(e=>!!e.renewalDate&&new Date(e.renewalDate)<=(0,j.E)(new Date,30)).length,A=e=>{E(e),_({name:e.name,dosage:e.dosage,frequency:e.frequency,times:e.times,route:e.route,prescribedBy:e.prescribedBy,notes:e.notes||""}),q(!0)},O=e=>{o(e)},U=e=>{_(a=>({...a,times:a.times.filter((a,t)=>t!==e)}))},L=(e,a)=>{_(t=>({...t,times:t.times.map((t,s)=>s===e?a:t)}))},G=()=>{_({name:"",dosage:"",frequency:"",times:[""],route:"oral",prescribedBy:"",notes:""})};return(0,s.jsxs)("div",{className:"space-y-4 pb-20",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(i.default,{href:"/cliente/paciente",className:"p-2 -ml-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800",children:s.jsx(x.Z,{className:"w-5 h-5",style:{color:"rgb(var(--color-text))"}})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-xl font-semibold",style:{color:"rgb(var(--color-text))"},children:"Medicamentos"}),(0,s.jsxs)("p",{className:"text-sm",style:{color:"rgb(var(--color-text-secondary))"},children:[S," ativos"]})]})]}),s.jsx("button",{onClick:()=>{G(),M(!0)},className:"p-2 bg-brand-500 text-white rounded-lg hover:bg-brand-600",children:s.jsx(p.Z,{className:"w-5 h-5"})})]}),z>0&&s.jsx(l.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"card bg-warning-50 dark:bg-warning-900/20 border border-warning-200 dark:border-warning-800",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(u.Z,{className:"w-5 h-5 text-warning-600 flex-shrink-0"}),(0,s.jsxs)("p",{className:"text-sm text-warning-700 dark:text-warning-400",children:[z," medicamento(s) precisam de renova\xe7\xe3o de receita em breve"]})]})}),s.jsx(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx(h.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),s.jsx("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"Buscar medicamentos...",className:"input-base pl-10"})]})}),s.jsx(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.15},className:"space-y-3",children:s.jsx(n.M,{mode:"popLayout",children:0===B.length?(0,s.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"card text-center py-12",children:[s.jsx(g.Z,{className:"w-12 h-12 mx-auto text-neutral-300 dark:text-neutral-600 mb-3"}),s.jsx("p",{style:{color:"rgb(var(--color-text-secondary))"},children:"Nenhum medicamento encontrado"})]}):B.map((e,a)=>{let t=w(e.route),r=e.renewalDate&&new Date(e.renewalDate)<=(0,j.E)(new Date,30);return(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:.05*a},className:"card",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:(0,N.cn)("w-10 h-10 rounded-lg flex items-center justify-center",t.bg),children:s.jsx(g.Z,{className:(0,N.cn)("w-5 h-5",t.color)})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"font-medium",style:{color:"rgb(var(--color-text))"},children:e.name}),(0,s.jsxs)("p",{className:"text-sm",style:{color:"rgb(var(--color-text-secondary))"},children:[e.dosage," â€¢ ",e.frequency]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>A(e),className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-lg",children:s.jsx(b.Z,{className:"w-4 h-4",style:{color:"rgb(var(--color-text-secondary))"}})}),s.jsx("button",{onClick:()=>O(e.id),className:"p-2 hover:bg-error-50 dark:hover:bg-error-900/20 rounded-lg",children:s.jsx(y.Z,{className:"w-4 h-4 text-error-500"})})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:e.times.map((e,a)=>{let t=Z(e);return(0,s.jsxs)("span",{className:"flex items-center gap-1 px-2 py-1 bg-neutral-100 dark:bg-neutral-800 rounded-lg text-sm",children:[s.jsx(t,{className:"w-3 h-3",style:{color:"rgb(var(--color-text-secondary))"}}),s.jsx("span",{style:{color:"rgb(var(--color-text))"},children:e})]},a)})}),e.notes&&s.jsx("p",{className:"text-xs mb-2 italic",style:{color:"rgb(var(--color-text-secondary))"},children:e.notes}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t border-neutral-100 dark:border-neutral-700",children:[s.jsx("span",{className:"text-xs",style:{color:"rgb(var(--color-text-secondary))"},children:e.prescribedBy}),r&&e.renewalDate&&(0,s.jsxs)("span",{className:"badge text-xs bg-warning-100 dark:bg-warning-900/30 text-warning-700 dark:text-warning-400 flex items-center gap-1",children:[s.jsx(u.Z,{className:"w-3 h-3"}),"Renovar at\xe9 ",(0,f.WU)(new Date(e.renewalDate),"dd/MM")]})]})]},e.id)})})}),s.jsx(n.M,{children:(m||C)&&s.jsx(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-end",onClick:()=>{M(!1),q(!1),E(null)},children:(0,s.jsxs)(l.E.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},onClick:e=>e.stopPropagation(),className:"w-full bg-white dark:bg-neutral-900 rounded-t-3xl p-6 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"w-12 h-1 bg-neutral-300 dark:bg-neutral-600 rounded-full mx-auto mb-6"}),s.jsx("h2",{className:"text-lg font-semibold mb-4",style:{color:"rgb(var(--color-text))"},children:C?"Editar Medicamento":"Novo Medicamento"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"rgb(var(--color-text))"},children:"Nome do Medicamento"}),s.jsx("input",{type:"text",value:D.name,onChange:e=>_(a=>({...a,name:e.target.value})),className:"input-base",placeholder:"Ex: Donepezila"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"rgb(var(--color-text))"},children:"Dosagem"}),s.jsx("input",{type:"text",value:D.dosage,onChange:e=>_(a=>({...a,dosage:e.target.value})),className:"input-base",placeholder:"Ex: 10mg"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"rgb(var(--color-text))"},children:"Frequ\xeancia"}),s.jsx("input",{type:"text",value:D.frequency,onChange:e=>_(a=>({...a,frequency:e.target.value})),className:"input-base",placeholder:"Ex: 1x ao dia"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"rgb(var(--color-text))"},children:"Via de Administra\xe7\xe3o"}),(0,s.jsxs)("select",{value:D.route,onChange:e=>_(a=>({...a,route:e.target.value})),className:"input-base",children:[s.jsx("option",{value:"oral",children:"Via Oral"}),s.jsx("option",{value:"injection",children:"Injet\xe1vel"}),s.jsx("option",{value:"topical",children:"T\xf3pico"}),s.jsx("option",{value:"other",children:"Outro"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"rgb(var(--color-text))"},children:"Hor\xe1rios"}),D.times.map((e,a)=>(0,s.jsxs)("div",{className:"flex gap-2 mb-2",children:[s.jsx("input",{type:"time",value:e,onChange:e=>L(a,e.target.value),className:"input-base flex-1"}),D.times.length>1&&s.jsx("button",{onClick:()=>U(a),className:"p-2 text-error-500 hover:bg-error-50 dark:hover:bg-error-900/20 rounded-lg",children:s.jsx(v.Z,{className:"w-5 h-5"})})]},a)),(0,s.jsxs)("button",{onClick:()=>{_(e=>({...e,times:[...e.times,""]}))},className:"text-sm text-brand-600 hover:text-brand-700 flex items-center gap-1",children:[s.jsx(p.Z,{className:"w-4 h-4"})," Adicionar hor\xe1rio"]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"rgb(var(--color-text))"},children:"Prescrito por"}),s.jsx("input",{type:"text",value:D.prescribedBy,onChange:e=>_(a=>({...a,prescribedBy:e.target.value})),className:"input-base",placeholder:"Ex: Dr. Jo\xe3o Oliveira"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"rgb(var(--color-text))"},children:"Observa\xe7\xf5es"}),s.jsx("textarea",{value:D.notes,onChange:e=>_(a=>({...a,notes:e.target.value})),className:"input-base min-h-[80px]",placeholder:"Instru\xe7\xf5es adicionais..."})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 mt-6",children:[s.jsx("button",{onClick:()=>{M(!1),q(!1),E(null)},className:"flex-1 btn-secondary",children:"Cancelar"}),s.jsx("button",{onClick:()=>{C&&P?t(P.id,{name:D.name,dosage:D.dosage,frequency:D.frequency,times:D.times.filter(e=>""!==e),route:D.route,prescribedBy:D.prescribedBy,notes:D.notes||void 0}):a({name:D.name,dosage:D.dosage,frequency:D.frequency,times:D.times.filter(e=>""!==e),route:D.route,status:"active",startDate:new Date,prescribedBy:D.prescribedBy,notes:D.notes||void 0}),M(!1),q(!1),E(null),G()},className:"flex-1 btn-primary",children:C?"Salvar":"Adicionar"})]})]})})})]})}},65906:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`C:\Users\dramo\.gemini\antigravity\scratch\maos-amigas-avaliacao\src\app\(portals)\cliente\paciente\medicamentos\page.tsx#default`)},92977:(e,a,t)=>{"use strict";t.d(a,{E:()=>l});var s=t(71271),r=t(99276);function l(e,a){let t=(0,s.Q)(e);return isNaN(a)?(0,r.L)(e,NaN):(a&&t.setDate(t.getDate()+a),t)}}};var a=require("../../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[9276,5121,2822,9039,434,1824,7815,2724,6378],()=>t(92785));module.exports=s})();