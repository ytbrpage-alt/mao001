(()=>{var e={};e.id=3547,e.ids=[3547],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},62143:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>c.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>p,tree:()=>n}),r(87223),r(64968),r(35866);var s=r(23191),t=r(88716),l=r(37922),c=r.n(l),o=r(95231),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(a,i);let n=["",{children:["avaliacao",{children:["[id]",{children:["pdf",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,87223)),"C:\\Users\\dramo\\.gemini\\antigravity\\scratch\\maos-amigas-avaliacao\\src\\app\\avaliacao\\[id]\\pdf\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,64968)),"C:\\Users\\dramo\\.gemini\\antigravity\\scratch\\maos-amigas-avaliacao\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\dramo\\.gemini\\antigravity\\scratch\\maos-amigas-avaliacao\\src\\app\\avaliacao\\[id]\\pdf\\page.tsx"],x="/avaliacao/[id]/pdf/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/avaliacao/[id]/pdf/page",pathname:"/avaliacao/[id]/pdf",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},19358:(e,a,r)=>{Promise.resolve().then(r.bind(r,28323))},66697:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(76557).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},86333:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(76557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},31540:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(76557).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},36283:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(76557).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},67427:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(76557).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},75290:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3869:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(76557).Z)("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]])},79635:(e,a,r)=>{"use strict";r.d(a,{Z:()=>s});let s=(0,r(76557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},28323:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>f});var s=r(10326),t=r(35047),l=r(17577),c=r(30058),o=r(36283),i=r(86333);let n=(0,r(76557).Z)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var d=r(3869),x=r(79635),m=r(67427),p=r(66697),h=r(75290),u=r(54659),y=r(31540),g=r(90434),v=r(35396),b=r(61867),j=r(61824),N=r(6042);function f(){let e=(0,t.useParams)(),a=(0,t.useRouter)(),r=e.id,{evaluations:f,getEvaluationById:k}=(0,v.q)(),[w,Z]=(0,l.useState)(!1),[P,M]=(0,l.useState)(!1),[A,C]=(0,l.useState)(null),D=k(r),_=async()=>{Z(!0),C(null);try{await new Promise(e=>setTimeout(e,2e3)),M(!0)}catch(e){C("Erro ao gerar PDF. Tente novamente.")}finally{Z(!1)}},q=async()=>{if(navigator.share)try{await navigator.share({title:"Avalia\xe7\xe3o M\xe3os Amigas",text:`Avalia\xe7\xe3o de ${D?.patient.fullName||"Paciente"}`,url:window.location.href})}catch(e){}else navigator.clipboard.writeText(window.location.href),alert("Link copiado para a \xe1rea de transfer\xeancia!")};return D?(0,s.jsxs)("div",{className:"min-h-screen pb-24",style:{backgroundColor:"rgb(var(--color-bg))"},children:[s.jsx("div",{className:"sticky top-0 z-10 bg-white dark:bg-neutral-900 border-b border-neutral-200 dark:border-neutral-700",children:s.jsx("div",{className:"container-mobile py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>a.back(),className:"p-2 -ml-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800",children:s.jsx(i.Z,{className:"w-5 h-5",style:{color:"rgb(var(--color-text))"}})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"font-semibold",style:{color:"rgb(var(--color-text))"},children:"Gerar PDF"}),(0,s.jsxs)("p",{className:"text-sm",style:{color:"rgb(var(--color-text-secondary))"},children:["Avalia\xe7\xe3o #",r.slice(0,8)]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:q,className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800",children:s.jsx(n,{className:"w-5 h-5",style:{color:"rgb(var(--color-text-secondary))"}})}),s.jsx("button",{onClick:()=>{window.print()},className:"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800",children:s.jsx(d.Z,{className:"w-5 h-5",style:{color:"rgb(var(--color-text-secondary))"}})})]})]})})}),(0,s.jsxs)("div",{className:"container-mobile py-6 space-y-6",children:[(0,s.jsxs)(c.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"card print:shadow-none",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 pb-4 border-b border-neutral-200 dark:border-neutral-700",children:[s.jsx("div",{className:"w-16 h-16 bg-brand-500 rounded-xl flex items-center justify-center",children:s.jsx("span",{className:"text-white text-2xl font-bold",children:"MA"})}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-bold",style:{color:"rgb(var(--color-text))"},children:"M\xe3os Amigas Home Care"}),s.jsx("p",{className:"text-sm",style:{color:"rgb(var(--color-text-secondary))"},children:"Relat\xf3rio de Avalia\xe7\xe3o Domiciliar"}),(0,s.jsxs)("p",{className:"text-xs mt-1",style:{color:"rgb(var(--color-text-secondary))"},children:["Gerado em ",(0,j.WU)(new Date,"dd 'de' MMMM 'de' yyyy",{locale:N.F})]})]})]}),(0,s.jsxs)("div",{className:"py-4 border-b border-neutral-200 dark:border-neutral-700",children:[(0,s.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",style:{color:"rgb(var(--color-text))"},children:[s.jsx(x.Z,{className:"w-5 h-5 text-brand-500"}),"Dados do Paciente"]}),(0,s.jsxs)("div",{className:"grid sm:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wide",style:{color:"rgb(var(--color-text-secondary))"},children:"Nome Completo"}),s.jsx("p",{className:"font-medium",style:{color:"rgb(var(--color-text))"},children:D.patient.fullName||"N\xe3o informado"})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wide",style:{color:"rgb(var(--color-text-secondary))"},children:"Data de Nascimento"}),s.jsx("p",{className:"font-medium",style:{color:"rgb(var(--color-text))"},children:D.patient.birthDate?(0,j.WU)(new Date(D.patient.birthDate),"dd/MM/yyyy"):"N\xe3o informado"})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wide",style:{color:"rgb(var(--color-text-secondary))"},children:"CPF"}),s.jsx("p",{className:"font-medium",style:{color:"rgb(var(--color-text))"},children:D.patient.cpf||"N\xe3o informado"})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wide",style:{color:"rgb(var(--color-text-secondary))"},children:"Estado Civil"}),s.jsx("p",{className:"font-medium",style:{color:"rgb(var(--color-text))"},children:D.patient.maritalStatus||"N\xe3o informado"})]})]})]}),(0,s.jsxs)("div",{className:"py-4 border-b border-neutral-200 dark:border-neutral-700",children:[(0,s.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",style:{color:"rgb(var(--color-text))"},children:[s.jsx(m.Z,{className:"w-5 h-5 text-error-500"}),"Informa\xe7\xf5es de Sa\xfade"]}),(0,s.jsxs)("div",{className:"grid sm:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wide",style:{color:"rgb(var(--color-text-secondary))"},children:"Score KATZ"}),s.jsx("p",{className:"font-medium",style:{color:"rgb(var(--color-text))"},children:D.results?.katzScore??"N\xe3o calculado"})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wide",style:{color:"rgb(var(--color-text-secondary))"},children:"Score ABEMID"}),s.jsx("p",{className:"font-medium",style:{color:"rgb(var(--color-text))"},children:D.results?.abemidScore??"N\xe3o calculado"})]})]})]}),(0,s.jsxs)("div",{className:"pt-4",children:[(0,s.jsxs)("h3",{className:"font-semibold mb-3 flex items-center gap-2",style:{color:"rgb(var(--color-text))"},children:[s.jsx(p.Z,{className:"w-5 h-5 text-brand-500"}),"Status da Avalia\xe7\xe3o"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:(0,b.cn)("badge","completed"===D.status?"bg-success-100 text-success-700":"in_progress"===D.status?"bg-warning-100 text-warning-700":"bg-neutral-100 text-neutral-600"),children:"completed"===D.status?"Conclu\xedda":"in_progress"===D.status?"Em Andamento":"Rascunho"}),(0,s.jsxs)("span",{className:"text-sm",style:{color:"rgb(var(--color-text-secondary))"},children:["Atualizado em ",(0,j.WU)(new Date(D.updatedAt),"dd/MM/yyyy '\xe0s' HH:mm")]})]})]})]}),(0,s.jsxs)(c.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"space-y-3",children:[P?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"card bg-success-50 dark:bg-success-900/20 border border-success-200 dark:border-success-800",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx(u.Z,{className:"w-6 h-6 text-success-600"}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"font-medium text-success-700 dark:text-success-400",children:"PDF gerado com sucesso!"}),s.jsx("p",{className:"text-sm text-success-600 dark:text-success-500",children:"O documento est\xe1 pronto para download."})]})]})}),(0,s.jsxs)("button",{onClick:()=>{let e=document.createElement("a");e.href="#",e.download=`avaliacao-${r}.pdf`,alert("PDF baixado com sucesso! (simula\xe7\xe3o)")},className:"w-full btn-primary py-4 text-lg",children:[s.jsx(y.Z,{className:"w-5 h-5 mr-2"}),"Baixar PDF"]}),s.jsx("button",{onClick:()=>M(!1),className:"w-full btn-secondary",children:"Gerar novamente"})]}):s.jsx("button",{onClick:_,disabled:w,className:"w-full btn-primary py-4 text-lg",children:w?(0,s.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(h.Z,{className:"w-5 h-5 animate-spin"}),"Gerando PDF..."]}):(0,s.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(o.Z,{className:"w-5 h-5"}),"Gerar PDF da Avalia\xe7\xe3o"]})}),A&&s.jsx("div",{className:"p-4 bg-error-50 dark:bg-error-900/20 border border-error-200 dark:border-error-800 rounded-xl",children:s.jsx("p",{className:"text-error-700 dark:text-error-400",children:A})})]}),s.jsx(c.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center text-sm",style:{color:"rgb(var(--color-text-secondary))"},children:s.jsx("p",{children:"O PDF inclui todas as informa\xe7\xf5es do paciente, escalas de avalia\xe7\xe3o, proposta financeira e contrato."})})]})]}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"rgb(var(--color-bg))"},children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx(o.Z,{className:"w-16 h-16 mx-auto mb-4 text-neutral-300"}),s.jsx("h2",{className:"text-lg font-semibold mb-2",style:{color:"rgb(var(--color-text))"},children:"Avalia\xe7\xe3o n\xe3o encontrada"}),s.jsx("p",{className:"mb-4",style:{color:"rgb(var(--color-text-secondary))"},children:"A avalia\xe7\xe3o solicitada n\xe3o existe ou foi removida."}),s.jsx(g.default,{href:"/avaliacao",className:"btn-primary",children:"Voltar \xe0s avalia\xe7\xf5es"})]})})}},87223:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`C:\Users\dramo\.gemini\antigravity\scratch\maos-amigas-avaliacao\src\app\avaliacao\[id]\pdf\page.tsx#default`)}};var a=require("../../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),s=a.X(0,[8948,5121,2822,434,1824,7815],()=>r(62143));module.exports=s})();