exports.id=7815,exports.ids=[7815],exports.modules={60951:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,12994,23)),Promise.resolve().then(a.t.bind(a,96114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,79671,23)),Promise.resolve().then(a.t.bind(a,41868,23)),Promise.resolve().then(a.t.bind(a,84759,23))},45995:(e,t,a)=>{Promise.resolve().then(a.bind(a,34426))},34426:(e,t,a)=>{"use strict";a.d(t,{Providers:()=>j});var n=a(10326),i=a(17577),s=a(61867),r=a(54659),o=a(87888),l=a(37202),c=a(18019),u=a(94019);let d=(0,i.createContext)(null),p={success:r.Z,error:o.Z,warning:l.Z,info:c.Z},m={success:"bg-success-50 border-success-200 text-success-800",error:"bg-danger-50 border-danger-200 text-danger-800",warning:"bg-warning-50 border-warning-200 text-warning-800",info:"bg-brand-50 border-brand-200 text-brand-800"},v={success:"text-success-500",error:"text-danger-500",warning:"text-warning-500",info:"text-brand-500"};function g({toast:e,onClose:t}){let a=p[e.type];return(0,n.jsxs)("div",{className:(0,s.cn)("flex items-start gap-3 p-4 rounded-xl border shadow-lg animate-slide-in",m[e.type]),children:[n.jsx(a,{className:(0,s.cn)("w-5 h-5 flex-shrink-0 mt-0.5",v[e.type])}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"font-semibold",children:e.title}),e.message&&n.jsx("p",{className:"text-sm opacity-80 mt-0.5",children:e.message})]}),n.jsx("button",{onClick:t,className:"p-1 rounded-lg hover:bg-black/5 transition-colors",children:n.jsx(u.Z,{className:"w-4 h-4"})})]})}function h({children:e}){let[t,a]=(0,i.useState)([]),s=(0,i.useCallback)(e=>{let t=Math.random().toString(36).slice(2,9),n={...e,id:t};a(e=>[...e,n]);let i=e.duration??5e3;i>0&&setTimeout(()=>{a(e=>e.filter(e=>e.id!==t))},i)},[]),r=(0,i.useCallback)(e=>{a(t=>t.filter(t=>t.id!==e))},[]);return(0,n.jsxs)(d.Provider,{value:{toasts:t,addToast:s,removeToast:r},children:[e,n.jsx("div",{className:"fixed bottom-20 left-4 right-4 z-50 space-y-2 pointer-events-none",children:t.map(e=>n.jsx("div",{className:"pointer-events-auto",children:n.jsx(g,{toast:e,onClose:()=>r(e.id)})},e.id))})]})}var w=a(94001),f=a(10049),E=a(35396);let y=(0,i.createContext)(null),A=["Descoberta","Perfil do Paciente","Hist\xf3rico de Sa\xfade","Avalia\xe7\xe3o Cl\xednica (ABEMID)","Independ\xeancia (Katz)","Responsabilidades","Frequ\xeancia e Hor\xe1rio","Proposta"];function S({children:e}){let t=(0,E.q)(),a=t.getCurrentEvaluation(),s=(t.currentStep+1)/t.totalSteps*100,r=A[t.currentStep]||"",o=t.currentStep<t.totalSteps-1,l=t.currentStep>0,c=(0,i.useCallback)(()=>t.createEvaluation("evaluator-1"),[t]),u=(0,i.useCallback)(()=>{t.nextStep()},[t]),d={currentEvaluation:a,currentStep:t.currentStep,totalSteps:t.totalSteps,isLoading:!1,nextStep:t.nextStep,prevStep:t.prevStep,goToStep:t.goToStep,canGoNext:o,canGoPrev:l,progress:s,stepName:r,startNewEvaluation:c,saveAndContinue:u};return n.jsx(y.Provider,{value:d,children:e})}var D=a(43226),x=a(88129),b=a(30058),C=a(48998),k=a(21405);function V(){let{showSessionWarning:e,sessionExpiresIn:t,extendSession:a}=(0,w.aC)();return n.jsx(x.M,{children:e&&t&&n.jsx(b.E.div,{initial:{opacity:0,y:-100},animate:{opacity:1,y:0},exit:{opacity:0,y:-100},className:"fixed top-0 left-0 right-0 z-50 p-4 bg-warning-500 text-white",children:(0,n.jsxs)("div",{className:"container-mobile flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[n.jsx(C.Z,{className:"w-5 h-5"}),(0,n.jsxs)("div",{children:[n.jsx("p",{className:"font-medium",children:"Sess\xe3o expirando"}),(0,n.jsxs)("p",{className:"text-sm text-warning-100",children:["Tempo restante: ",`${Math.floor(t/6e4)}:${Math.floor(t%6e4/1e3).toString().padStart(2,"0")}`]})]})]}),(0,n.jsxs)(b.E.button,{whileTap:{scale:.95},onClick:a,className:"flex items-center gap-2 px-4 py-2 bg-white text-warning-600 rounded-lg font-medium",children:[n.jsx(k.Z,{className:"w-4 h-4"}),"Estender"]})]})})})}function j({children:e}){return n.jsx(f.f6,{defaultTheme:"system",children:n.jsx(D.g,{children:n.jsx(w.Ho,{children:n.jsx(S,{children:(0,n.jsxs)(h,{children:[e,n.jsx(V,{})]})})})})})}},94001:(e,t,a)=>{"use strict";a.d(t,{Ho:()=>l,QL:()=>u,aC:()=>c});var n=a(10326),i=a(17577),s=a(35047),r=a(79171);let o=(0,i.createContext)(null);function l({children:e}){let t=(0,s.useRouter)();(0,s.usePathname)(),function(){let[e,t]=(0,i.useState)(!1)}();let a=(0,r.t)(),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(null),[p,m]=(0,i.useState)(!1),v=(0,i.useCallback)(async e=>{let n=await a.loginWithPin(e);return n.success&&t.push("/"),n},[a,t]),g=(0,i.useCallback)(()=>{a.logout(),t.push("/login")},[a,t]),h=(0,i.useCallback)(()=>{a.refreshSession(),c(!1)},[a]),w=(0,i.useCallback)(e=>a.hasPermission(e),[a]),f={user:a.getCurrentUser(),isAuthenticated:a.isAuthenticated,isLoading:!p,permissions:a.getPermissions(),login:v,logout:g,hasPermission:w,showSessionWarning:l,sessionExpiresIn:u,extendSession:h};return n.jsx(o.Provider,{value:f,children:e})}function c(){let e=(0,i.useContext)(o);if(!e)throw Error("useAuth deve ser usado dentro de AuthProvider");return e}function u(e){let{isAuthenticated:t,isLoading:a,hasPermission:n}=c();return(0,s.useRouter)(),{isLoading:a,isAuthorized:t&&(!e||n(e))}}},43226:(e,t,a)=>{"use strict";a.d(t,{g:()=>r,j:()=>o});var n=a(10326),i=a(17577);let s=(0,i.createContext)(null);function r({children:e}){let[t,a]=(0,i.useState)(!0),[r,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(0),[u,d]=(0,i.useState)(null),p=async()=>{d(new Date),c(0)};return n.jsx(s.Provider,{value:{isOnline:t,isOfflineReady:r,pendingSyncs:l,lastSyncTime:u,forceSync:p},children:e})}function o(){let e=(0,i.useContext)(s);if(!e)throw Error("useOffline deve ser usado dentro de OfflineProvider");return e}},10049:(e,t,a)=>{"use strict";a.d(t,{Fg:()=>o,f6:()=>r});var n=a(10326),i=a(17577);let s=(0,i.createContext)(void 0);function r({children:e,defaultTheme:t="system"}){let[a,r]=(0,i.useState)(t),[o,l]=(0,i.useState)("light"),[c,u]=(0,i.useState)(!1),d=(0,i.useCallback)(()=>"light",[]),p=(0,i.useCallback)(e=>"system"===e?d():e,[d]),m=(0,i.useCallback)(e=>{let t=document.documentElement;t.classList.remove("light","dark"),t.classList.add(e),t.style.colorScheme=e},[]),v=(0,i.useCallback)(e=>{r(e),localStorage.setItem("maos-amigas-theme",e);let t=p(e);l(t),m(t)},[p,m]),g=(0,i.useCallback)(()=>{v("dark"===o?"light":"dark")},[o,v]);return c?n.jsx(s.Provider,{value:{theme:a,resolvedTheme:o,setTheme:v,toggleTheme:g},children:e}):n.jsx(s.Provider,{value:{theme:"system",resolvedTheme:"light",setTheme:()=>{},toggleTheme:()=>{}},children:e})}function o(){let e=(0,i.useContext)(s);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},23005:(e,t,a)=>{"use strict";async function n(){let e=new Uint8Array(16);return crypto.getRandomValues(e),Array.from(e,e=>e.toString(16).padStart(2,"0")).join("")}async function i(e,t){let a=t||await n(),i=new TextEncoder,s=i.encode(e),r=i.encode(a),o=await crypto.subtle.importKey("raw",s,"PBKDF2",!1,["deriveBits"]);return{hash:Array.from(new Uint8Array(await crypto.subtle.deriveBits({name:"PBKDF2",salt:r,iterations:1e5,hash:"SHA-256"},o,256)),e=>e.toString(16).padStart(2,"0")).join(""),salt:a}}async function s(e,t,a){let{hash:n}=await i(e,a);return n===t}function r(){let e=new Uint8Array(32);return crypto.getRandomValues(e),Array.from(e,e=>e.toString(16).padStart(2,"0")).join("")}function o(){let e="maos-amigas-device-id",t=localStorage.getItem(e);if(!t){let a=new Uint8Array(16);crypto.getRandomValues(a),t=Array.from(a,e=>e.toString(16).padStart(2,"0")).join(""),localStorage.setItem(e,t)}return t}a.d(t,{LC:()=>r,ni:()=>o,vj:()=>s,xM:()=>i})},61867:(e,t,a)=>{"use strict";a.d(t,{cn:()=>s});var n=a(41135),i=a(31009);function s(...e){return(0,i.m6)((0,n.W)(e))}},79171:(e,t,a)=>{"use strict";a.d(t,{t:()=>l});var n=a(60114),i=a(85251),s=a(47463);let r={admin:{canCreateEvaluation:!0,canEditOwnEvaluation:!0,canEditAnyEvaluation:!0,canDeleteEvaluation:!0,canViewAllEvaluations:!0,canManageUsers:!0,canViewUserDetails:!0,canExportData:!0,canViewReports:!0,canViewFinancials:!0,canAccessSettings:!0,canViewAuditLog:!0,canManageTemplates:!0},supervisor:{canCreateEvaluation:!0,canEditOwnEvaluation:!0,canEditAnyEvaluation:!0,canDeleteEvaluation:!1,canViewAllEvaluations:!0,canManageUsers:!1,canViewUserDetails:!0,canExportData:!0,canViewReports:!0,canViewFinancials:!1,canAccessSettings:!1,canViewAuditLog:!0,canManageTemplates:!1},evaluator:{canCreateEvaluation:!0,canEditOwnEvaluation:!0,canEditAnyEvaluation:!1,canDeleteEvaluation:!1,canViewAllEvaluations:!1,canManageUsers:!1,canViewUserDetails:!1,canExportData:!1,canViewReports:!1,canViewFinancials:!1,canAccessSettings:!1,canViewAuditLog:!1,canManageTemplates:!1},client:{canCreateEvaluation:!1,canEditOwnEvaluation:!1,canEditAnyEvaluation:!1,canDeleteEvaluation:!1,canViewAllEvaluations:!1,canManageUsers:!1,canViewUserDetails:!1,canExportData:!1,canViewReports:!1,canViewFinancials:!0,canAccessSettings:!1,canViewAuditLog:!1,canManageTemplates:!1},caregiver:{canCreateEvaluation:!1,canEditOwnEvaluation:!0,canEditAnyEvaluation:!1,canDeleteEvaluation:!1,canViewAllEvaluations:!1,canManageUsers:!1,canViewUserDetails:!1,canExportData:!1,canViewReports:!1,canViewFinancials:!1,canAccessSettings:!1,canViewAuditLog:!1,canManageTemplates:!1},nurse:{canCreateEvaluation:!0,canEditOwnEvaluation:!0,canEditAnyEvaluation:!1,canDeleteEvaluation:!1,canViewAllEvaluations:!1,canManageUsers:!1,canViewUserDetails:!0,canExportData:!1,canViewReports:!0,canViewFinancials:!1,canAccessSettings:!1,canViewAuditLog:!1,canManageTemplates:!1},nurse_tech:{canCreateEvaluation:!1,canEditOwnEvaluation:!0,canEditAnyEvaluation:!1,canDeleteEvaluation:!1,canViewAllEvaluations:!1,canManageUsers:!1,canViewUserDetails:!1,canExportData:!1,canViewReports:!1,canViewFinancials:!1,canAccessSettings:!1,canViewAuditLog:!1,canManageTemplates:!1},physiotherapist:{canCreateEvaluation:!0,canEditOwnEvaluation:!0,canEditAnyEvaluation:!1,canDeleteEvaluation:!1,canViewAllEvaluations:!1,canManageUsers:!1,canViewUserDetails:!0,canExportData:!1,canViewReports:!0,canViewFinancials:!1,canAccessSettings:!1,canViewAuditLog:!1,canManageTemplates:!1},nutritionist:{canCreateEvaluation:!0,canEditOwnEvaluation:!0,canEditAnyEvaluation:!1,canDeleteEvaluation:!1,canViewAllEvaluations:!1,canManageUsers:!1,canViewUserDetails:!0,canExportData:!1,canViewReports:!0,canViewFinancials:!1,canAccessSettings:!1,canViewAuditLog:!1,canManageTemplates:!1},psychologist:{canCreateEvaluation:!0,canEditOwnEvaluation:!0,canEditAnyEvaluation:!1,canDeleteEvaluation:!1,canViewAllEvaluations:!1,canManageUsers:!1,canViewUserDetails:!0,canExportData:!1,canViewReports:!0,canViewFinancials:!1,canAccessSettings:!1,canViewAuditLog:!1,canManageTemplates:!1},speech_therapist:{canCreateEvaluation:!0,canEditOwnEvaluation:!0,canEditAnyEvaluation:!1,canDeleteEvaluation:!1,canViewAllEvaluations:!1,canManageUsers:!1,canViewUserDetails:!0,canExportData:!1,canViewReports:!0,canViewFinancials:!1,canAccessSettings:!1,canViewAuditLog:!1,canManageTemplates:!1},occupational_therapist:{canCreateEvaluation:!0,canEditOwnEvaluation:!0,canEditAnyEvaluation:!1,canDeleteEvaluation:!1,canViewAllEvaluations:!1,canManageUsers:!1,canViewUserDetails:!0,canExportData:!1,canViewReports:!0,canViewFinancials:!1,canAccessSettings:!1,canViewAuditLog:!1,canManageTemplates:!1},physician:{canCreateEvaluation:!0,canEditOwnEvaluation:!0,canEditAnyEvaluation:!0,canDeleteEvaluation:!1,canViewAllEvaluations:!0,canManageUsers:!1,canViewUserDetails:!0,canExportData:!0,canViewReports:!0,canViewFinancials:!1,canAccessSettings:!1,canViewAuditLog:!1,canManageTemplates:!0}};var o=a(23005);let l=(0,n.Ue)()((0,i.tJ)((e,t)=>({session:null,isAuthenticated:!1,isLoading:!1,_hasHydrated:!1,users:{},userSalts:{},loginAttempts:[],accountLocks:{},lastActivityAt:null,setHasHydrated:t=>{e({_hasHydrated:t})},loginWithPin:async(a,n)=>{e({isLoading:!0});try{let{users:i,userSalts:s,accountLocks:r,loginAttempts:l}=t(),c=(0,o.ni)(),u=n,d=null;if(u)d=i[u]||null;else for(let[e,t]of Object.entries(i)){let n=s[e];if(n&&await (0,o.vj)(a,t.pinHash,n)){d=t,u=e;break}}if(!d||!u){let t={timestamp:new Date,identifier:"unknown",success:!1,deviceId:c,failureReason:"invalid_pin"};return e({isLoading:!1,loginAttempts:[...l,t]}),{success:!1,error:{code:"invalid_credentials",message:"PIN inv\xe1lido"}}}let p=r[u];if(p&&new Date<new Date(p.unlocksAt))return e({isLoading:!1}),{success:!1,error:{code:"account_locked",message:`Conta bloqueada. Tente novamente em ${Math.ceil((new Date(p.unlocksAt).getTime()-Date.now())/6e4)} minutos`,lockedUntil:new Date(p.unlocksAt)}};if("active"!==d.status)return e({isLoading:!1}),{success:!1,error:{code:"account_inactive",message:"Conta inativa. Entre em contato com o administrador"}};let m=s[u];if(!await (0,o.vj)(a,d.pinHash,m)){let t=l.filter(e=>e.userId===u&&!e.success&&Date.now()-new Date(e.timestamp).getTime()<9e5).length+1,a={timestamp:new Date,userId:u,identifier:d.email,success:!1,deviceId:c,failureReason:"invalid_pin"};if(t>=5){let n={userId:u,lockedAt:new Date,unlocksAt:new Date(Date.now()+9e5),reason:"too_many_attempts",attemptCount:t};return e({isLoading:!1,loginAttempts:[...l,a],accountLocks:{...r,[u]:n}}),{success:!1,error:{code:"account_locked",message:"Muitas tentativas incorretas. Conta bloqueada por 15 minutos",lockedUntil:n.unlocksAt},remainingAttempts:0}}return e({isLoading:!1,loginAttempts:[...l,a]}),{success:!1,error:{code:"invalid_credentials",message:"PIN incorreto"},remainingAttempts:5-t}}let v=(0,o.LC)(),g=new Date,h={userId:u,user:d,token:v,expiresAt:new Date(g.getTime()+288e5),createdAt:g,deviceId:c,isOfflineSession:!navigator.onLine},w={timestamp:g,userId:u,identifier:d.email,success:!0,deviceId:c},f={...d,lastLoginAt:g},{[u]:E,...y}=r;return e({session:h,isAuthenticated:!0,isLoading:!1,lastActivityAt:g,loginAttempts:[...l,w],accountLocks:y,users:{...t().users,[u]:f}}),{success:!0,session:h}}catch(t){return e({isLoading:!1}),{success:!1,error:{code:"network_error",message:"Erro ao processar login. Tente novamente."}}}},loginWithEmail:async(a,n)=>{e({isLoading:!0});let{users:i}=t(),s=Object.values(i).find(e=>e.email===a);return s&&s.passwordHash?t().loginWithPin(n,s.id):(e({isLoading:!1}),{success:!1,error:{code:"invalid_credentials",message:"Email ou senha inv\xe1lidos"}})},logout:()=>{e({session:null,isAuthenticated:!1,lastActivityAt:null})},refreshSession:()=>{let{session:a}=t();if(!a)return;let n=new Date;e({session:{...a,expiresAt:new Date(n.getTime()+288e5)},lastActivityAt:n})},createUser:async(a,n)=>{let{users:i,userSalts:r}=t();if(Object.values(i).some(e=>e.email===a.email))throw Error("Email j\xe1 cadastrado");if(Object.values(i).some(e=>e.cpf===a.cpf))throw Error("CPF j\xe1 cadastrado");let{hash:l,salt:c}=await (0,o.xM)(a.initialPin),u=(0,s.Z)(),d=new Date,p={id:u,fullName:a.fullName,email:a.email,phone:a.phone,cpf:a.cpf,pinHash:l,role:a.role,status:"active",registrationNumber:a.registrationNumber,specialization:a.specialization,createdAt:d,updatedAt:d,createdBy:n,preferences:{autoLogoutMinutes:30,keepLoggedIn:!1,notifyOnSync:!0,notifyOnAssignment:!0,hapticFeedback:!0,fontSize:"medium",highContrast:!1},stats:{totalEvaluations:0,evaluationsThisMonth:0,averageEvaluationTime:0}};return e({users:{...i,[u]:p},userSalts:{...r,[u]:c}}),p},updateUser:async(a,n)=>{let{users:i,session:s}=t(),r=i[a];if(!r)throw Error("Usu\xe1rio n\xe3o encontrado");let o={...r,...n,preferences:n.preferences?{...r.preferences,...n.preferences}:r.preferences,updatedAt:new Date},l=s?.userId===a?{...s,user:o}:s;return e({users:{...i,[a]:o},session:l}),o},deleteUser:async a=>{let{users:n}=t(),i=n[a];if(!i)throw Error("Usu\xe1rio n\xe3o encontrado");if("admin"===i.role)throw Error("N\xe3o \xe9 poss\xedvel deletar administradores");let s={...i,status:"inactive",updatedAt:new Date};e({users:{...n,[a]:s}})},changePin:async(a,n,i)=>{let{users:s,userSalts:r}=t(),l=s[a],c=r[a];if(!l||!c)throw Error("Usu\xe1rio n\xe3o encontrado");if(!await (0,o.vj)(n,l.pinHash,c))return!1;let{hash:u,salt:d}=await (0,o.xM)(i),p={...l,pinHash:u,updatedAt:new Date};return e({users:{...s,[a]:p},userSalts:{...r,[a]:d}}),!0},resetPin:async(a,n)=>{let{users:i,userSalts:s,session:r}=t();if(r?.user.role!=="admin")throw Error("Apenas administradores podem resetar PINs");let l=i[a];if(!l)throw Error("Usu\xe1rio n\xe3o encontrado");let{hash:c,salt:u}=await (0,o.xM)(n),d={...l,pinHash:c,updatedAt:new Date};return e({users:{...i,[a]:d},userSalts:{...s,[a]:u}}),!0},checkSession:()=>{let{session:e,lastActivityAt:a}=t();if(!e)return!1;if(new Date>new Date(e.expiresAt))return t().logout(),!1;if(a){let n=(Date.now()-new Date(a).getTime())/6e4,i=e.user.preferences.autoLogoutMinutes;if(i>0&&n>i)return t().logout(),!1}return!0},getPermissions:()=>{let{session:e}=t();return e?r[e.user.role]:null},hasPermission:e=>{let a=t().getPermissions();return!!a&&a[e]},isAccountLocked:e=>{let{accountLocks:a}=t(),n=a[e];return!n||new Date>new Date(n.unlocksAt)?null:n},getCurrentUser:()=>{let{session:e}=t();return e?.user||null},getUserById:e=>t().users[e]||null,getAllUsers:()=>Object.values(t().users),getUsersByRole:e=>Object.values(t().users).filter(t=>t.role===e),recordActivity:()=>{e({lastActivityAt:new Date})},checkInactivity:()=>{let{session:e,lastActivityAt:a}=t();if(!e||!a)return!1;let n=(Date.now()-new Date(a).getTime())/6e4,i=e.user.preferences.autoLogoutMinutes;return i>0&&n>i}}),{name:"maos-amigas-auth",storage:(0,i.FL)(()=>localStorage),partialize:e=>({users:e.users,userSalts:e.userSalts,session:e.session,isAuthenticated:e.isAuthenticated,accountLocks:e.accountLocks}),onRehydrateStorage:()=>e=>{e&&((e.setHasHydrated(!0),e.session)?new Date>new Date(e.session.expiresAt)?l.setState({session:null,isAuthenticated:!1,_hasHydrated:!0}):l.setState({isAuthenticated:!0,_hasHydrated:!0}):l.setState({_hasHydrated:!0}))}}))},35396:(e,t,a)=>{"use strict";a.d(t,{q:()=>w});var n=a(60114),i=a(85251),s=a(47463);let r={triggerEvent:"",triggerCategory:"",triggerDetails:"",urgencyLevel:"",referralSource:"",initialExpectations:"",familyDecisionMaker:"",budgetRange:"",currentCaregiver:"",familyBurdenLevel:5,concerns:[],mainConcern:"",previousExperience:"",previousIssues:[],previousIssueDetails:"",notes:""},o={fullName:"",preferredName:"",birthDate:new Date,age:0,cpf:"",phone:"",cep:"",address:"",addressNumber:"",addressComplement:"",neighborhood:"",city:"",state:"",maritalStatus:"single",previousOccupation:"",hobbies:[],otherHobbies:"",temperament:"calm",preferences:[],otherPreferences:"",wakeUpTime:"07:00",breakfastTime:"08:00",lunchTime:"12:00",takesNap:!1,dinnerTime:"19:00",bedTime:"21:00",sleepQuality:"good",nightWakeups:0},l={neurologicalConditions:[],cardiovascularConditions:[],respiratoryConditions:[],mobilityConditions:[],otherConditions:[],recentHospitalizations:!1,recentFalls:"none",recentSurgery:!1,medicationCount:"1-3",specialMedications:[],hasAllergies:!1,medicationAllergies:"",foodAllergies:"",latexAllergy:!1,otherAllergies:"",dietaryRestrictions:[],otherDietaryRestrictions:""},c={consciousness:0,breathing:0,feeding:0,mobility:0,skinCare:0,skin:0,procedures:0,medications:0,medication:0,monitoring:0,elimination:0,activeTriggers:[],notes:""},u={bathing:1,bathingDetails:[],dressing:1,dressingDetails:[],toileting:1,toiletingDetails:[],transferring:1,transferringDetails:[],mobilityAids:[],continence:1,continenceDetails:[],feeding:1,feedingDetails:[],totalScore:6,classification:"A",complexityMultiplier:1},d={medicationManagement:"capable",medicationSeparation:"family_separates",medicationAdministration:"self_administered",supplyProvision:"family",supplyList:[],mealPreparation:"family_prepares",hasSpecialDiet:!1,houseworkScope:!1,clausesToGenerate:[]},p={circulation:{looseRugs:!1,exposedWires:!1,obstructedPaths:!1,slipperyFloors:!1,poorLighting:!1},bathroom:{noGrabBarsShower:!1,noGrabBarsToilet:!1,slipperyShowerFloor:!1,lowToilet:!1,noNonSlipMat:!1,noShowerChair:!1},bedroom:{bedTooLow:!1,bedTooHigh:!1,noSideAccess:!1,noNightLight:!1,inadequateMattress:!1},hasStairs:!1,totalRisks:0,criticalRisks:0,riskList:[],familyPosition:"will_adapt_all",adaptationsCommitted:[],photos:[]},m={startTime:"07:00",endTime:"19:00",totalHoursPerDay:12,shiftType:"day",weekDays:["mon","tue","wed","thu","fri"],shiftsPerMonth:20,startDate:new Date,contractType:"indefinite"},v={abemidScore:0,abemidTriggers:[],indicatedProfessional:"caregiver",professionalJustification:"",katzScore:6,katzClassification:"A",complexityMultiplier:1,complexityJustification:"",totalRisks:0,criticalRisks:0,riskAssumptionRequired:!1,pricing:{baseHourlyRate:0,complexityMultiplier:1,nightShiftMultiplier:1,weekendMultiplier:1,dailyCost:0,monthlyCost:0,taxes:0,totalMonthly:0},requiredClauses:[],urgencyLevel:"low",urgencyFactors:[],recommendations:[],upsellOpportunities:[]},g={evaluatorId:"",evaluatorName:"",evaluatorRole:"",evaluatorEmail:"",evaluatorPhone:"",branchOffice:"",evaluationStartTime:new Date,evaluationLocation:"",evaluationNotes:""},h={documentType:"rg",documentNumber:"",documentIssuer:"",documentFrontPhoto:"",documentBackPhoto:"",verificationStatus:"pending",verificationNotes:"",consentGiven:!1},w=(0,n.Ue)()((0,i.tJ)((e,t)=>({currentEvaluationId:null,currentStep:0,totalSteps:10,evaluations:{},setCurrentStep:t=>e({currentStep:t}),nextStep:()=>{let{currentStep:a,totalSteps:n}=t();a<n-1&&e({currentStep:a+1})},prevStep:()=>{let{currentStep:a}=t();a>0&&e({currentStep:a-1})},goToStep:a=>{let{totalSteps:n}=t();a>=0&&a<n&&e({currentStep:a})},createEvaluation:t=>{let a=(0,s.Z)(),n=new Date,i={id:a,status:"draft",createdAt:n,updatedAt:n,evaluatorId:t,discovery:r,patient:o,healthHistory:l,abemid:c,katz:u,lawton:d,safetyChecklist:p,schedule:m,evaluatorInfo:g,kyc:h,results:v,proposal:{},contract:{}};return e(e=>({evaluations:{...e.evaluations,[a]:i},currentEvaluationId:a,currentStep:0})),a},loadEvaluation:a=>{t().evaluations[a]&&e({currentEvaluationId:a,currentStep:0})},updateEvaluation:(t,a)=>{e(e=>{let n=e.evaluations[t];return n?{evaluations:{...e.evaluations,[t]:{...n,...a,updatedAt:new Date}}}:e})},deleteEvaluation:t=>{e(e=>{let{[t]:a,...n}=e.evaluations;return{evaluations:n,currentEvaluationId:e.currentEvaluationId===t?null:e.currentEvaluationId}})},updateDiscovery:a=>{let{currentEvaluationId:n,evaluations:i}=t();if(!n)return;let s=i[n];s&&e(e=>({evaluations:{...e.evaluations,[n]:{...s,discovery:{...s.discovery,...a},updatedAt:new Date}}}))},updatePatient:a=>{let{currentEvaluationId:n,evaluations:i}=t();if(!n)return;let s=i[n];if(!s)return;let r={...a};if(a.birthDate){let e=a.birthDate instanceof Date?a.birthDate:new Date(a.birthDate);if(!isNaN(e.getTime())){let t=new Date,a=t.getFullYear()-e.getFullYear(),n=t.getMonth()-e.getMonth();(n<0||0===n&&t.getDate()<e.getDate())&&a--,a>=0&&a<=120&&(r={...r,age:a,birthDate:e})}}e(e=>({evaluations:{...e.evaluations,[n]:{...s,patient:{...s.patient,...r},updatedAt:new Date}}}))},updateHealthHistory:a=>{let{currentEvaluationId:n,evaluations:i}=t();if(!n)return;let s=i[n];s&&e(e=>({evaluations:{...e.evaluations,[n]:{...s,healthHistory:{...s.healthHistory,...a},updatedAt:new Date}}}))},updateAbemid:a=>{let{currentEvaluationId:n,evaluations:i}=t();if(!n)return;let s=i[n];s&&e(e=>({evaluations:{...e.evaluations,[n]:{...s,abemid:{...s.abemid,...a},updatedAt:new Date}}}))},updateKatz:a=>{let{currentEvaluationId:n,evaluations:i}=t();if(!n)return;let s=i[n];s&&e(e=>({evaluations:{...e.evaluations,[n]:{...s,katz:{...s.katz,...a},updatedAt:new Date}}}))},updateLawton:a=>{let{currentEvaluationId:n,evaluations:i}=t();if(!n)return;let s=i[n];s&&e(e=>({evaluations:{...e.evaluations,[n]:{...s,lawton:{...s.lawton,...a},updatedAt:new Date}}}))},updateSafetyChecklist:a=>{let{currentEvaluationId:n,evaluations:i}=t();if(!n)return;let s=i[n];s&&e(e=>({evaluations:{...e.evaluations,[n]:{...s,safetyChecklist:{...s.safetyChecklist,...a},updatedAt:new Date}}}))},updateSchedule:a=>{let{currentEvaluationId:n,evaluations:i}=t();if(!n)return;let s=i[n];s&&e(e=>({evaluations:{...e.evaluations,[n]:{...s,schedule:{...s.schedule,...a},updatedAt:new Date}}}))},updateEvaluatorInfo:a=>{let{currentEvaluationId:n,evaluations:i}=t();if(!n)return;let s=i[n];s&&e(e=>({evaluations:{...e.evaluations,[n]:{...s,evaluatorInfo:{...s.evaluatorInfo,...a},updatedAt:new Date}}}))},updateKYC:a=>{let{currentEvaluationId:n,evaluations:i}=t();if(!n)return;let s=i[n];s&&e(e=>({evaluations:{...e.evaluations,[n]:{...s,kyc:{...s.kyc,...a},updatedAt:new Date}}}))},calculateResults:()=>{},updateResults:a=>{let{currentEvaluationId:n,evaluations:i}=t();if(!n)return;let s=i[n];s&&e(e=>({evaluations:{...e.evaluations,[n]:{...s,results:{...s.results,...a},updatedAt:new Date}}}))},getCurrentEvaluation:()=>{let{currentEvaluationId:e,evaluations:a}=t();return e&&a[e]||null},getEvaluationById:e=>t().evaluations[e]||null,getAllEvaluations:()=>Object.values(t().evaluations),reset:()=>{e({currentEvaluationId:null,currentStep:0,evaluations:{}})}}),{name:"maos-amigas-evaluations",storage:(0,i.FL)(()=>localStorage),partialize:e=>({evaluations:e.evaluations,currentStep:e.currentStep,currentEvaluationId:e.currentEvaluationId}),onRehydrateStorage:()=>(e,t)=>{if(t){console.error("[EvaluationStore] Error rehydrating state:",t);try{localStorage.removeItem("maos-amigas-evaluations")}catch(e){console.error("[EvaluationStore] Could not clear storage:",e)}}else e&&console.log("[EvaluationStore] State rehydrated successfully",{currentStep:e.currentStep,currentEvaluationId:e.currentEvaluationId,evaluationCount:Object.keys(e.evaluations).length})}}))},64968:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u,metadata:()=>o,viewport:()=>l});var n=a(19510),i=a(1361),s=a.n(i);a(54315);let r=(0,a(68570).createProxy)(String.raw`C:\Users\dramo\.gemini\antigravity\scratch\maos-amigas-avaliacao\src\components\providers.tsx#Providers`),o={title:"M\xe3os Amigas - Sistema de Avalia\xe7\xe3o",description:"Sistema de avalia\xe7\xe3o presencial para cuidados domiciliares",manifest:"/manifest.json",appleWebApp:{capable:!0,statusBarStyle:"default",title:"M\xe3os Amigas"},formatDetection:{telephone:!1}},l={width:"device-width",initialScale:1,maximumScale:1,userScalable:!1,viewportFit:"cover",themeColor:[{media:"(prefers-color-scheme: light)",color:"#1E8AAD"},{media:"(prefers-color-scheme: dark)",color:"#0C3745"}]},c=`
(function() {
    try {
        var theme = localStorage.getItem('maos-amigas-theme');
        var resolved = theme;
        if (!theme || theme === 'system') {
            resolved = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }
        document.documentElement.classList.add(resolved);
        document.documentElement.style.colorScheme = resolved;
    } catch (e) {}
})();
`;function u({children:e}){return(0,n.jsxs)("html",{lang:"pt-BR",className:s().variable,suppressHydrationWarning:!0,children:[(0,n.jsxs)("head",{children:[n.jsx("link",{rel:"apple-touch-icon",href:"/icons/icon-192.png"}),n.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),n.jsx("meta",{name:"mobile-web-app-capable",content:"yes"}),n.jsx("script",{dangerouslySetInnerHTML:{__html:c}})]}),n.jsx("body",{className:"font-sans antialiased",children:n.jsx(r,{children:e})})]})}},54315:()=>{}};