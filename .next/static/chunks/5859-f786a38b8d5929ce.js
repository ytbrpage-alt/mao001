"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5859],{5859:function(e,t,a){a.d(t,{q:function(){return f}});var i=a(59625),n=a(89134),o=a(49360);let r={triggerEvent:"",triggerCategory:"",triggerDetails:"",urgencyLevel:"",referralSource:"",initialExpectations:"",familyDecisionMaker:"",budgetRange:"",currentCaregiver:"",familyBurdenLevel:5,concerns:[],mainConcern:"",previousExperience:"",previousIssues:[],previousIssueDetails:"",notes:""},l={fullName:"",preferredName:"",birthDate:new Date,age:0,cpf:"",phone:"",cep:"",address:"",addressNumber:"",addressComplement:"",neighborhood:"",city:"",state:"",maritalStatus:"single",previousOccupation:"",hobbies:[],otherHobbies:"",temperament:"calm",preferences:[],otherPreferences:"",wakeUpTime:"07:00",breakfastTime:"08:00",lunchTime:"12:00",takesNap:!1,dinnerTime:"19:00",bedTime:"21:00",sleepQuality:"good",nightWakeups:0},s={neurologicalConditions:[],cardiovascularConditions:[],respiratoryConditions:[],mobilityConditions:[],otherConditions:[],recentHospitalizations:!1,recentFalls:"none",recentSurgery:!1,medicationCount:"1-3",specialMedications:[],hasAllergies:!1,medicationAllergies:"",foodAllergies:"",latexAllergy:!1,otherAllergies:"",dietaryRestrictions:[],otherDietaryRestrictions:""},u={consciousness:0,breathing:0,feeding:0,mobility:0,skinCare:0,skin:0,procedures:0,medications:0,medication:0,monitoring:0,elimination:0,activeTriggers:[],notes:""},c={bathing:1,bathingDetails:[],dressing:1,dressingDetails:[],toileting:1,toiletingDetails:[],transferring:1,transferringDetails:[],mobilityAids:[],continence:1,continenceDetails:[],feeding:1,feedingDetails:[],totalScore:6,classification:"A",complexityMultiplier:1},d={medicationManagement:"capable",medicationSeparation:"family_separates",medicationAdministration:"self_administered",supplyProvision:"family",supplyList:[],mealPreparation:"family_prepares",hasSpecialDiet:!1,houseworkScope:!1,clausesToGenerate:[]},p={circulation:{looseRugs:!1,exposedWires:!1,obstructedPaths:!1,slipperyFloors:!1,poorLighting:!1},bathroom:{noGrabBarsShower:!1,noGrabBarsToilet:!1,slipperyShowerFloor:!1,lowToilet:!1,noNonSlipMat:!1,noShowerChair:!1},bedroom:{bedTooLow:!1,bedTooHigh:!1,noSideAccess:!1,noNightLight:!1,inadequateMattress:!1},hasStairs:!1,totalRisks:0,criticalRisks:0,riskList:[],familyPosition:"will_adapt_all",adaptationsCommitted:[],photos:[]},v={startTime:"07:00",endTime:"19:00",totalHoursPerDay:12,shiftType:"day",weekDays:["mon","tue","wed","thu","fri"],shiftsPerMonth:20,startDate:new Date,contractType:"indefinite"},g={abemidScore:0,abemidTriggers:[],indicatedProfessional:"caregiver",professionalJustification:"",katzScore:6,katzClassification:"A",complexityMultiplier:1,complexityJustification:"",totalRisks:0,criticalRisks:0,riskAssumptionRequired:!1,pricing:{baseHourlyRate:0,complexityMultiplier:1,nightShiftMultiplier:1,weekendMultiplier:1,dailyCost:0,monthlyCost:0,taxes:0,totalMonthly:0},requiredClauses:[],urgencyLevel:"low",urgencyFactors:[],recommendations:[],upsellOpportunities:[]},m={evaluatorId:"",evaluatorName:"",evaluatorRole:"",evaluatorEmail:"",evaluatorPhone:"",branchOffice:"",evaluationStartTime:new Date,evaluationLocation:"",evaluationNotes:""},h={documentType:"rg",documentNumber:"",documentIssuer:"",documentFrontPhoto:"",documentBackPhoto:"",verificationStatus:"pending",verificationNotes:"",consentGiven:!1},f=(0,i.Ue)()((0,n.tJ)((e,t)=>({currentEvaluationId:null,currentStep:0,totalSteps:10,evaluations:{},setCurrentStep:t=>e({currentStep:t}),nextStep:()=>{let{currentStep:a,totalSteps:i}=t();a<i-1&&e({currentStep:a+1})},prevStep:()=>{let{currentStep:a}=t();a>0&&e({currentStep:a-1})},goToStep:a=>{let{totalSteps:i}=t();a>=0&&a<i&&e({currentStep:a})},createEvaluation:t=>{let a=(0,o.Z)(),i=new Date,n={id:a,status:"draft",createdAt:i,updatedAt:i,evaluatorId:t,discovery:r,patient:l,healthHistory:s,abemid:u,katz:c,lawton:d,safetyChecklist:p,schedule:v,evaluatorInfo:m,kyc:h,results:g,proposal:{},contract:{}};return e(e=>({evaluations:{...e.evaluations,[a]:n},currentEvaluationId:a,currentStep:0})),a},loadEvaluation:a=>{t().evaluations[a]&&e({currentEvaluationId:a,currentStep:0})},updateEvaluation:(t,a)=>{e(e=>{let i=e.evaluations[t];return i?{evaluations:{...e.evaluations,[t]:{...i,...a,updatedAt:new Date}}}:e})},deleteEvaluation:t=>{e(e=>{let{[t]:a,...i}=e.evaluations;return{evaluations:i,currentEvaluationId:e.currentEvaluationId===t?null:e.currentEvaluationId}})},updateDiscovery:a=>{let{currentEvaluationId:i,evaluations:n}=t();if(!i)return;let o=n[i];o&&e(e=>({evaluations:{...e.evaluations,[i]:{...o,discovery:{...o.discovery,...a},updatedAt:new Date}}}))},updatePatient:a=>{let{currentEvaluationId:i,evaluations:n}=t();if(!i)return;let o=n[i];if(!o)return;let r={...a};if(a.birthDate){let e=a.birthDate instanceof Date?a.birthDate:new Date(a.birthDate);if(!isNaN(e.getTime())){let t=new Date,a=t.getFullYear()-e.getFullYear(),i=t.getMonth()-e.getMonth();(i<0||0===i&&t.getDate()<e.getDate())&&a--,a>=0&&a<=120&&(r={...r,age:a,birthDate:e})}}e(e=>({evaluations:{...e.evaluations,[i]:{...o,patient:{...o.patient,...r},updatedAt:new Date}}}))},updateHealthHistory:a=>{let{currentEvaluationId:i,evaluations:n}=t();if(!i)return;let o=n[i];o&&e(e=>({evaluations:{...e.evaluations,[i]:{...o,healthHistory:{...o.healthHistory,...a},updatedAt:new Date}}}))},updateAbemid:a=>{let{currentEvaluationId:i,evaluations:n}=t();if(!i)return;let o=n[i];o&&e(e=>({evaluations:{...e.evaluations,[i]:{...o,abemid:{...o.abemid,...a},updatedAt:new Date}}}))},updateKatz:a=>{let{currentEvaluationId:i,evaluations:n}=t();if(!i)return;let o=n[i];o&&e(e=>({evaluations:{...e.evaluations,[i]:{...o,katz:{...o.katz,...a},updatedAt:new Date}}}))},updateLawton:a=>{let{currentEvaluationId:i,evaluations:n}=t();if(!i)return;let o=n[i];o&&e(e=>({evaluations:{...e.evaluations,[i]:{...o,lawton:{...o.lawton,...a},updatedAt:new Date}}}))},updateSafetyChecklist:a=>{let{currentEvaluationId:i,evaluations:n}=t();if(!i)return;let o=n[i];o&&e(e=>({evaluations:{...e.evaluations,[i]:{...o,safetyChecklist:{...o.safetyChecklist,...a},updatedAt:new Date}}}))},updateSchedule:a=>{let{currentEvaluationId:i,evaluations:n}=t();if(!i)return;let o=n[i];o&&e(e=>({evaluations:{...e.evaluations,[i]:{...o,schedule:{...o.schedule,...a},updatedAt:new Date}}}))},updateEvaluatorInfo:a=>{let{currentEvaluationId:i,evaluations:n}=t();if(!i)return;let o=n[i];o&&e(e=>({evaluations:{...e.evaluations,[i]:{...o,evaluatorInfo:{...o.evaluatorInfo,...a},updatedAt:new Date}}}))},updateKYC:a=>{let{currentEvaluationId:i,evaluations:n}=t();if(!i)return;let o=n[i];o&&e(e=>({evaluations:{...e.evaluations,[i]:{...o,kyc:{...o.kyc,...a},updatedAt:new Date}}}))},calculateResults:()=>{},updateResults:a=>{let{currentEvaluationId:i,evaluations:n}=t();if(!i)return;let o=n[i];o&&e(e=>({evaluations:{...e.evaluations,[i]:{...o,results:{...o.results,...a},updatedAt:new Date}}}))},getCurrentEvaluation:()=>{let{currentEvaluationId:e,evaluations:a}=t();return e&&a[e]||null},getEvaluationById:e=>t().evaluations[e]||null,getAllEvaluations:()=>Object.values(t().evaluations),reset:()=>{e({currentEvaluationId:null,currentStep:0,evaluations:{}})}}),{name:"maos-amigas-evaluations",storage:(0,n.FL)(()=>(console.warn("[EvaluationStore] Using localStorage in production. Configure IndexedDB encryption for sensitive data."),localStorage)),partialize:e=>({evaluations:e.evaluations,currentStep:e.currentStep,currentEvaluationId:e.currentEvaluationId}),onRehydrateStorage:()=>(e,t)=>{if(t){console.error("[EvaluationStore] Error rehydrating state:",t);try{localStorage.removeItem("maos-amigas-evaluations")}catch(e){console.error("[EvaluationStore] Could not clear storage:",e)}}else e&&console.log("[EvaluationStore] State rehydrated successfully",{currentStep:e.currentStep,currentEvaluationId:e.currentEvaluationId,evaluationCount:Object.keys(e.evaluations).length})}}))}}]);