(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6920],{37441:function(e,t,a){Promise.resolve().then(a.bind(a,93613))},32660:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(39763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},65302:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(39763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},91723:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(39763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},90740:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(39763).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},99397:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(39763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},73247:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(39763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},45131:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(39763).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},99376:function(e,t,a){"use strict";var n=a(35475);a.o(n,"useParams")&&a.d(t,{useParams:function(){return n.useParams}}),a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})},93613:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var n=a(57437),r=a(99376),l=a(40521);a(91723),a(65302),a(45131);var s=a(32660),i=a(73247),u=a(99397),c=a(90740),o=a(2265),d=a(5859),m=a(89102),f=a(91001);let p=[{value:"all",label:"Todas"},{value:"draft",label:"Rascunhos"},{value:"in_progress",label:"Em Andamento"},{value:"completed",label:"Conclu\xeddas"},{value:"cancelled",label:"Canceladas"}];function h(){let e=(0,r.useRouter)(),{evaluations:t,createEvaluation:a}=(0,d.q)(),[h,x]=(0,o.useState)(""),[g,N]=(0,o.useState)("all"),v=(0,o.useMemo)(()=>{let e=Object.values(t);if("all"!==g&&(e=e.filter(e=>e.status===g)),h.trim()){let t=h.toLowerCase();e=e.filter(e=>{var a;return e.patient.fullName.toLowerCase().includes(t)||(null===(a=e.patient.preferredName)||void 0===a?void 0:a.toLowerCase().includes(t))})}return e.sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime())},[t,g,h]),y=e=>{switch(e){case"draft":return(0,n.jsx)("span",{className:"badge-warning",children:"Rascunho"});case"in_progress":return(0,n.jsx)("span",{className:"badge-info",children:"Em Andamento"});case"completed":return(0,n.jsx)("span",{className:"badge-success",children:"Conclu\xedda"});case"cancelled":return(0,n.jsx)("span",{className:"badge bg-neutral-200 text-neutral-600",children:"Cancelada"});default:return null}};return(0,n.jsxs)("div",{className:"container-mobile min-h-screen pb-24",children:[(0,n.jsxs)("header",{className:"sticky top-0 bg-white z-10 pt-4 pb-4 -mx-4 px-4 border-b border-neutral-100",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,n.jsx)("button",{onClick:()=>e.push("/"),className:"p-2 -ml-2 text-neutral-600 hover:bg-neutral-100 rounded-lg",children:(0,n.jsx)(s.Z,{className:"w-5 h-5"})}),(0,n.jsx)("h1",{className:"text-lg font-semibold text-neutral-900",children:"Avalia\xe7\xf5es"})]}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(i.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),(0,n.jsx)("input",{type:"text",placeholder:"Buscar por nome do paciente...",value:h,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-neutral-100 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-brand-500"})]}),(0,n.jsx)("div",{className:"mt-3 flex gap-2 overflow-x-auto pb-1 -mx-4 px-4 scrollbar-hidden",children:p.map(e=>(0,n.jsx)("button",{onClick:()=>N(e.value),className:(0,f.cn)("px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-colors",g===e.value?"bg-brand-500 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"),children:e.label},e.value))})]}),(0,n.jsx)("section",{className:"py-6",children:(0,n.jsxs)(l.E.button,{whileTap:{scale:.98},onClick:()=>{let t=a("evaluator-1");e.push("/avaliacao/".concat(t))},className:"w-full btn-primary gap-3",children:[(0,n.jsx)(u.Z,{className:"w-5 h-5"}),"Nova Avalia\xe7\xe3o"]})}),(0,n.jsx)("section",{children:0===v.length?(0,n.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"card text-center py-12",children:[(0,n.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,n.jsx)(c.Z,{className:"w-8 h-8 text-neutral-400"})}),(0,n.jsx)("p",{className:"text-neutral-500 font-medium",children:"Nenhuma avalia\xe7\xe3o encontrada"}),(0,n.jsx)("p",{className:"text-sm text-neutral-400 mt-1",children:h||"all"!==g?"Tente ajustar os filtros":'Clique em "Nova Avalia\xe7\xe3o" para come\xe7ar'})]}):(0,n.jsx)("div",{className:"space-y-3 md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-4 md:space-y-0",children:v.map((t,a)=>{var r;return(0,n.jsx)(l.E.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*a},onClick:()=>e.push("/avaliacao/".concat(t.id)),className:"card w-full text-left touch-feedback",children:(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)("div",{className:"w-12 h-12 rounded-full bg-brand-100 flex items-center justify-center text-brand-600 font-semibold flex-shrink-0",children:(t.patient.preferredName||t.patient.fullName||"P")[0].toUpperCase()}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,n.jsxs)("div",{className:"min-w-0",children:[(0,n.jsx)("p",{className:"font-medium text-neutral-900 truncate",children:t.patient.fullName||"Paciente n\xe3o informado"}),t.patient.preferredName&&(0,n.jsxs)("p",{className:"text-sm text-neutral-500 truncate",children:['"',t.patient.preferredName,'"']})]}),y(t.status)]}),(0,n.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-sm text-neutral-500",children:[(0,n.jsx)("span",{children:(0,m.zg)(t.updatedAt)}),(null===(r=t.results)||void 0===r?void 0:r.indicatedProfessional)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"w-1 h-1 rounded-full bg-neutral-300"}),(0,n.jsx)("span",{children:"caregiver"===t.results.indicatedProfessional?"Cuidador":"Enfermeiro"})]})]})]})]})},t.id)})})})]})}},91001:function(e,t,a){"use strict";a.d(t,{cn:function(){return l}});var n=a(61994),r=a(53335);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,n.W)(t))}},89102:function(e,t,a){"use strict";a.d(t,{Fw:function(){return c},p6:function(){return i},zg:function(){return u}});var n=a(60936),r=a(84122),l=a(78442),s=a(34862);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy",a="string"==typeof e?(0,n.D)(e):e;return(0,r.WU)(a,t,{locale:s.F})}function u(e){let t="string"==typeof e?(0,n.D)(e):e;return(0,l.Q)(t,{locale:s.F,addSuffix:!0})}function c(e){let t=new Date,a=t.getFullYear()-e.getFullYear(),n=t.getMonth()-e.getMonth();return(n<0||0===n&&t.getDate()<e.getDate())&&a--,a}},60936:function(e,t,a){"use strict";a.d(t,{D:function(){return r}});var n=a(78198);function r(e,t){var a;let r,f;let p=null!==(a=null==t?void 0:t.additionalDigits)&&void 0!==a?a:2,h=function(e){let t;let a={},n=e.split(l.dateTimeDelimiter);if(n.length>2)return a;if(/:/.test(n[0])?t=n[0]:(a.date=n[0],t=n[1],l.timeZoneDelimiter.test(a.date)&&(a.date=e.split(l.timeZoneDelimiter)[0],t=e.substr(a.date.length,e.length))),t){let e=l.timezone.exec(t);e?(a.time=t.replace(e[1],""),a.timezone=e[1]):a.time=t}return a}(e);if(h.date){let e=function(e,t){let a=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(a);if(!n)return{year:NaN,restDateString:""};let r=n[1]?parseInt(n[1]):null,l=n[2]?parseInt(n[2]):null;return{year:null===l?r:100*l,restDateString:e.slice((n[1]||n[2]).length)}}(h.date,p);r=function(e,t){if(null===t)return new Date(NaN);let a=e.match(s);if(!a)return new Date(NaN);let n=!!a[4],r=c(a[1]),l=c(a[2])-1,i=c(a[3]),u=c(a[4]),o=c(a[5])-1;if(n)return u>=1&&u<=53&&o>=0&&o<=6?function(e,t,a){let n=new Date(0);n.setUTCFullYear(e,0,4);let r=n.getUTCDay()||7;return n.setUTCDate(n.getUTCDate()+((t-1)*7+a+1-r)),n}(t,u,o):new Date(NaN);{let e=new Date(0);return l>=0&&l<=11&&i>=1&&i<=(d[l]||(m(t)?29:28))&&r>=1&&r<=(m(t)?366:365)?(e.setUTCFullYear(t,l,Math.max(r,i)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);let x=r.getTime(),g=0;if(h.time&&isNaN(g=function(e){let t=e.match(i);if(!t)return NaN;let a=o(t[1]),r=o(t[2]),l=o(t[3]);return(24===a?0===r&&0===l:l>=0&&l<60&&r>=0&&r<60&&a>=0&&a<25)?a*n.vh+r*n.yJ+1e3*l:NaN}(h.time)))return new Date(NaN);if(h.timezone){if(isNaN(f=function(e){if("Z"===e)return 0;let t=e.match(u);if(!t)return 0;let a="+"===t[1]?-1:1,r=parseInt(t[2]),l=t[3]&&parseInt(t[3])||0;return l>=0&&l<=59?a*(r*n.vh+l*n.yJ):NaN}(h.timezone)))return new Date(NaN)}else{let e=new Date(x+g),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return new Date(x+g+f)}let l={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},s=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,i=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,u=/^([+-])(\d{2})(?::?(\d{2}))?$/;function c(e){return e?parseInt(e):1}function o(e){return e&&parseFloat(e.replace(",","."))||0}let d=[31,null,31,30,31,30,31,31,30,31,30,31];function m(e){return e%400==0||e%4==0&&e%100!=0}}},function(e){e.O(0,[6137,7230,4875,2859,4122,1013,5859,2971,2117,1744],function(){return e(e.s=37441)}),_N_E=e.O()}]);