(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6920],{7441:function(e,t,n){Promise.resolve().then(n.bind(n,3613))},2660:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(9763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5302:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1723:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(9763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},740:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(9763).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},9397:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3247:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(9763).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},5131:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});let a=(0,n(9763).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},3613:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var a=n(7437),l=n(9376),r=n(521);n(1723),n(5302),n(5131);var s=n(2660),i=n(3247),c=n(9397),u=n(740),d=n(2265),o=n(5859),m=n(9102),f=n(1001);let p=[{value:"all",label:"Todas"},{value:"draft",label:"Rascunhos"},{value:"in_progress",label:"Em Andamento"},{value:"completed",label:"Conclu\xeddas"},{value:"cancelled",label:"Canceladas"}];function h(){let e=(0,l.useRouter)(),{evaluations:t,createEvaluation:n}=(0,o.q)(),[h,x]=(0,d.useState)(""),[g,N]=(0,d.useState)("all"),v=(0,d.useMemo)(()=>{let e=Object.values(t);if("all"!==g&&(e=e.filter(e=>e.status===g)),h.trim()){let t=h.toLowerCase();e=e.filter(e=>{var n;return e.patient.fullName.toLowerCase().includes(t)||(null===(n=e.patient.preferredName)||void 0===n?void 0:n.toLowerCase().includes(t))})}return e.sort((e,t)=>new Date(t.updatedAt).getTime()-new Date(e.updatedAt).getTime())},[t,g,h]),y=e=>{switch(e){case"draft":return(0,a.jsx)("span",{className:"badge-warning",children:"Rascunho"});case"in_progress":return(0,a.jsx)("span",{className:"badge-info",children:"Em Andamento"});case"completed":return(0,a.jsx)("span",{className:"badge-success",children:"Conclu\xedda"});case"cancelled":return(0,a.jsx)("span",{className:"badge bg-neutral-200 text-neutral-600",children:"Cancelada"});default:return null}};return(0,a.jsxs)("div",{className:"container-mobile min-h-screen pb-24",children:[(0,a.jsxs)("header",{className:"sticky top-0 bg-white z-10 pt-4 pb-4 -mx-4 px-4 border-b border-neutral-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("button",{onClick:()=>e.push("/"),className:"p-2 -ml-2 text-neutral-600 hover:bg-neutral-100 rounded-lg",children:(0,a.jsx)(s.Z,{className:"w-5 h-5"})}),(0,a.jsx)("h1",{className:"text-lg font-semibold text-neutral-900",children:"Avalia\xe7\xf5es"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Buscar por nome do paciente...",value:h,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-neutral-100 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-brand-500"})]}),(0,a.jsx)("div",{className:"mt-3 flex gap-2 overflow-x-auto pb-1 -mx-4 px-4 scrollbar-hidden",children:p.map(e=>(0,a.jsx)("button",{onClick:()=>N(e.value),className:(0,f.cn)("px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap transition-colors",g===e.value?"bg-brand-500 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"),children:e.label},e.value))})]}),(0,a.jsx)("section",{className:"py-6",children:(0,a.jsxs)(r.E.button,{whileTap:{scale:.98},onClick:()=>{let t=n("evaluator-1");e.push("/avaliacao/".concat(t))},className:"w-full btn-primary gap-3",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5"}),"Nova Avalia\xe7\xe3o"]})}),(0,a.jsx)("section",{children:0===v.length?(0,a.jsxs)(r.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"card text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-neutral-100 rounded-full flex items-center justify-center",children:(0,a.jsx)(u.Z,{className:"w-8 h-8 text-neutral-400"})}),(0,a.jsx)("p",{className:"text-neutral-500 font-medium",children:"Nenhuma avalia\xe7\xe3o encontrada"}),(0,a.jsx)("p",{className:"text-sm text-neutral-400 mt-1",children:h||"all"!==g?"Tente ajustar os filtros":'Clique em "Nova Avalia\xe7\xe3o" para come\xe7ar'})]}):(0,a.jsx)("div",{className:"space-y-3 md:grid md:grid-cols-2 lg:grid-cols-3 md:gap-4 md:space-y-0",children:v.map((t,n)=>{var l;return(0,a.jsx)(r.E.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*n},onClick:()=>e.push("/avaliacao/".concat(t.id)),className:"card w-full text-left touch-feedback",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-brand-100 flex items-center justify-center text-brand-600 font-semibold flex-shrink-0",children:(t.patient.preferredName||t.patient.fullName||"P")[0].toUpperCase()}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-neutral-900 truncate",children:t.patient.fullName||"Paciente n\xe3o informado"}),t.patient.preferredName&&(0,a.jsxs)("p",{className:"text-sm text-neutral-500 truncate",children:['"',t.patient.preferredName,'"']})]}),y(t.status)]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-2 text-sm text-neutral-500",children:[(0,a.jsx)("span",{children:(0,m.zg)(t.updatedAt)}),(null===(l=t.results)||void 0===l?void 0:l.indicatedProfessional)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"w-1 h-1 rounded-full bg-neutral-300"}),(0,a.jsx)("span",{children:"caregiver"===t.results.indicatedProfessional?"Cuidador":"Enfermeiro"})]})]})]})]})},t.id)})})})]})}},1001:function(e,t,n){"use strict";n.d(t,{cn:function(){return r}});var a=n(1994),l=n(3335);function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,l.m6)((0,a.W)(t))}},9102:function(e,t,n){"use strict";n.d(t,{Fw:function(){return u},p6:function(){return i},zg:function(){return c}});var a=n(936),l=n(4122),r=n(8442),s=n(4862);function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy",n="string"==typeof e?(0,a.D)(e):e;return(0,l.WU)(n,t,{locale:s.F})}function c(e){let t="string"==typeof e?(0,a.D)(e):e;return(0,r.Q)(t,{locale:s.F,addSuffix:!0})}function u(e){let t=new Date,n=t.getFullYear()-e.getFullYear(),a=t.getMonth()-e.getMonth();return(a<0||0===a&&t.getDate()<e.getDate())&&n--,n}},936:function(e,t,n){"use strict";n.d(t,{D:function(){return l}});var a=n(8198);function l(e,t){var n;let l,f;let p=null!==(n=null==t?void 0:t.additionalDigits)&&void 0!==n?n:2,h=function(e){let t;let n={},a=e.split(r.dateTimeDelimiter);if(a.length>2)return n;if(/:/.test(a[0])?t=a[0]:(n.date=a[0],t=a[1],r.timeZoneDelimiter.test(n.date)&&(n.date=e.split(r.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){let e=r.timezone.exec(t);e?(n.time=t.replace(e[1],""),n.timezone=e[1]):n.time=t}return n}(e);if(h.date){let e=function(e,t){let n=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(n);if(!a)return{year:NaN,restDateString:""};let l=a[1]?parseInt(a[1]):null,r=a[2]?parseInt(a[2]):null;return{year:null===r?l:100*r,restDateString:e.slice((a[1]||a[2]).length)}}(h.date,p);l=function(e,t){if(null===t)return new Date(NaN);let n=e.match(s);if(!n)return new Date(NaN);let a=!!n[4],l=u(n[1]),r=u(n[2])-1,i=u(n[3]),c=u(n[4]),d=u(n[5])-1;if(a)return c>=1&&c<=53&&d>=0&&d<=6?function(e,t,n){let a=new Date(0);a.setUTCFullYear(e,0,4);let l=a.getUTCDay()||7;return a.setUTCDate(a.getUTCDate()+((t-1)*7+n+1-l)),a}(t,c,d):new Date(NaN);{let e=new Date(0);return r>=0&&r<=11&&i>=1&&i<=(o[r]||(m(t)?29:28))&&l>=1&&l<=(m(t)?366:365)?(e.setUTCFullYear(t,r,Math.max(l,i)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!l||isNaN(l.getTime()))return new Date(NaN);let x=l.getTime(),g=0;if(h.time&&isNaN(g=function(e){let t=e.match(i);if(!t)return NaN;let n=d(t[1]),l=d(t[2]),r=d(t[3]);return(24===n?0===l&&0===r:r>=0&&r<60&&l>=0&&l<60&&n>=0&&n<25)?n*a.vh+l*a.yJ+1e3*r:NaN}(h.time)))return new Date(NaN);if(h.timezone){if(isNaN(f=function(e){if("Z"===e)return 0;let t=e.match(c);if(!t)return 0;let n="+"===t[1]?-1:1,l=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return r>=0&&r<=59?n*(l*a.vh+r*a.yJ):NaN}(h.timezone)))return new Date(NaN)}else{let e=new Date(x+g),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return new Date(x+g+f)}let r={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},s=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,i=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c=/^([+-])(\d{2})(?::?(\d{2}))?$/;function u(e){return e?parseInt(e):1}function d(e){return e&&parseFloat(e.replace(",","."))||0}let o=[31,null,31,30,31,30,31,31,30,31,30,31];function m(e){return e%400==0||e%4==0&&e%100!=0}}},function(e){e.O(0,[6137,7230,4875,2859,4122,9179,5859,2971,2117,1744],function(){return e(e.s=7441)}),_N_E=e.O()}]);