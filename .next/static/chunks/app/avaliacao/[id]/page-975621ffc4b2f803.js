(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1952],{1905:function(e,a,t){Promise.resolve().then(t.bind(t,9685))},9685:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return eD}});var s=t(7437),l=t(2265),r=t(9376),n=t(5859),i=t(2660),o=t(6858),d=t(1001),c=t(4779);function u(e){let{stepNumber:a,totalSteps:t,stepName:l,patientName:r}=e,n=a/t*100;return(0,s.jsx)("header",{className:"sticky top-0 z-40 bg-white border-b border-neutral-200 shadow-soft",children:(0,s.jsxs)("div",{className:"container-mobile py-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-lg font-bold text-neutral-900",children:l}),r&&(0,s.jsxs)("p",{className:"text-sm text-neutral-500",children:["Paciente: ",r]})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsxs)("span",{className:"text-sm font-medium text-brand-600",children:["Etapa ",a,"/",t]})})]}),(0,s.jsx)(c.fC,{value:n,className:"h-2 w-full overflow-hidden rounded-full bg-neutral-200",children:(0,s.jsx)(c.z$,{className:(0,d.cn)("h-full bg-brand-500 transition-all duration-300 ease-out"),style:{width:"".concat(n,"%")}})})]})})}function m(e){let{children:a,stepNumber:t,totalSteps:l,stepName:r,patientName:n,onNext:c,onPrev:m,canGoNext:x=!0,canGoPrev:h=!0,nextLabel:b="Pr\xf3ximo",isLastStep:p=!1}=e;return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col bg-neutral-50",children:[(0,s.jsx)(u,{stepNumber:t,totalSteps:l,stepName:r,patientName:n}),(0,s.jsx)("main",{className:"flex-1 overflow-y-auto pb-24",children:(0,s.jsx)("div",{className:"container-mobile py-4",children:a})}),(0,s.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-neutral-200 shadow-medium",children:(0,s.jsxs)("div",{className:"container-mobile py-3 flex items-center justify-between gap-3",children:[(0,s.jsxs)("button",{onClick:m,disabled:!h,className:(0,d.cn)("flex items-center gap-2 px-4 py-3 rounded-lg font-medium","text-neutral-600 hover:bg-neutral-100","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors min-h-touch"),children:[(0,s.jsx)(i.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Voltar"})]}),(0,s.jsxs)("button",{onClick:c,disabled:!x,className:(0,d.cn)("flex items-center gap-2 px-6 py-3 rounded-lg font-semibold",p?"bg-success-500 hover:bg-success-600 text-white":"bg-brand-500 hover:bg-brand-600 text-white","disabled:opacity-50 disabled:cursor-not-allowed","transition-colors min-h-touch"),children:[(0,s.jsx)("span",{children:b}),!p&&(0,s.jsx)(o.Z,{className:"w-5 h-5"})]})]})})]})}var x=t(2718),h=t(8896);function b(e){let{number:a,title:t,script:l,objective:r,children:n,className:i}=e;return(0,s.jsxs)("div",{className:(0,d.cn)("card space-y-4",i),children:[(0,s.jsx)("div",{className:"border-b border-neutral-100 pb-3",children:(0,s.jsxs)("h3",{className:"text-base font-semibold text-neutral-900",children:[a&&(0,s.jsxs)("span",{className:"text-brand-500 mr-2",children:[a,"."]}),t]})}),l&&(0,s.jsxs)("div",{className:"flex gap-3 p-3 bg-brand-50 rounded-lg",children:[(0,s.jsx)(x.Z,{className:"w-5 h-5 text-brand-600 shrink-0 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-brand-700 uppercase mb-1",children:"Roteiro de Conversa"}),(0,s.jsxs)("p",{className:"text-sm text-brand-800 italic",children:['"',l,'"']})]})]}),r&&(0,s.jsxs)("div",{className:"flex gap-2 items-start",children:[(0,s.jsx)(h.Z,{className:"w-4 h-4 text-neutral-400 shrink-0 mt-0.5"}),(0,s.jsxs)("p",{className:"text-xs text-neutral-500",children:[(0,s.jsx)("span",{className:"font-medium",children:"Objetivo:"})," ",r]})]}),(0,s.jsx)("div",{className:"space-y-4",children:n})]})}let p={default:"text-neutral-900",warning:"text-warning-600",danger:"text-danger-600",success:"text-success-600"};function g(e){let{title:a,items:t,tip:l,className:r}=e;return(0,s.jsxs)("div",{className:(0,d.cn)("bg-neutral-100 rounded-xl p-4",r),children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-neutral-700 uppercase tracking-wide mb-3",children:["\uD83D\uDCCA ",a]}),(0,s.jsx)("div",{className:"space-y-2",children:t.map((e,a)=>(0,s.jsxs)("div",{className:"flex justify-between items-start gap-2",children:[(0,s.jsxs)("span",{className:"text-sm text-neutral-600",children:[e.label,":"]}),(0,s.jsx)("span",{className:(0,d.cn)("text-sm font-medium text-right",p[e.color||"default"],e.highlight&&"font-bold"),children:""===e.value?"—":e.value})]},a))}),l&&(0,s.jsx)("div",{className:"mt-3 pt-3 border-t border-neutral-200",children:(0,s.jsxs)("p",{className:"text-xs text-neutral-500",children:["\uD83D\uDCA1 ",(0,s.jsx)("span",{className:"font-medium",children:"Dica:"})," ",l]})})]})}let v=(0,l.forwardRef)((e,a)=>{let{label:t,helperText:l,error:r,fullWidth:n=!0,autoResize:i=!1,className:o,id:c,rows:u=3,...m}=e,x=c||"textarea-".concat(Math.random().toString(36).slice(2,9)),h=!!r;return(0,s.jsxs)("div",{className:(0,d.cn)("space-y-1.5",n&&"w-full"),children:[t&&(0,s.jsx)("label",{htmlFor:x,className:"block text-sm font-medium text-neutral-700",children:t}),(0,s.jsx)("textarea",{ref:a,id:x,rows:u,onInput:e=>{if(i){let a=e.currentTarget;a.style.height="auto",a.style.height="".concat(a.scrollHeight,"px")}},className:(0,d.cn)("w-full px-4 py-3 rounded-xl border bg-white text-neutral-900","placeholder:text-neutral-400","transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-offset-0","disabled:bg-neutral-100 disabled:cursor-not-allowed disabled:text-neutral-500","resize-none touch-manipulation",h?"border-danger-500 focus:ring-danger-500 focus:border-danger-500":"border-neutral-300 focus:ring-brand-500 focus:border-brand-500",i&&"overflow-hidden",o),...m}),(l||r)&&(0,s.jsx)("p",{className:(0,d.cn)("text-sm",h?"text-danger-600":"text-neutral-500"),children:r||l})]})});v.displayName="TextArea";let f={success:"bg-success-100 text-success-700",warning:"bg-warning-100 text-warning-700",danger:"bg-danger-100 text-danger-700",info:"bg-brand-100 text-brand-700"};function j(e){let{label:a,options:t,value:l,onValueChange:r,orientation:n="vertical",error:i,disabled:o=!1}=e;return(0,s.jsxs)("div",{className:"space-y-2",children:[a&&(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700",children:a}),(0,s.jsx)("div",{className:(0,d.cn)("horizontal"===n?"flex flex-wrap gap-2":"space-y-1"),children:t.map(e=>{let a=l===e.value,t=o||e.disabled;return(0,s.jsxs)("label",{className:(0,d.cn)("flex items-start gap-3 p-3 rounded-xl border-2 cursor-pointer transition-all min-h-[48px]",a?"border-brand-500 bg-brand-50":"border-neutral-200 hover:border-neutral-300",t&&"opacity-50 cursor-not-allowed"),children:[(0,s.jsxs)("div",{className:"relative flex items-center justify-center pt-0.5",children:[(0,s.jsx)("input",{type:"radio",value:e.value,checked:a,onChange:()=>!t&&r(e.value),disabled:t,className:"sr-only"}),(0,s.jsx)("div",{className:(0,d.cn)("w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all",a?"border-brand-500 bg-brand-500":"border-neutral-300 bg-white"),children:a&&(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-white"})})]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-neutral-900",children:e.label}),e.badge&&(0,s.jsx)("span",{className:(0,d.cn)("px-2 py-0.5 text-xs font-medium rounded-full",f[e.badgeColor||"info"]),children:e.badge})]}),e.description&&(0,s.jsx)("span",{className:"block text-sm text-neutral-500 mt-0.5",children:e.description})]})]},e.value)})}),i&&(0,s.jsx)("p",{className:"text-sm text-danger-600",children:i})]})}var N=t(401);let C=(0,l.forwardRef)((e,a)=>{let{label:t,description:l,error:r,checked:n,onCheckedChange:i,disabled:o,className:c,id:u,...m}=e,x=u||"checkbox-".concat(Math.random().toString(36).slice(2,9)),h=!!r;return(0,s.jsxs)("div",{className:(0,d.cn)("flex items-start gap-3 min-h-[44px]",c),children:[(0,s.jsxs)("div",{className:"relative flex items-center justify-center pt-0.5",children:[(0,s.jsx)("input",{ref:a,type:"checkbox",id:x,checked:n,onChange:e=>null==i?void 0:i(e.target.checked),disabled:o,className:"peer sr-only",...m}),(0,s.jsx)("div",{className:(0,d.cn)("w-6 h-6 rounded-lg border-2 flex items-center justify-center transition-all duration-200","peer-focus:ring-2 peer-focus:ring-brand-500 peer-focus:ring-offset-2",n?"bg-brand-500 border-brand-500":h?"border-danger-500 bg-white":"border-neutral-300 bg-white",o&&"opacity-50 cursor-not-allowed"),children:n&&(0,s.jsx)(N.Z,{className:"w-4 h-4 text-white",strokeWidth:3})})]}),(0,s.jsxs)("label",{htmlFor:x,className:(0,d.cn)("flex-1 cursor-pointer select-none",o&&"opacity-50 cursor-not-allowed"),children:[(0,s.jsx)("span",{className:"block text-sm font-medium text-neutral-900",children:t}),l&&(0,s.jsx)("span",{className:"block text-sm text-neutral-500 mt-0.5",children:l}),r&&(0,s.jsx)("span",{className:"block text-sm text-danger-600 mt-0.5",children:r})]})]})});C.displayName="Checkbox";let y=(0,l.forwardRef)((e,a)=>{let{label:t,value:l,onValueChange:r,min:n=0,max:i=100,step:o=1,showValue:c=!0,valueFormatter:u=e=>e.toString(),marks:m,minLabel:x,maxLabel:h,disabled:b,className:p,id:g,...v}=e,f=g||"slider-".concat(Math.random().toString(36).slice(2,9));return(0,s.jsxs)("div",{className:(0,d.cn)("space-y-2",p),children:[(t||c)&&(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[t&&(0,s.jsx)("label",{htmlFor:f,className:"text-sm font-medium text-neutral-700",children:t}),c&&(0,s.jsx)("span",{className:"text-sm font-semibold text-brand-600",children:u(l)})]}),(0,s.jsxs)("div",{className:"relative pt-1 pb-4",children:[(0,s.jsx)("input",{ref:a,type:"range",id:f,value:l,onChange:e=>r(Number(e.target.value)),min:n,max:i,step:o,disabled:b,className:(0,d.cn)("w-full h-2 bg-neutral-200 rounded-full appearance-none cursor-pointer","focus:outline-none","[&::-webkit-slider-thumb]:appearance-none","[&::-webkit-slider-thumb]:w-6 [&::-webkit-slider-thumb]:h-6","[&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-brand-500","[&::-webkit-slider-thumb]:shadow-md [&::-webkit-slider-thumb]:cursor-pointer",b&&"opacity-50 cursor-not-allowed"),...v}),(x||h||m)&&(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 flex justify-between px-1",children:m?m.map(e=>(0,s.jsx)("span",{className:"text-xs text-neutral-500",children:e.label},e.value)):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"text-xs text-neutral-500",children:x||n}),(0,s.jsx)("span",{className:"text-xs text-neutral-500",children:h||i})]})})]})]})});y.displayName="Slider";var k=t(2827);let w=[{value:"fall",label:"Queda recente"},{value:"cognitive_decline",label:"Piora cognitiva"},{value:"hospital_discharge",label:"Alta hospitalar"},{value:"family_overload",label:"Sobrecarga familiar"},{value:"new_diagnosis",label:"Diagn\xf3stico novo"},{value:"previous_caregiver",label:"Cuidador anterior n\xe3o deu certo"},{value:"spouse_death",label:"Falecimento do c\xf4njuge"},{value:"other",label:"Outro"}],D=[{value:"elderly_spouse",label:"C\xf4njuge idoso",badge:"Vulner\xe1vel",badgeColor:"warning"},{value:"working_child",label:"Filho(a) que trabalha",badge:"Sobrecarga dupla",badgeColor:"warning"},{value:"family_rotation",label:"Revezamento familiar",badge:"Desgaste relacional",badgeColor:"warning"},{value:"informal",label:"Cuidador informal (vizinho, conhecido)"},{value:"previous_professional",label:"J\xe1 teve cuidador profissional antes"},{value:"alone",label:"Est\xe1 sozinho(a) durante o dia",badge:"URGENTE",badgeColor:"danger"}],S=[{id:"falls",label:"Medo de quedas"},{id:"choking",label:"Medo de engasgo"},{id:"medication",label:"Medo de n\xe3o dar a medica\xe7\xe3o certa"},{id:"mistreatment",label:"Medo de maus tratos por cuidador"},{id:"cost",label:"Preocupa\xe7\xe3o com o custo"},{id:"guilt",label:'Culpa por "terceirizar" o cuidado'},{id:"acceptance",label:"Medo do idoso n\xe3o aceitar estranho"},{id:"own_health",label:"Preocupa\xe7\xe3o com a pr\xf3pria sa\xfade (cuidador)"},{id:"work_impact",label:"Impacto no trabalho/carreira"}],A=[{value:"none",label:"Nunca tiveram cuidador"},{value:"positive",label:"Tiveram e foi positivo"},{value:"negative",label:"Tiveram e foi negativo"}],E=[{id:"absences",label:"Faltava muito"},{id:"unqualified",label:"N\xe3o tinha qualifica\xe7\xe3o"},{id:"mistreatment",label:"Maltratou o idoso"},{id:"dishonest",label:"Roubou/foi desonesto"},{id:"poor_work",label:"N\xe3o fazia as tarefas direito"},{id:"conflict",label:"Conflito de personalidade"},{id:"expensive",label:"Custo muito alto"}];function I(){var e,a,t,l,r;let{discovery:i,updateDiscovery:o}=(0,n.q)(e=>{var a;return{discovery:null===(a=e.getCurrentEvaluation())||void 0===a?void 0:a.discovery,updateDiscovery:e.updateDiscovery}});if(!i)return null;let d=(e,a)=>{o({concerns:a?[...i.concerns,e]:i.concerns.filter(a=>a!==e)})},c=(e,a)=>{o({previousIssues:a?[...i.previousIssues,e]:i.previousIssues.filter(a=>a!==e)})},u=(null===(e=w.find(e=>e.value===i.triggerCategory))||void 0===e?void 0:e.label)||"";null===(a=D.find(e=>e.value===i.currentCaregiver))||void 0===a||a.label;let m=(null===(t=S.find(e=>e.id===i.mainConcern))||void 0===t?void 0:t.label)||i.concerns[0]?null===(l=S.find(e=>e.id===i.concerns[0]))||void 0===l?void 0:l.label:"",x=(null===(r=A.find(e=>e.value===i.previousExperience))||void 0===r?void 0:r.label)||"";return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(b,{number:1,title:"O GATILHO",script:"Me conta... o que aconteceu que fez voc\xeas buscarem ajuda profissional agora?",objective:"Identificar o evento gatilho e urg\xeancia",children:[(0,s.jsx)(v,{label:"Registrar resposta",value:i.triggerEvent,onChange:e=>o({triggerEvent:e.target.value}),placeholder:"Descreva o que a fam\xedlia relatou..."}),(0,s.jsx)(j,{label:"Classificar gatilho",options:w,value:i.triggerCategory,onValueChange:e=>o({triggerCategory:e})}),"other"===i.triggerCategory&&(0,s.jsx)(k.I,{label:"Especificar",value:i.triggerDetails,onChange:e=>o({triggerDetails:e.target.value})})]}),(0,s.jsxs)(b,{number:2,title:"A SITUA\xc7\xc3O ATUAL",script:"E hoje, como est\xe1 sendo o dia a dia? Quem est\xe1 cuidando do(a) paciente?",objective:"Mapear rede de apoio e sobrecarga",children:[(0,s.jsx)(j,{label:"Cuidador atual",options:D,value:i.currentCaregiver,onValueChange:e=>o({currentCaregiver:e})}),(0,s.jsx)(y,{label:"N\xedvel de sobrecarga familiar percebido",value:i.familyBurdenLevel,onValueChange:e=>o({familyBurdenLevel:e}),min:1,max:10,minLabel:"Leve",maxLabel:"Cr\xedtico"})]}),(0,s.jsxs)(b,{number:3,title:"AS PREOCUPA\xc7\xd5ES",script:"O que mais te preocupa em rela\xe7\xe3o ao cuidado? O que te tira o sono?",objective:"Identificar medos para endere\xe7ar depois",children:[(0,s.jsx)("p",{className:"text-sm text-neutral-600 mb-3",children:"Preocupa\xe7\xf5es relatadas (marcar todas mencionadas):"}),(0,s.jsx)("div",{className:"space-y-3",children:S.map(e=>(0,s.jsx)(C,{id:e.id,label:e.label,checked:i.concerns.includes(e.id),onCheckedChange:a=>d(e.id,a)},e.id))}),(0,s.jsx)(k.I,{label:"Outra preocupa\xe7\xe3o",value:i.mainConcern,onChange:e=>o({mainConcern:e.target.value}),placeholder:"Descreva outras preocupa\xe7\xf5es..."})]}),(0,s.jsxs)(b,{number:4,title:"EXPERI\xcaNCIAS ANTERIORES",script:"Voc\xeas j\xe1 tiveram alguma experi\xeancia com cuidador antes? Como foi?",objective:"Entender obje\xe7\xf5es ocultas e expectativas",children:[(0,s.jsx)(j,{options:A,value:i.previousExperience,onValueChange:e=>o({previousExperience:e})}),"negative"===i.previousExperience&&(0,s.jsxs)("div",{className:"mt-4 p-4 bg-warning-50 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-warning-700 mb-3",children:"O que deu errado?"}),(0,s.jsx)("div",{className:"space-y-3",children:E.map(e=>(0,s.jsx)(C,{id:e.id,label:e.label,checked:i.previousIssues.includes(e.id),onCheckedChange:a=>c(e.id,a)},e.id))}),(0,s.jsx)(k.I,{label:"Outro problema",value:i.previousIssueDetails,onChange:e=>o({previousIssueDetails:e.target.value}),className:"mt-3"}),(0,s.jsxs)("p",{className:"text-xs text-warning-600 mt-3",children:["⚠️ ",(0,s.jsx)("strong",{children:"ANOTAR:"})," Endere\xe7ar esses problemas na apresenta\xe7\xe3o da proposta."]})]}),"positive"===i.previousExperience&&(0,s.jsx)(k.I,{label:"Por que mudaram?",value:i.previousIssueDetails,onChange:e=>o({previousIssueDetails:e.target.value})})]}),(0,s.jsx)(b,{title:"NOTAS ADICIONAIS",children:(0,s.jsx)(v,{value:i.notes,onChange:e=>o({notes:e.target.value}),placeholder:"Observa\xe7\xf5es importantes sobre a descoberta..."})}),(0,s.jsx)(g,{title:"RESUMO DA DESCOBERTA",items:[{label:"Gatilho",value:u},{label:"Urg\xeancia percebida",value:"alone"===i.currentCaregiver?"Alta - idoso ficando sozinho":i.familyBurdenLevel>=7?"Moderada-Alta":"Moderada",color:"alone"===i.currentCaregiver?"danger":"default"},{label:"Sobrecarga familiar",value:"".concat(i.familyBurdenLevel,"/10")},{label:"Principal preocupa\xe7\xe3o",value:m||"—"},{label:"Experi\xeancia anterior",value:x}],tip:"Use essas informa\xe7\xf5es na apresenta\xe7\xe3o final!"})]})}var T=t(875);let P=(0,l.forwardRef)((e,a)=>{let{label:t,options:l,placeholder:r="Selecione...",helperText:n,error:i,fullWidth:o=!0,onValueChange:c,className:u,id:m,value:x,...h}=e,b=m||"select-".concat(Math.random().toString(36).slice(2,9)),p=!!i;return(0,s.jsxs)("div",{className:(0,d.cn)("space-y-1.5",o&&"w-full"),children:[t&&(0,s.jsx)("label",{htmlFor:b,className:"block text-sm font-medium text-neutral-700",children:t}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("select",{ref:a,id:b,value:x,onChange:e=>null==c?void 0:c(e.target.value),className:(0,d.cn)("w-full px-4 py-3 min-h-[48px] rounded-xl border bg-white text-neutral-900","appearance-none cursor-pointer","transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-offset-0","disabled:bg-neutral-100 disabled:cursor-not-allowed disabled:text-neutral-500","touch-manipulation",p?"border-danger-500 focus:ring-danger-500 focus:border-danger-500":"border-neutral-300 focus:ring-brand-500 focus:border-brand-500",!x&&"text-neutral-400",u),...h,children:[(0,s.jsx)("option",{value:"",disabled:!0,children:r}),l.map(e=>(0,s.jsx)("option",{value:e.value,disabled:e.disabled,children:e.label},e.value))]}),(0,s.jsx)(T.Z,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400 pointer-events-none"})]}),(n||i)&&(0,s.jsx)("p",{className:(0,d.cn)("text-sm",p?"text-danger-600":"text-neutral-500"),children:i||n})]})});P.displayName="Select";var O=t(2583),R=t(2489),_=t(2252);let M=(0,l.forwardRef)((e,a)=>{let{label:t,mask:r="custom",customMask:n,value:i,onChange:o,showValidation:c=!0,errorMessage:u,helperText:m,className:x,...h}=e,[b,p]=(0,l.useState)(null),[g,v]=(0,l.useState)(!1),f=(0,l.useCallback)(e=>{switch(r){case"cpf":return(0,O.Cz)(e);case"phone":return(0,O.CN)(e);case"cep":return(0,O.HY)(e);case"rg":return(0,O.rs)(e);case"name":return(0,O.KY)(e);case"custom":return n?(0,O.jc)(e,n):e;default:return e}},[r,n]),j=(0,l.useCallback)(e=>{switch((0,O.Uo)(e),r){case"cpf":return(0,O.pM)(e);case"phone":return(0,O.a$)(e);case"cep":return(0,O.cj)(e);case"name":return(0,O.Ol)(e);default:return!0}},[r]);(0,l.useEffect)(()=>{g&&c&&i&&p(j(i))},[i,g,c,j]);let C=g&&!1===b,y=g&&!0===b&&i;return(0,s.jsxs)("div",{className:"space-y-1",children:[t&&(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:t}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{ref:a,type:"text",value:i,onChange:e=>{let a=e.target.value;if("name"===r){o(a,a);return}let t=f(a),s=(0,O.Uo)(t);o(t,s)},onBlur:()=>{if(v(!0),c&&i&&p(j(i)),"name"===r&&i){let e=(0,O.KY)(i);o(e,e)}},className:(0,d.cn)("w-full px-4 py-3 rounded-lg border focus:outline-none focus:ring-2 transition-colors",C?"border-danger-500 focus:ring-danger-500 pr-10":y?"border-success-500 focus:ring-success-500 pr-10":"border-neutral-300 focus:ring-brand-500",x),...h}),c&&(0,s.jsxs)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[y&&(0,s.jsx)(N.Z,{className:"w-5 h-5 text-success-500"}),C&&(0,s.jsx)(R.Z,{className:"w-5 h-5 text-danger-500"})]})]}),C&&u&&(0,s.jsxs)("p",{className:"text-sm text-danger-600 flex items-center gap-1",children:[(0,s.jsx)(_.Z,{className:"w-4 h-4"}),u]}),m&&!C&&(0,s.jsx)("p",{className:"text-sm text-neutral-500",children:m})]})});M.displayName="MaskedInput";var F=t(3774),q=t(5863),L=t(5302);function z(e){let{onAddressSelect:a,initialCep:t="",className:r}=e,[n,i]=(0,l.useState)(t),[o,c]=(0,l.useState)(!1),[u,m]=(0,l.useState)(null),[x,h]=(0,l.useState)(null),[b,p]=(0,l.useState)(!1),g=(0,l.useRef)(null),v=(0,l.useCallback)(async e=>{let t=(0,O.Uo)(e);if(8===t.length){c(!0),m(null);try{let e=await fetch("https://viacep.com.br/ws/".concat(t,"/json/")),s=await e.json();if(s.erro)m("CEP n\xe3o encontrado"),h(null);else{let e={cep:s.cep,logradouro:s.logradouro,complemento:s.complemento,bairro:s.bairro,localidade:s.localidade,uf:s.uf};h(e),a(e)}}catch(e){m("Erro ao buscar endere\xe7o"),h(null)}finally{c(!1)}}},[a]);return(0,s.jsxs)("div",{className:(0,d.cn)("space-y-4",r),children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[(0,s.jsx)(F.Z,{className:"w-4 h-4 inline mr-2"}),"CEP"]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)("input",{ref:g,type:"text",value:n,onChange:e=>{let a=(0,O.HY)(e.target.value);i(a),m(null),8===(0,O.Uo)(a).length&&v(a)},placeholder:"00000-000",maxLength:9,className:(0,d.cn)("w-full px-4 py-3 rounded-lg border focus:outline-none focus:ring-2 transition-colors pr-10",u?"border-danger-500 focus:ring-danger-500":x?"border-success-500 focus:ring-success-500":"border-neutral-300 focus:ring-brand-500")}),(0,s.jsxs)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:[o&&(0,s.jsx)(q.Z,{className:"w-5 h-5 text-neutral-400 animate-spin"}),!o&&x&&(0,s.jsx)(L.Z,{className:"w-5 h-5 text-success-500"}),!o&&u&&(0,s.jsx)(R.Z,{className:"w-5 h-5 text-danger-500"})]})]}),(0,s.jsx)("button",{onClick:()=>{if(!navigator.geolocation){m("Geolocaliza\xe7\xe3o n\xe3o suportada");return}c(!0),navigator.geolocation.getCurrentPosition(async e=>{try{m("Digite o CEP manualmente"),c(!1)}catch(e){m("Erro ao obter localiza\xe7\xe3o"),c(!1)}},()=>{m("Permiss\xe3o de localiza\xe7\xe3o negada"),c(!1)})},type:"button",className:"px-4 py-2 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 border border-neutral-300",title:"Usar minha localiza\xe7\xe3o",children:(0,s.jsx)(F.Z,{className:"w-5 h-5"})})]}),u&&(0,s.jsx)("p",{className:"text-sm text-danger-600 mt-1",children:u})]}),x&&(0,s.jsxs)("div",{className:"bg-success-50 rounded-lg p-4 border border-success-200 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-success-700",children:"✓ Endere\xe7o encontrado"}),(0,s.jsx)("button",{onClick:()=>p(!b),type:"button",className:"text-sm text-success-600 hover:underline",children:b?"Usar autom\xe1tico":"Editar manualmente"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-neutral-500 mb-1",children:"Logradouro"}),(0,s.jsx)("input",{type:"text",value:x.logradouro,readOnly:!b,onChange:e=>h({...x,logradouro:e.target.value}),className:(0,d.cn)("w-full px-3 py-2 rounded border text-sm",b?"border-neutral-300 bg-white":"border-transparent bg-success-100/50")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-neutral-500 mb-1",children:"Bairro"}),(0,s.jsx)("input",{type:"text",value:x.bairro,readOnly:!b,onChange:e=>h({...x,bairro:e.target.value}),className:(0,d.cn)("w-full px-3 py-2 rounded border text-sm",b?"border-neutral-300 bg-white":"border-transparent bg-success-100/50")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-neutral-500 mb-1",children:"Cidade"}),(0,s.jsx)("input",{type:"text",value:x.localidade,readOnly:!0,className:"w-full px-3 py-2 rounded border border-transparent bg-success-100/50 text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-neutral-500 mb-1",children:"UF"}),(0,s.jsx)("input",{type:"text",value:x.uf,readOnly:!0,className:"w-full px-3 py-2 rounded border border-transparent bg-success-100/50 text-sm"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs text-neutral-500 mb-1",children:"N\xfamero e Complemento"}),(0,s.jsx)("input",{type:"text",placeholder:"N\xfamero, apto, bloco...",className:"w-full px-3 py-2 rounded border border-neutral-300 bg-white text-sm"})]})]})]})}var G=t(9102);let V=[{value:"married",label:"Casado(a)"},{value:"widowed",label:"Vi\xfavo(a)"},{value:"divorced",label:"Divorciado(a)"},{value:"single",label:"Solteiro(a)"}],B=[{id:"tv",label:"Assistir TV"},{id:"music",label:"Ouvir m\xfasica"},{id:"reading",label:"Ler"},{id:"visits",label:"Receber visitas"},{id:"gardening",label:"Jardinagem"},{id:"games",label:"Jogos (cartas, domin\xf3)"},{id:"crafts",label:"Croch\xea/tric\xf4/artesanato"},{id:"talking",label:"Conversar"},{id:"religion",label:"Religi\xe3o/ora\xe7\xf5es"}],U=[{value:"calm",label:"Calmo e tranquilo"},{value:"communicative",label:"Comunicativo e soci\xe1vel"},{value:"reserved",label:"Reservado e introspectivo"},{value:"anxious",label:"Ansioso ou preocupado"},{value:"irritable",label:"Irrit\xe1vel ou impaciente"},{value:"depressed",label:"Deprimido ou ap\xe1tico"},{value:"unstable",label:"Varia muito (inst\xe1vel)"}],Z=[{id:"female_caregiver",label:"Prefere cuidador do sexo feminino"},{id:"male_caregiver",label:"Prefere cuidador do sexo masculino"},{id:"no_tv",label:"N\xe3o gosta de TV ligada"},{id:"silence",label:"Gosta de sil\xeancio"},{id:"background_music",label:"Gosta de m\xfasica ambiente"},{id:"has_pet",label:"Tem animal de estima\xe7\xe3o (cuidador precisa aceitar)"}],H=[{value:"good",label:"Sim, dorme a noite toda"},{value:"bathroom",label:"Acorda para ir ao banheiro"},{value:"insomnia",label:"Tem ins\xf4nia"},{value:"inverted",label:"Troca o dia pela noite",badge:"Comum em dem\xeancias",badgeColor:"warning"},{value:"agitation",label:"Agita\xe7\xe3o noturna",badge:"Sundowner",badgeColor:"warning"}],Q=Array.from({length:24},(e,a)=>({value:"".concat(a.toString().padStart(2,"0"),":00"),label:"".concat(a.toString().padStart(2,"0"),":00")})),K=[{id:"alzheimer",label:"Alzheimer / Dem\xeancia"},{id:"parkinson",label:"Parkinson"},{id:"stroke",label:"AVC / Derrame"},{id:"depression",label:"Depress\xe3o diagnosticada"},{id:"anxiety",label:"Ansiedade"}],Y=[{id:"hypertension",label:"Hipertens\xe3o (press\xe3o alta)"},{id:"diabetes",label:"Diabetes"},{id:"heart_disease",label:"Problemas card\xedacos"},{id:"cholesterol",label:"Colesterol alto"}],J=[{id:"copd",label:"DPOC / Enfisema"},{id:"asthma",label:"Asma"},{id:"sleep_apnea",label:"Apneia do sono"}],W=[{id:"arthrosis",label:"Artrose / Artrite"},{id:"osteoporosis",label:"Osteoporose"},{id:"fracture",label:"Fratura recente"},{id:"prosthesis",label:"Pr\xf3tese de quadril/joelho"}],$=[{value:"none",label:"Nenhuma"},{value:"1_month",label:"\xdaltima queda h\xe1 menos de 1 m\xeas",badge:"Risco elevado",badgeColor:"danger"},{value:"3_months",label:"\xdaltima queda h\xe1 1-3 meses"},{value:"6_months",label:"\xdaltima queda h\xe1 3-6 meses"},{value:"frequent",label:"Quedas frequentes",badge:"Alto risco",badgeColor:"danger"}],X=[{value:"1-3",label:"1-3 medicamentos"},{value:"4-7",label:"4-7 medicamentos",badge:"Polifarm\xe1cia moderada",badgeColor:"warning"},{value:"8+",label:"8+ medicamentos",badge:"Risco de intera\xe7\xf5es",badgeColor:"danger"}],ee=[{id:"insulin",label:"Insulina",description:"Exige t\xe9cnica de aplica\xe7\xe3o"},{id:"anticoagulant",label:"Anticoagulante (Marevan, Xarelto)",description:"Risco de sangramento"},{id:"controlled",label:"Medicamento controlado (tarja preta)"},{id:"critical_timing",label:"Medicamento de hor\xe1rio cr\xedtico",description:"Ex: Parkinson"}],ea=[{id:"diabetic",label:"Dieta para diab\xe9tico"},{id:"low_sodium",label:"Dieta com pouco sal (hipertens\xe3o)"},{id:"fluid_restriction",label:"Dieta com restri\xe7\xe3o de l\xedquidos"},{id:"soft",label:"Dieta pastosa/l\xedquida (dificuldade de engolir)"},{id:"vegetarian",label:"Vegetariano/vegano"},{id:"religious",label:"Restri\xe7\xe3o religiosa (kosher, halal)"}];var et=t(2793),es=t(6756),el=t(8937),er=t(9397),en=t(8930),ei=t(9089);let eo=[{id:"daily",label:"Di\xe1ria",icon:"\uD83D\uDCC5",description:"Cobran\xe7a por plant\xe3o individual",periodLabel:"plant\xe3o"},{id:"specific_days",label:"Dias Espec\xedficos",icon:"\uD83D\uDDD3️",description:"Selecionar dias do m\xeas",periodLabel:"m\xeas"},{id:"weekly",label:"Semanal",icon:"\uD83D\uDCC6",description:"Fechamento toda semana",periodLabel:"semana"},{id:"biweekly",label:"Quinzenal",icon:"\uD83D\uDCCB",description:"Fechamento a cada 15 dias",periodLabel:"quinzena"},{id:"monthly",label:"Mensal",icon:"\uD83D\uDCCA",description:"Fechamento mensal",periodLabel:"m\xeas"},{id:"yearly",label:"Anual",icon:"\uD83D\uDCC8",description:"Contrato anual",periodLabel:"ano"}],ed=Array.from({length:24},(e,a)=>({value:"".concat(a.toString().padStart(2,"0"),":00"),label:"".concat(a.toString().padStart(2,"0"),":00")})),ec=[{value:"day",label:"Diurno (sem adicional noturno)"},{value:"night",label:"Noturno (+20% nas horas entre 22h-05h)"},{value:"24h",label:"24 horas (com pernoite)"}],eu=[{id:"mon",label:"Seg"},{id:"tue",label:"Ter"},{id:"wed",label:"Qua"},{id:"thu",label:"Qui"},{id:"fri",label:"Sex"},{id:"sat",label:"S\xe1b"},{id:"sun",label:"Dom"}];var em=t(2369),ex=t(8736),eh=t(9345),eb=t(44),ep=t(1723);let eg=[{value:"evaluator",label:"Avaliador"},{value:"coordinator",label:"Coordenador"},{value:"nurse",label:"Enfermeiro"},{value:"social_worker",label:"Assistente Social"},{value:"manager",label:"Gerente"}],ev=[{value:"toledo_centro",label:"Toledo - Centro"},{value:"toledo_jardim_porto_alegre",label:"Toledo - Jardim Porto Alegre"},{value:"toledo_vila_industrial",label:"Toledo - Vila Industrial"},{value:"cascavel",label:"Cascavel"},{value:"maringa",label:"Maring\xe1"},{value:"foz_do_iguacu",label:"Foz do Igua\xe7u"},{value:"medianeira",label:"Medianeira"},{value:"palotina",label:"Palotina"},{value:"assis_chateaubriand",label:"Assis Chateaubriand"},{value:"other",label:"Outra regi\xe3o"}];var ef=t(3581),ej=t(7689),eN=t(8906),eC=t(8226);let ey=[{value:"rg",label:"RG",icon:"\uD83E\uDEAA"},{value:"cnh",label:"CNH",icon:"\uD83D\uDE97"},{value:"passport",label:"Passaporte",icon:"✈️"},{value:"other",label:"Outro",icon:"\uD83D\uDCC4"}];function ek(e){let{label:a,value:t,onChange:r,placeholder:n}=e,i=(0,l.useRef)(null),o=(0,l.useRef)(null),d=(0,l.useRef)(null),[c,u]=(0,l.useState)(!1),[m,x]=(0,l.useState)(null),[h,b]=(0,l.useState)(null),p=(0,l.useCallback)(e=>{var a;let t=null===(a=e.target.files)||void 0===a?void 0:a[0];if(!t)return;let s=new FileReader;s.onload=()=>{r(s.result)},s.readAsDataURL(t)},[r]),g=async()=>{x(null);try{let e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});b(e),u(!0),setTimeout(()=>{o.current&&(o.current.srcObject=e,o.current.play())},100)}catch(e){console.error("Camera error:",e),e instanceof Error&&("NotAllowedError"===e.name?x("Permiss\xe3o para c\xe2mera negada. Por favor, permita o acesso."):"NotFoundError"===e.name?x("Nenhuma c\xe2mera encontrada no dispositivo."):x("Erro ao acessar a c\xe2mera. Tente fazer upload."))}},v=()=>{h&&(h.getTracks().forEach(e=>e.stop()),b(null)),u(!1)};return(0,l.useEffect)(()=>()=>{h&&h.getTracks().forEach(e=>e.stop())},[h]),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700",children:a}),c&&(0,s.jsxs)("div",{className:"relative rounded-lg overflow-hidden bg-black",children:[(0,s.jsx)("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-64 object-cover"}),(0,s.jsx)("canvas",{ref:d,className:"hidden"}),(0,s.jsxs)("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-4",children:[(0,s.jsx)("button",{onClick:v,type:"button",className:"px-4 py-2 bg-neutral-600 text-white rounded-lg hover:bg-neutral-700",children:(0,s.jsx)(R.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>{if(!o.current||!d.current)return;let e=o.current,a=d.current;a.width=e.videoWidth,a.height=e.videoHeight;let t=a.getContext("2d");t&&(t.drawImage(e,0,0),r(a.toDataURL("image/jpeg",.8)),v())},type:"button",className:"w-16 h-16 bg-white rounded-full border-4 border-brand-500 hover:bg-brand-50 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-12 h-12 bg-brand-500 rounded-full"})})]})]}),!c&&t&&(0,s.jsxs)("div",{className:"relative rounded-lg overflow-hidden border-2 border-success-300 bg-success-50",children:[(0,s.jsx)("img",{src:t,alt:a,className:"w-full h-48 object-cover"}),(0,s.jsx)("div",{className:"absolute top-2 right-2",children:(0,s.jsx)("button",{onClick:()=>{r(""),i.current&&(i.current.value="")},type:"button",className:"p-2 bg-danger-500 text-white rounded-full hover:bg-danger-600",children:(0,s.jsx)(R.Z,{className:"w-4 h-4"})})}),(0,s.jsxs)("div",{className:"absolute bottom-2 left-2 flex items-center gap-1 bg-success-500 text-white px-2 py-1 rounded-full text-xs",children:[(0,s.jsx)(L.Z,{className:"w-3 h-3"}),"Anexado"]})]}),!c&&!t&&(0,s.jsxs)("div",{className:"border-2 border-dashed border-neutral-300 rounded-lg p-4",children:[(0,s.jsx)("p",{className:"text-sm text-neutral-600 font-medium text-center mb-4",children:n}),m&&(0,s.jsxs)("div",{className:"bg-danger-50 text-danger-700 text-sm p-3 rounded-lg mb-4 flex items-start gap-2",children:[(0,s.jsx)(_.Z,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),m]}),(0,s.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,s.jsxs)("button",{onClick:g,type:"button",className:"flex flex-col items-center gap-2 px-4 py-3 bg-brand-500 text-white rounded-lg hover:bg-brand-600",children:[(0,s.jsx)(ef.Z,{className:"w-6 h-6"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Tirar Foto"})]}),(0,s.jsxs)("button",{onClick:()=>{var e;return null===(e=i.current)||void 0===e?void 0:e.click()},type:"button",className:"flex flex-col items-center gap-2 px-4 py-3 bg-neutral-100 text-neutral-700 rounded-lg hover:bg-neutral-200 border border-neutral-300",children:[(0,s.jsx)(ej.Z,{className:"w-6 h-6"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Enviar Arquivo"})]})]})]}),(0,s.jsx)("input",{ref:i,type:"file",accept:"image/*",onChange:p,className:"hidden"})]})}let ew=[{name:"Descoberta",component:I},{name:"Paciente",component:function(){let{patient:e,updatePatient:a}=(0,n.q)(e=>{var a;return{patient:null===(a=e.getCurrentEvaluation())||void 0===a?void 0:a.patient,updatePatient:e.updatePatient}});if(!e)return null;let t=(t,s)=>{a({hobbies:s?[...e.hobbies,t]:e.hobbies.filter(e=>e!==t)})},l=(t,s)=>{a({preferences:s?[...e.preferences,t]:e.preferences.filter(e=>e!==t)})},r=e=>{let t=new Date(e),s=(0,G.Fw)(t);a({birthDate:t,age:s})};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(b,{title:"DADOS PESSOAIS",children:[(0,s.jsx)(M,{label:"Nome completo",mask:"name",value:e.fullName,onChange:e=>a({fullName:e}),errorMessage:"Digite nome e sobrenome",placeholder:"Nome completo do paciente"}),(0,s.jsx)(k.I,{label:"Como gosta de ser chamado(a)",value:e.preferredName,onChange:e=>a({preferredName:e.target.value})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(k.I,{label:"Data de nascimento",type:"date",value:e.birthDate instanceof Date?e.birthDate.toISOString().split("T")[0]:"",onChange:e=>r(e.target.value)}),(0,s.jsx)(k.I,{label:"Idade",type:"number",value:e.age.toString(),readOnly:!0,className:"bg-neutral-100"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(M,{label:"CPF",mask:"cpf",value:e.cpf,onChange:e=>a({cpf:e}),placeholder:"000.000.000-00",errorMessage:"CPF inv\xe1lido"}),(0,s.jsx)(M,{label:"Telefone",mask:"phone",value:e.phone||"",onChange:e=>a({phone:e}),placeholder:"(00) 00000-0000",errorMessage:"Telefone inv\xe1lido"})]}),(0,s.jsx)(P,{label:"Estado civil",options:V,value:e.maritalStatus,onValueChange:e=>a({maritalStatus:e})})]}),(0,s.jsx)(b,{title:"ENDERE\xc7O",children:(0,s.jsx)(z,{onAddressSelect:e=>{a({address:e.logradouro,neighborhood:e.bairro,city:e.localidade,state:e.uf,cep:e.cep})},initialCep:e.cep||""})}),(0,s.jsxs)(b,{title:"HIST\xd3RIA DE VIDA",script:"O que o(a) paciente fazia antes? Qual era a profiss\xe3o? O que gosta de fazer?",children:[(0,s.jsx)(k.I,{label:"Profiss\xe3o anterior",value:e.previousOccupation,onChange:e=>a({previousOccupation:e.target.value})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700",children:"Hobbies e interesses"}),B.map(a=>(0,s.jsx)(C,{id:a.id,label:a.label,checked:e.hobbies.includes(a.id),onCheckedChange:e=>t(a.id,e)},a.id)),(0,s.jsx)(k.I,{label:"Outros hobbies",value:e.otherHobbies,onChange:e=>a({otherHobbies:e.target.value})})]}),(0,s.jsx)("p",{className:"text-xs text-neutral-500 bg-brand-50 p-3 rounded-lg",children:"\uD83D\uDCA1 Isso ajuda o cuidador a criar v\xednculo e estimular o paciente."})]}),(0,s.jsxs)(b,{title:"PERSONALIDADE E PREFER\xcaNCIAS",script:"Como \xe9 o jeito do(a) paciente? \xc9 mais calmo(a), agitado(a), gosta de conversar?",children:[(0,s.jsx)(j,{label:"Temperamento predominante",options:U,value:e.temperament,onValueChange:e=>a({temperament:e})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700",children:"Prefer\xeancias importantes"}),Z.map(a=>(0,s.jsx)(C,{id:a.id,label:a.label,checked:e.preferences.includes(a.id),onCheckedChange:e=>l(a.id,e)},a.id)),(0,s.jsx)(k.I,{label:"Outras prefer\xeancias",value:e.otherPreferences,onChange:e=>a({otherPreferences:e.target.value})})]})]}),(0,s.jsxs)(b,{title:"ROTINA ATUAL",script:"Como \xe9 um dia t\xedpico do(a) paciente?",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(P,{label:"Acorda por volta de",options:Q,value:e.wakeUpTime,onValueChange:e=>a({wakeUpTime:e})}),(0,s.jsx)(P,{label:"Caf\xe9 da manh\xe3",options:Q,value:e.breakfastTime,onValueChange:e=>a({breakfastTime:e})}),(0,s.jsx)(P,{label:"Almo\xe7o",options:Q,value:e.lunchTime,onValueChange:e=>a({lunchTime:e})}),(0,s.jsx)(P,{label:"Jantar",options:Q,value:e.dinnerTime,onValueChange:e=>a({dinnerTime:e})})]}),(0,s.jsx)(C,{id:"takes_nap",label:"Costuma cochilar \xe0 tarde?",checked:e.takesNap,onCheckedChange:e=>a({takesNap:e})}),(0,s.jsx)(P,{label:"Vai dormir",options:Q,value:e.bedTime,onValueChange:e=>a({bedTime:e})}),(0,s.jsx)(j,{label:"Dorme bem \xe0 noite?",options:H,value:e.sleepQuality,onValueChange:e=>a({sleepQuality:e})}),"bathroom"===e.sleepQuality&&(0,s.jsx)(k.I,{label:"Quantas vezes acorda?",type:"number",value:e.nightWakeups.toString(),onChange:e=>a({nightWakeups:parseInt(e.target.value)||0})})]}),(0,s.jsx)("div",{className:"bg-success-50 p-4 rounded-xl",children:(0,s.jsxs)("p",{className:"text-sm text-success-700",children:["✨ ",(0,s.jsx)("strong",{children:"Por que isso importa?"})," Conhecer a hist\xf3ria e prefer\xeancias do paciente permite selecionar um cuidador com perfil compat\xedvel, aumentando a chance de sucesso do atendimento."]})})]})}},{name:"Sa\xfade",component:function(){let{healthHistory:e,updateHealthHistory:a}=(0,n.q)(e=>{var a;return{healthHistory:null===(a=e.getCurrentEvaluation())||void 0===a?void 0:a.healthHistory,updateHealthHistory:e.updateHealthHistory}});if(!e)return null;let t=(t,s,l)=>{let r=e[t];a({[t]:l?[...r,s]:r.filter(e=>e!==s)})},l=(t,s)=>{a({specialMedications:s?[...e.specialMedications,t]:e.specialMedications.filter(e=>e!==t)})},r=(t,s)=>{a({dietaryRestrictions:s?[...e.dietaryRestrictions,t]:e.dietaryRestrictions.filter(e=>e!==t)})},i=e.neurologicalConditions.length+e.cardiovascularConditions.length+e.respiratoryConditions.length+e.mobilityConditions.length+e.otherConditions.length,o=e.specialMedications.includes("insulin");return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(b,{title:"DIAGN\xd3STICOS E CONDI\xc7\xd5ES",script:"Quais problemas de sa\xfade o(a) paciente tem?",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700 mb-2",children:"Neurol\xf3gico/Cognitivo"}),(0,s.jsx)("div",{className:"space-y-2",children:K.map(a=>(0,s.jsx)(C,{id:a.id,label:a.label,checked:e.neurologicalConditions.includes(a.id),onCheckedChange:e=>t("neurologicalConditions",a.id,e)},a.id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700 mb-2",children:"Cardiovascular"}),(0,s.jsx)("div",{className:"space-y-2",children:Y.map(a=>(0,s.jsx)(C,{id:a.id,label:a.label,checked:e.cardiovascularConditions.includes(a.id),onCheckedChange:e=>t("cardiovascularConditions",a.id,e)},a.id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700 mb-2",children:"Respirat\xf3rio"}),(0,s.jsx)("div",{className:"space-y-2",children:J.map(a=>(0,s.jsx)(C,{id:a.id,label:a.label,checked:e.respiratoryConditions.includes(a.id),onCheckedChange:e=>t("respiratoryConditions",a.id,e)},a.id))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700 mb-2",children:"Mobilidade"}),(0,s.jsx)("div",{className:"space-y-2",children:W.map(a=>(0,s.jsx)(C,{id:a.id,label:a.label,checked:e.mobilityConditions.includes(a.id),onCheckedChange:e=>t("mobilityConditions",a.id,e)},a.id))})]}),(0,s.jsx)(k.I,{label:"Outras condi\xe7\xf5es",value:e.otherConditions.join(", "),onChange:e=>a({otherConditions:e.target.value.split(", ").filter(Boolean)}),placeholder:"Ex: C\xe2ncer, doen\xe7a renal..."})]})}),(0,s.jsxs)(b,{title:"HIST\xd3RICO RECENTE",script:"Aconteceu alguma coisa importante nos \xfaltimos meses? Interna\xe7\xe3o, cirurgia, queda...?",children:[(0,s.jsx)(C,{id:"hospitalizations",label:"Hospitaliza\xe7\xf5es recentes (\xfaltimos 12 meses)",checked:e.recentHospitalizations,onCheckedChange:e=>a({recentHospitalizations:e})}),(0,s.jsx)(j,{label:"Quedas recentes (\xfaltimos 6 meses)",options:$,value:e.recentFalls,onValueChange:e=>a({recentFalls:e})}),(0,s.jsx)(C,{id:"surgery",label:"Cirurgias recentes",checked:e.recentSurgery,onCheckedChange:e=>a({recentSurgery:e})})]}),(0,s.jsxs)(b,{title:"MEDICAMENTOS EM USO",script:"O(A) paciente toma muitos rem\xe9dios? Consegue me mostrar?",children:[(0,s.jsx)("p",{className:"text-xs text-neutral-500 mb-3",children:"\uD83D\uDCA1 Ideal: pedir para ver a receita ou caixa dos rem\xe9dios"}),(0,s.jsx)(j,{label:"Quantidade aproximada de medicamentos",options:X,value:e.medicationCount,onValueChange:e=>a({medicationCount:e})}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700",children:"Medicamentos que exigem aten\xe7\xe3o especial"}),ee.map(a=>(0,s.jsx)(C,{id:a.id,label:a.label,description:a.description,checked:e.specialMedications.includes(a.id),onCheckedChange:e=>l(a.id,e)},a.id))]})]}),(0,s.jsxs)(b,{title:"ALERGIAS E RESTRI\xc7\xd5ES",script:"Tem alguma alergia que a gente precisa saber?",children:[(0,s.jsx)(C,{id:"no_allergies",label:"Nenhuma alergia conhecida",checked:!e.hasAllergies,onCheckedChange:e=>a({hasAllergies:!e})}),e.hasAllergies&&(0,s.jsxs)("div",{className:"space-y-3 mt-3",children:[(0,s.jsx)(k.I,{label:"Alergia a medicamentos",value:e.medicationAllergies,onChange:e=>a({medicationAllergies:e.target.value})}),(0,s.jsx)(k.I,{label:"Alergia alimentar",value:e.foodAllergies,onChange:e=>a({foodAllergies:e.target.value})}),(0,s.jsx)(C,{id:"latex_allergy",label:"Alergia a l\xe1tex (importante para luvas)",checked:e.latexAllergy,onCheckedChange:e=>a({latexAllergy:e})}),(0,s.jsx)(k.I,{label:"Outras alergias",value:e.otherAllergies,onChange:e=>a({otherAllergies:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-3 mt-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700",children:"Restri\xe7\xf5es alimentares"}),ea.map(a=>(0,s.jsx)(C,{id:a.id,label:a.label,checked:e.dietaryRestrictions.includes(a.id),onCheckedChange:e=>r(a.id,e)},a.id)),(0,s.jsx)(k.I,{label:"Outras restri\xe7\xf5es",value:e.otherDietaryRestrictions,onChange:e=>a({otherDietaryRestrictions:e.target.value})})]})]}),(0,s.jsx)(g,{title:"INDICADORES DE COMPLEXIDADE CL\xcdNICA",items:[{label:"Condi\xe7\xf5es cr\xf4nicas",value:i.toString()},{label:"Polifarm\xe1cia",value:"8+"===e.medicationCount?"Sim - 8+ medicamentos":"4-7"===e.medicationCount?"Moderada - 4-7 medicamentos":"N\xe3o",color:"8+"===e.medicationCount?"danger":"default"},{label:"Quedas recentes",value:"none"===e.recentFalls?"N\xe3o":"Sim",color:"frequent"===e.recentFalls||"1_month"===e.recentFalls?"danger":"default"},{label:"Usa insulina",value:o?"Sim":"N\xe3o",color:o?"warning":"default",highlight:o}],tip:o?"⚠️ Necess\xe1rio T\xe9cnico de Enfermagem para aplica\xe7\xe3o de insulina":void 0})]})}},{name:"ABEMID",component:function(){let{abemid:e,updateAbemid:a}=(0,n.q)(e=>{var a;return{abemid:null===(a=e.getCurrentEvaluation())||void 0===a?void 0:a.abemid,updateAbemid:e.updateAbemid}});if(!e)return null;let t=(0,et.P)(e),l=(t,s)=>{a({activeTriggers:s?[...e.activeTriggers,t]:e.activeTriggers.filter(e=>e!==t)})};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-brand-50 p-4 rounded-xl",children:(0,s.jsx)("p",{className:"text-sm text-brand-800",children:'\uD83D\uDCAC "Agora vou entender melhor como est\xe1 o dia a dia do(a) paciente em rela\xe7\xe3o a algumas atividades importantes. Isso me ajuda a indicar o profissional mais adequado."'})}),(0,s.jsx)(b,{number:1,title:"CONSCI\xcaNCIA E ORIENTA\xc7\xc3O",script:"O(A) paciente est\xe1 l\xfacido(a)? Sabe onde est\xe1, que dia \xe9 hoje, reconhece todo mundo?",children:(0,s.jsx)(j,{options:[{value:"0",label:"Totalmente l\xfacido(a)",description:"Conversa normalmente, sabe a data, reconhece todos"},{value:"2",label:"\xc0s vezes confuso(a)",description:"Tem momentos de esquecimento, repete perguntas"},{value:"5",label:"Muito confuso(a) ou n\xe3o responsivo",description:"N\xe3o reconhece familiares, desorientado no tempo e espa\xe7o",badge:"Cuidador especializado",badgeColor:"danger"}],value:e.consciousness.toString(),onValueChange:e=>a({consciousness:parseInt(e)})})}),(0,s.jsxs)(b,{number:2,title:"RESPIRA\xc7\xc3O",script:"O(A) paciente respira bem? Precisa de algum aparelho para ajudar a respirar?",children:[(0,s.jsx)(j,{options:[{value:"0",label:"Respira normalmente",description:"Sem necessidade de oxig\xeanio ou aparelhos"},{value:"2",label:"Usa oxig\xeanio suplementar",description:"Cateter nasal ou m\xe1scara de oxig\xeanio"},{value:"5",label:"Usa aparelho de ventila\xe7\xe3o",description:"BiPAP, CPAP ou ventilador mec\xe2nico",badge:"ENFERMEIRO OBRIGAT\xd3RIO",badgeColor:"danger"}],value:e.breathing.toString(),onValueChange:e=>{let t=parseInt(e);a({breathing:t}),5===t&&l("ventilation",!0),2===t&&l("oxygen",!0)}}),(0,s.jsx)(C,{id:"tracheostomy",label:"Tem traqueostomia",description:"→ ENFERMEIRO OBRIGAT\xd3RIO",checked:e.activeTriggers.includes("tracheostomy"),onCheckedChange:e=>l("tracheostomy",e)})]}),(0,s.jsxs)(b,{number:3,title:"ALIMENTA\xc7\xc3O",script:"Como o(a) paciente se alimenta? Come de tudo ou precisa de comida especial?",children:[(0,s.jsx)(j,{options:[{value:"0",label:"Come normalmente pela boca",description:"Qualquer consist\xeancia, sem dificuldade"},{value:"2",label:"Precisa de dieta modificada",description:"Comida pastosa, batida ou picada",badge:"Risco broncoaspira\xe7\xe3o",badgeColor:"warning"},{value:"5",label:"Usa sonda para alimenta\xe7\xe3o",description:"Sonda nasog\xe1strica, nasoenteral ou gastrostomia",badge:"T\xc9C. ENFERMAGEM MIN.",badgeColor:"danger"}],value:e.feeding.toString(),onValueChange:e=>{let t=parseInt(e);a({feeding:t}),5===t&&l("tube_feeding",!0)}}),(0,s.jsx)(C,{id:"tube_placement",label:"Precisa passar sonda",description:"→ ENFERMEIRO OBRIGAT\xd3RIO",checked:e.activeTriggers.includes("tube_placement"),onCheckedChange:e=>l("tube_placement",e)})]}),(0,s.jsxs)(b,{number:4,title:"MEDICA\xc7\xc3O",script:"Os rem\xe9dios s\xe3o s\xf3 de engolir (comprimidos) ou tem alguma inje\xe7\xe3o?",children:[(0,s.jsx)(j,{options:[{value:"0",label:"Apenas via oral",description:"Comprimidos, gotas, xaropes"},{value:"2",label:"Precisa de inje\xe7\xf5es subcut\xe2neas",description:"Insulina, anticoagulante (Clexane), etc.",badge:"T\xc9C. ENFERMAGEM OBRIG.",badgeColor:"warning"},{value:"5",label:"Medica\xe7\xe3o intravenosa",description:"Soro, antibi\xf3tico IV, quimioterapia",badge:"ENFERMEIRO OBRIGAT\xd3RIO",badgeColor:"danger"}],value:e.medication.toString(),onValueChange:e=>{let t=parseInt(e);a({medication:t}),2===t&&l("subcutaneous_injection",!0),5===t&&l("iv_medication",!0)}}),(0,s.jsx)(C,{id:"picc_catheter",label:"Tem PICC ou cateter central",description:"→ ENFERMEIRO OBRIGAT\xd3RIO",checked:e.activeTriggers.includes("picc_catheter"),onCheckedChange:e=>l("picc_catheter",e)})]}),(0,s.jsx)(b,{number:5,title:"PELE E FERIDAS",script:"O(A) paciente tem alguma ferida, escara ou machucado que precisa de curativo?",children:(0,s.jsx)(j,{options:[{value:"0",label:"Pele \xedntegra",description:"Sem feridas ou les\xf5es"},{value:"2",label:"Feridas simples em cicatriza\xe7\xe3o",description:"Escaras pequenas, arranh\xf5es, les\xf5es superficiais"},{value:"5",label:"Feridas complexas ou infectadas",description:"Escaras profundas, feridas com secre\xe7\xe3o, odor",badge:"ENFERMEIRO OBRIGAT\xd3RIO",badgeColor:"danger"}],value:e.skin.toString(),onValueChange:e=>{let t=parseInt(e);a({skin:t}),5===t&&l("complex_wounds",!0)}})}),(0,s.jsxs)(b,{number:6,title:"ELIMINA\xc7\xd5ES",script:"Como est\xe1 o controle de urina e fezes? Usa fralda ou alguma sonda?",children:[(0,s.jsx)(j,{options:[{value:"0",label:"Controle total",description:"Vai ao banheiro sozinho, n\xe3o usa fralda"},{value:"1",label:"Usa fralda geri\xe1trica",description:"Necessita de trocas peri\xf3dicas"},{value:"3",label:"Usa sonda vesical de demora (SVD)",description:"Sonda fixa com bolsa coletora"},{value:"5",label:"Precisa de cateterismo intermitente",description:"Passagem de sonda v\xe1rias vezes ao dia",badge:"ENFERMEIRO OBRIGAT\xd3RIO",badgeColor:"danger"}],value:e.elimination.toString(),onValueChange:e=>{let t=parseInt(e);a({elimination:t}),5===t&&l("intermittent_catheter",!0)}}),(0,s.jsx)(C,{id:"ostomy",label:"Usa colostomia/ileostomia",checked:e.activeTriggers.includes("ostomy"),onCheckedChange:e=>l("ostomy",e)})]}),(0,s.jsxs)("div",{className:(0,d.cn)("p-6 rounded-xl border-2","nurse"===t.indicatedProfessional?"bg-danger-50 border-danger-300":"tech_nurse"===t.indicatedProfessional?"bg-warning-50 border-warning-300":"bg-success-50 border-success-300"),children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-neutral-700 uppercase tracking-wide mb-3",children:"\uD83D\uDCCA RESULTADO ABEMID"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-neutral-600",children:"Escore total:"}),(0,s.jsxs)("span",{className:"font-bold",children:[t.totalScore," pontos"]})]}),t.activeTriggers.length>0&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-neutral-600",children:"Triggers ativos:"}),(0,s.jsx)("span",{className:"font-medium text-danger-600",children:t.activeTriggers.length})]}),(0,s.jsxs)("div",{className:"mt-4 p-4 bg-white rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-neutral-500 uppercase mb-1",children:"Profissional Indicado"}),(0,s.jsxs)("p",{className:(0,d.cn)("text-xl font-bold","nurse"===t.indicatedProfessional?"text-danger-600":"tech_nurse"===t.indicatedProfessional?"text-warning-600":"text-success-600"),children:["nurse"===t.indicatedProfessional?"\uD83D\uDD34":"tech_nurse"===t.indicatedProfessional?"\uD83D\uDFE1":"\uD83D\uDFE2"," ",t.professionalLabel]}),(0,s.jsx)("p",{className:"text-sm text-neutral-600 mt-2",children:t.justification})]})]})]})]})}},{name:"KATZ",component:function(){let{katz:e,updateKatz:a}=(0,n.q)(e=>{var a;return{katz:null===(a=e.getCurrentEvaluation())||void 0===a?void 0:a.katz,updateKatz:e.updateKatz}});if(!e)return null;let t=(0,es.w)(e),l=(t,s,l)=>{let r=e[t];a({[t]:l?[...r,s]:r.filter(e=>e!==s)})},r=(t,s)=>{a({mobilityAids:s?[...e.mobilityAids,t]:e.mobilityAids.filter(e=>e!==t)})};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-brand-50 p-4 rounded-xl",children:(0,s.jsx)("p",{className:"text-sm text-brand-800",children:'\uD83D\uDCAC "Agora vou perguntar sobre algumas atividades do dia a dia. Isso ajuda a entender quanto de ajuda o(a) paciente precisa e dimensionar corretamente o servi\xe7o."'})}),(0,s.jsxs)(b,{number:1,title:"TOMAR BANHO \uD83D\uDEBF",script:"Na hora do banho, como \xe9? Consegue ir sozinho(a) ou algu\xe9m precisa ajudar?",children:[(0,s.jsx)(j,{options:[{value:"1",label:"Independente",description:"Toma banho sozinho(a), sem ajuda"},{value:"0.5",label:"Precisa de ajuda parcial",description:"Precisa de ajuda para lavar costas, pernas ou p\xe9s"},{value:"0",label:"Dependente total",description:"Precisa que deem banho nele(a)"}],value:e.bathing.toString(),onValueChange:e=>a({bathing:parseFloat(e)})}),(0,s.jsxs)("div",{className:"space-y-2 mt-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Detalhes adicionais:"}),(0,s.jsx)(C,{id:"bath_fear",label:"Tem medo de cair no banheiro",checked:e.bathingDetails.includes("fear"),onCheckedChange:e=>l("bathingDetails","fear",e)}),(0,s.jsx)(C,{id:"bath_chair",label:"Precisa de cadeira de banho",checked:e.bathingDetails.includes("chair"),onCheckedChange:e=>l("bathingDetails","chair",e)}),(0,s.jsx)(C,{id:"bath_bed",label:"Banho \xe9 no leito (acamado)",checked:e.bathingDetails.includes("bed"),onCheckedChange:e=>l("bathingDetails","bed",e)}),(0,s.jsx)(C,{id:"bath_resist",label:"Resiste/n\xe3o gosta de tomar banho",checked:e.bathingDetails.includes("resist"),onCheckedChange:e=>l("bathingDetails","resist",e)})]})]}),(0,s.jsx)(b,{number:2,title:"VESTIR-SE \uD83D\uDC55",script:"E para se vestir? Consegue escolher a roupa e vestir sozinho(a)?",children:(0,s.jsx)(j,{options:[{value:"1",label:"Independente",description:"Escolhe a roupa e veste-se completamente"},{value:"0.5",label:"Precisa de ajuda parcial",description:"Precisa de ajuda com bot\xf5es, z\xedperes, meias ou sapatos"},{value:"0",label:"Dependente total",description:"Precisa que vistam nele(a)"}],value:e.dressing.toString(),onValueChange:e=>a({dressing:parseFloat(e)})})}),(0,s.jsxs)(b,{number:3,title:"USAR O BANHEIRO \uD83D\uDEBD",script:"Consegue ir ao banheiro sozinho(a)? Ou precisa de ajuda?",children:[(0,s.jsx)(j,{options:[{value:"1",label:"Independente",description:"Vai ao banheiro e faz a higiene sem ajuda"},{value:"0.5",label:"Precisa de ajuda parcial",description:"Precisa de ajuda para limpar-se ou ajeitar a roupa"},{value:"0",label:"Dependente total",description:"Usa fralda e depende de outros para troca"}],value:e.toileting.toString(),onValueChange:e=>a({toileting:parseFloat(e)})}),(0,s.jsxs)("div",{className:"space-y-2 mt-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Detalhes adicionais:"}),(0,s.jsx)(C,{id:"toilet_ask",label:"Consegue pedir quando quer ir ao banheiro",checked:e.toiletingDetails.includes("ask"),onCheckedChange:e=>l("toiletingDetails","ask",e)}),(0,s.jsx)(C,{id:"toilet_unaware",label:"N\xe3o avisa, descobrem pela fralda suja",checked:e.toiletingDetails.includes("unaware"),onCheckedChange:e=>l("toiletingDetails","unaware",e)}),(0,s.jsx)(C,{id:"toilet_support",label:"Precisa de apoio para sentar/levantar do vaso",checked:e.toiletingDetails.includes("support"),onCheckedChange:e=>l("toiletingDetails","support",e)})]})]}),(0,s.jsxs)(b,{number:4,title:"TRANSFER\xcaNCIA (Mobilidade) \uD83D\uDEB6",script:"O(A) paciente consegue levantar da cama sozinho(a)? E sentar numa cadeira?",children:[(0,s.jsx)(j,{options:[{value:"1",label:"Independente",description:"Deita, senta e levanta sem ajuda. Anda pela casa sem apoio"},{value:"0.5",label:"Precisa de ajuda parcial",description:"Precisa de apoio de pessoa ou equipamento"},{value:"0",label:"Dependente total",description:"Est\xe1 acamado(a) ou precisa ser carregado(a)",badge:"CARGA F\xcdSICA ALTA",badgeColor:"danger"}],value:e.transferring.toString(),onValueChange:e=>a({transferring:parseFloat(e)})}),.5===e.transferring&&(0,s.jsxs)("div",{className:"space-y-2 mt-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Usa:"}),(0,s.jsx)(C,{id:"mobility_cane",label:"Bengala",checked:e.mobilityAids.includes("cane"),onCheckedChange:e=>r("cane",e)}),(0,s.jsx)(C,{id:"mobility_walker",label:"Andador",checked:e.mobilityAids.includes("walker"),onCheckedChange:e=>r("walker",e)}),(0,s.jsx)(C,{id:"mobility_wheelchair",label:"Cadeira de rodas",checked:e.mobilityAids.includes("wheelchair"),onCheckedChange:e=>r("wheelchair",e)})]}),(0,s.jsxs)("div",{className:"space-y-2 mt-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Detalhes adicionais:"}),(0,s.jsx)(C,{id:"transfer_bed",label:"Fica a maior parte do tempo na cama",checked:e.transferringDetails.includes("bed"),onCheckedChange:e=>l("transferringDetails","bed",e)}),(0,s.jsx)(C,{id:"transfer_chair",label:"Fica a maior parte do tempo sentado(a)",checked:e.transferringDetails.includes("chair"),onCheckedChange:e=>l("transferringDetails","chair",e)})]})]}),(0,s.jsx)(b,{number:5,title:"CONTIN\xcaNCIA \uD83E\uDE7A",script:"Sobre o controle de xixi e coc\xf4... Consegue controlar ou usa fralda?",children:(0,s.jsx)(j,{options:[{value:"1",label:"Controle total",description:"Controla urina e fezes, n\xe3o usa fralda"},{value:"0.5",label:"Incontin\xeancia ocasional",description:"Escapes \xe0s vezes (especialmente \xe0 noite)"},{value:"0",label:"Incontinente",description:"Usa fralda o tempo todo, n\xe3o consegue controlar"}],value:e.continence.toString(),onValueChange:e=>a({continence:parseFloat(e)})})}),(0,s.jsxs)(b,{number:6,title:"ALIMENTA\xc7\xc3O \uD83C\uDF7D️",script:"Na hora das refei\xe7\xf5es, come sozinho(a) ou precisa de ajuda?",children:[(0,s.jsx)(j,{options:[{value:"1",label:"Independente",description:"Come sozinho(a), sem ajuda"},{value:"0.5",label:"Precisa de ajuda parcial",description:"Precisa que cortem a comida ou preparem o prato"},{value:"0",label:"Dependente total",description:"Precisa ser alimentado(a) por outra pessoa"}],value:e.feeding.toString(),onValueChange:e=>a({feeding:parseFloat(e)})}),(0,s.jsxs)("div",{className:"space-y-2 mt-3",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"Detalhes adicionais:"}),(0,s.jsx)(C,{id:"feed_supervision",label:"Precisa de supervis\xe3o (engasga, come r\xe1pido demais)",checked:e.feedingDetails.includes("supervision"),onCheckedChange:e=>l("feedingDetails","supervision",e)}),(0,s.jsx)(C,{id:"feed_forget",label:"Esquece de comer se n\xe3o lembrarem",checked:e.feedingDetails.includes("forget"),onCheckedChange:e=>l("feedingDetails","forget",e)}),(0,s.jsx)(C,{id:"feed_slow",label:"Come muito devagar (> 45min por refei\xe7\xe3o)",checked:e.feedingDetails.includes("slow"),onCheckedChange:e=>l("feedingDetails","slow",e)})]})]}),(0,s.jsxs)("div",{className:(0,d.cn)("p-6 rounded-xl border-2",t.complexityMultiplier>=1.25?"bg-danger-50 border-danger-300":t.complexityMultiplier>=1.1?"bg-warning-50 border-warning-300":"bg-success-50 border-success-300"),children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-neutral-700 uppercase tracking-wide mb-3",children:"\uD83D\uDCCA RESULTADO KATZ"}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-neutral-600",children:"Escore total:"}),(0,s.jsxs)("span",{className:"font-bold",children:[t.totalScore," de 6 pontos"]})]}),(0,s.jsxs)("div",{className:"mt-4 p-4 bg-white rounded-lg",children:[(0,s.jsxs)("p",{className:"text-xs font-medium text-neutral-500 uppercase mb-1",children:["Classifica\xe7\xe3o: KATZ ",t.classification]}),(0,s.jsx)("p",{className:(0,d.cn)("text-xl font-bold",t.complexityMultiplier>=1.25?"text-danger-600":t.complexityMultiplier>=1.1?"text-warning-600":"text-success-600"),children:t.classificationLabel}),(0,s.jsxs)("div",{className:"mt-4 p-3 bg-neutral-100 rounded-lg",children:[(0,s.jsx)("p",{className:"text-xs font-medium text-neutral-500 uppercase mb-1",children:"Multiplicador de Complexidade"}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-brand-600",children:["\xd7",t.complexityMultiplier.toFixed(2)," (+",((t.complexityMultiplier-1)*100).toFixed(0),"%)"]})]}),(0,s.jsx)("p",{className:"text-sm text-neutral-600 mt-3",children:t.justification})]})]})]})]})}},{name:"Responsabilidades",component:function(){let{lawton:e,safetyChecklist:a,updateLawton:t,updateSafetyChecklist:l}=(0,n.q)(e=>{var a,t;return{lawton:null===(a=e.getCurrentEvaluation())||void 0===a?void 0:a.lawton,safetyChecklist:null===(t=e.getCurrentEvaluation())||void 0===t?void 0:t.safetyChecklist,updateLawton:e.updateLawton,updateSafetyChecklist:e.updateSafetyChecklist}});if(!e||!a)return null;let r=Object.values(a.circulation).filter(Boolean).length+Object.values(a.bathroom).filter(Boolean).length+Object.values(a.bedroom).filter(Boolean).length,i=[a.bathroom.noGrabBarsShower,a.bathroom.slipperyShowerFloor].filter(Boolean).length;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"bg-neutral-800 text-white px-4 py-2 rounded-t-xl -mx-4",children:[(0,s.jsx)("h2",{className:"font-bold",children:"PARTE A: RESPONSABILIDADES"}),(0,s.jsx)("p",{className:"text-sm text-neutral-300",children:"Define cl\xe1usulas do contrato"})]}),(0,s.jsxs)(b,{number:1,title:"ADMINISTRA\xc7\xc3O DE MEDICAMENTOS",script:"Quem vai ficar respons\xe1vel por separar os rem\xe9dios? E quem deve dar para o(a) paciente?",children:[(0,s.jsx)(j,{label:"Separa\xe7\xe3o dos medicamentos",options:[{value:"family",label:"Fam\xedlia separa em porta-comprimidos"},{value:"caregiver",label:"Cuidador pode separar conforme receita"},{value:"pharmacy",label:"Servi\xe7o externo de farm\xe1cia prepara"}],value:e.medicationSeparation,onValueChange:e=>t({medicationSeparation:e})}),(0,s.jsx)(j,{label:"Administra\xe7\xe3o",options:[{value:"self",label:"Paciente toma sozinho (s\xf3 precisa lembrar)"},{value:"supervised",label:"Cuidador deve dar na m\xe3o e supervisionar"},{value:"administered",label:"Cuidador deve administrar (inclusive amassar se preciso)"}],value:e.medicationAdministration,onValueChange:e=>t({medicationAdministration:e})}),(0,s.jsxs)("div",{className:"bg-warning-50 p-3 rounded-lg text-sm text-warning-700",children:["⚠️ ",(0,s.jsx)("strong",{children:"IMPORTANTE:"})," O cuidador N\xc3O pode alterar doses.",(0,s.jsx)("br",{}),"→ Gerar cl\xe1usula: [Sim]"]})]}),(0,s.jsx)(b,{number:2,title:"FORNECIMENTO DE INSUMOS",script:"Os materiais como fraldas, luvas, len\xe7os... voc\xeas preferem que a fam\xedlia forne\xe7a ou quer que a gente inclua no servi\xe7o?",children:(0,s.jsx)(j,{options:[{value:"family",label:"Fam\xedlia fornece todos os insumos"},{value:"company",label:"Empresa fornece (incluir no valor)"},{value:"not_applicable",label:"N\xe3o se aplica (paciente n\xe3o usa fraldas/insumos)"}],value:e.supplyProvision,onValueChange:e=>t({supplyProvision:e})})}),(0,s.jsxs)(b,{number:3,title:"ALIMENTA\xc7\xc3O",script:"Sobre as refei\xe7\xf5es, voc\xeas preferem que o cuidador prepare a comida ou v\xe3o deixar pronto?",children:[(0,s.jsx)(j,{options:[{value:"ready",label:"Fam\xedlia deixa refei\xe7\xf5es prontas/congeladas"},{value:"simple",label:"Cuidador prepara refei\xe7\xf5es simples para o paciente"},{value:"full",label:"Cuidador prepara refei\xe7\xf5es para paciente + fam\xedlia",badge:"Cobrar adicional",badgeColor:"warning"}],value:e.mealPreparation,onValueChange:e=>t({mealPreparation:e})}),(0,s.jsx)(C,{id:"special_diet",label:"Paciente tem dieta especial com orienta\xe7\xe3o de nutricionista",checked:e.hasSpecialDiet,onCheckedChange:e=>t({hasSpecialDiet:e})})]}),(0,s.jsxs)(b,{number:4,title:"TAREFAS DOM\xc9STICAS (ESCLARECIMENTO IMPORTANTE)",script:"\xc9 importante esclarecer: o cuidador cuida da PESSOA, n\xe3o da casa...",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"bg-success-50 p-4 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-success-700 mb-2",children:"✅ O que EST\xc1 inclu\xeddo:"}),(0,s.jsxs)("ul",{className:"text-sm text-success-600 space-y-1",children:[(0,s.jsx)("li",{children:"• Organizar o quarto do paciente"}),(0,s.jsx)("li",{children:"• Lavar a lou\xe7a da refei\xe7\xe3o do paciente"}),(0,s.jsx)("li",{children:"• Lavar/passar roupa do paciente"}),(0,s.jsx)("li",{children:"• Trocar roupa de cama do paciente"})]})]}),(0,s.jsxs)("div",{className:"bg-danger-50 p-4 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-danger-700 mb-2",children:"❌ O que N\xc3O est\xe1 inclu\xeddo:"}),(0,s.jsxs)("ul",{className:"text-sm text-danger-600 space-y-1",children:[(0,s.jsx)("li",{children:"• Limpar a casa toda"}),(0,s.jsx)("li",{children:"• Cozinhar para a fam\xedlia"}),(0,s.jsx)("li",{children:"• Cuidar de outras pessoas"}),(0,s.jsx)("li",{children:"• Jardinagem, lavar carro, etc."})]})]})]}),(0,s.jsx)(C,{id:"scope_understood",label:"Fam\xedlia entendeu e concorda com o escopo de trabalho",checked:e.houseworkScope,onCheckedChange:e=>t({houseworkScope:e})})]}),(0,s.jsxs)("div",{className:"bg-neutral-800 text-white px-4 py-2 rounded-t-xl -mx-4 mt-8",children:[(0,s.jsx)("h2",{className:"font-bold",children:"PARTE B: CHECKLIST AMBIENTAL"}),(0,s.jsx)("p",{className:"text-sm text-neutral-300",children:"Seguran\xe7a do ambiente"})]}),(0,s.jsx)("div",{className:"bg-brand-50 p-4 rounded-xl",children:(0,s.jsx)("p",{className:"text-sm text-brand-800",children:'\uD83D\uDCAC "Vamos dar uma volta pela casa? Quero ver os ambientes que o(a) paciente mais usa pra identificar se tem algum ajuste simples que pode prevenir acidentes."'})}),(0,s.jsx)(b,{title:"CIRCULA\xc7\xc3O",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(C,{id:"loose_rugs",label:"Tapetes soltos → Sugerir remover",checked:a.circulation.looseRugs,onCheckedChange:e=>l({circulation:{...a.circulation,looseRugs:e}})}),(0,s.jsx)(C,{id:"exposed_wires",label:"Fios expostos no caminho → Sugerir fixar",checked:a.circulation.exposedWires,onCheckedChange:e=>l({circulation:{...a.circulation,exposedWires:e}})}),(0,s.jsx)(C,{id:"obstructed_paths",label:"M\xf3veis obstruindo passagem → Sugerir mover",checked:a.circulation.obstructedPaths,onCheckedChange:e=>l({circulation:{...a.circulation,obstructedPaths:e}})}),(0,s.jsx)(C,{id:"slippery_floors",label:"Piso escorregadio → Sugerir tapete antiderrapante",checked:a.circulation.slipperyFloors,onCheckedChange:e=>l({circulation:{...a.circulation,slipperyFloors:e}})}),(0,s.jsx)(C,{id:"poor_lighting",label:"Ilumina\xe7\xe3o fraca → Sugerir melhorar",checked:a.circulation.poorLighting,onCheckedChange:e=>l({circulation:{...a.circulation,poorLighting:e}})})]})}),(0,s.jsx)(b,{title:"BANHEIRO",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(C,{id:"no_grab_bars_shower",label:"Sem barras de apoio no box",description:"\uD83D\uDD34 CR\xcdTICO",checked:a.bathroom.noGrabBarsShower,onCheckedChange:e=>l({bathroom:{...a.bathroom,noGrabBarsShower:e}})}),(0,s.jsx)(C,{id:"no_grab_bars_toilet",label:"Sem barras ao lado do vaso",description:"⚠️ RISCO",checked:a.bathroom.noGrabBarsToilet,onCheckedChange:e=>l({bathroom:{...a.bathroom,noGrabBarsToilet:e}})}),(0,s.jsx)(C,{id:"slippery_shower",label:"Piso do box escorregadio",description:"\uD83D\uDD34 CR\xcdTICO",checked:a.bathroom.slipperyShowerFloor,onCheckedChange:e=>l({bathroom:{...a.bathroom,slipperyShowerFloor:e}})}),(0,s.jsx)(C,{id:"low_toilet",label:"Vaso muito baixo → Elevador de vaso",checked:a.bathroom.lowToilet,onCheckedChange:e=>l({bathroom:{...a.bathroom,lowToilet:e}})}),(0,s.jsx)(C,{id:"no_nonslip_mat",label:"Sem tapete antiderrapante",checked:a.bathroom.noNonSlipMat,onCheckedChange:e=>l({bathroom:{...a.bathroom,noNonSlipMat:e}})}),(0,s.jsx)(C,{id:"no_shower_chair",label:"Sem cadeira de banho",checked:a.bathroom.noShowerChair,onCheckedChange:e=>l({bathroom:{...a.bathroom,noShowerChair:e}})})]})}),(0,s.jsx)(b,{title:"QUARTO",children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(C,{id:"bed_too_low",label:"Cama muito baixa (< 55cm)",checked:a.bedroom.bedTooLow,onCheckedChange:e=>l({bedroom:{...a.bedroom,bedTooLow:e}})}),(0,s.jsx)(C,{id:"bed_too_high",label:"Cama muito alta (> 65cm) → Risco queda",checked:a.bedroom.bedTooHigh,onCheckedChange:e=>l({bedroom:{...a.bedroom,bedTooHigh:e}})}),(0,s.jsx)(C,{id:"no_side_access",label:"Sem acesso dos dois lados",checked:a.bedroom.noSideAccess,onCheckedChange:e=>l({bedroom:{...a.bedroom,noSideAccess:e}})}),(0,s.jsx)(C,{id:"no_night_light",label:"Sem luz noturna para banheiro",checked:a.bedroom.noNightLight,onCheckedChange:e=>l({bedroom:{...a.bedroom,noNightLight:e}})}),(0,s.jsx)(C,{id:"bad_mattress",label:"Colch\xe3o inadequado (muito mole)",checked:a.bedroom.inadequateMattress,onCheckedChange:e=>l({bedroom:{...a.bedroom,inadequateMattress:e}})})]})}),(0,s.jsxs)("div",{className:(0,d.cn)("p-6 rounded-xl border-2",i>0?"bg-danger-50 border-danger-300":r>3?"bg-warning-50 border-warning-300":"bg-success-50 border-success-300"),children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-neutral-700 uppercase tracking-wide mb-3",children:"\uD83D\uDCCA RESULTADO DO CHECKLIST"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-neutral-600",children:"Total de riscos identificados:"}),(0,s.jsx)("span",{className:"font-bold",children:r})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-neutral-600",children:"Riscos cr\xedticos:"}),(0,s.jsx)("span",{className:(0,d.cn)("font-bold",i>0?"text-danger-600":"text-success-600"),children:i})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700 mb-3",children:"POSI\xc7\xc3O DA FAM\xcdLIA:"}),(0,s.jsx)(j,{options:[{value:"will_adapt",label:"Vai fazer as adapta\xe7\xf5es sugeridas"},{value:"partial",label:"Vai fazer algumas adapta\xe7\xf5es"},{value:"wont_adapt",label:"N\xe3o vai fazer adapta\xe7\xf5es",badge:"Assun\xe7\xe3o de risco",badgeColor:"danger"}],value:a.familyPosition,onValueChange:e=>l({familyPosition:e})}),"wont_adapt"===a.familyPosition&&(0,s.jsxs)("div",{className:"mt-3 p-3 bg-danger-100 rounded-lg text-sm text-danger-700",children:["⚠️ ",(0,s.jsx)("strong",{children:"GERAR CL\xc1USULA DE ASSUN\xc7\xc3O DE RISCO COMPLETA"}),(0,s.jsx)("br",{}),"Fam\xedlia deve assinar ci\xeancia dos riscos"]})]})]})]})}},{name:"Proposta",component:function(){var e,a,t,r,i;let o=(0,n.q)(),c=o.getCurrentEvaluation(),[u,m]=(0,l.useState)([]),[x,h]=(0,l.useState)(null),[p,g]=(0,l.useState)(!1),[v,f]=(0,l.useState)(""),[N,C]=(0,l.useState)(""),[y,k]=(0,l.useState)("monthly"),[w,D]=(0,l.useState)(null),[S,A]=(0,l.useState)([]),[E,I]=(0,l.useState)([]),[T,O]=(0,l.useState)([]),R=e=>{let a=new Date;return["dom","seg","ter","qua","qui","sex","sab"][new Date(a.getFullYear(),a.getMonth(),e).getDay()]},_=e=>({dom:"Dom",seg:"Seg",ter:"Ter",qua:"Qua",qui:"Qui",sex:"Sex",sab:"S\xe1b"})[R(e)],M=e=>0===T.length||T.includes(R(e));if(!c)return null;let{schedule:F,patient:q,abemid:L,katz:z,lawton:G,safetyChecklist:V}=c,B=(0,et.P)(L),U=(0,es.w)(z),Z=parseInt((null===(e=F.startTime)||void 0===e?void 0:e.split(":")[0])||"7"),H=parseInt((null===(a=F.endTime)||void 0===a?void 0:a.split(":")[0])||"19"),Q=H>Z?H-Z:24-Z+H,K=(0,el.a4)({professionalType:B.indicatedProfessional,complexityMultiplier:U.complexityMultiplier,schedule:{...F,totalHoursPerDay:Q}}),Y=(()=>{let e=p&&null!==x?x:K.shiftCost,a=0;u.forEach(t=>{"additional"===t.type?"fixed"===t.valueType?a+=t.value:a+=e*t.value/100:"fixed"===t.valueType?a-=t.value:a-=e*t.value/100});let t=e+a,s=Math.round(52*F.weekDays.length/12);return{baseShift:e,totalAdjustment:a,finalShiftCost:t,shiftsPerMonth:s,monthlyTotal:t*s}})(),J=(0,el.JZ)(Y.finalShiftCost),W=(e,a)=>{let t=a?[...F.weekDays,e]:F.weekDays.filter(a=>a!==e);o.updateSchedule({weekDays:t})},$=e=>{m([...u,{id:Date.now().toString(),type:e,description:"additional"===e?N:v,valueType:"fixed",value:0}]),"additional"===e?C(""):f("")},X=(e,a)=>{m(u.map(t=>t.id===e?{...t,...a}:t))},ee=e=>{m(u.filter(a=>a.id!==e))},ea=[null==V?void 0:null===(t=V.bathroom)||void 0===t?void 0:t.noGrabBarsShower,null==V?void 0:null===(r=V.bathroom)||void 0===r?void 0:r.slipperyShowerFloor].filter(Boolean).length,em=[(null==G?void 0:G.medicationSeparation)&&"Administra\xe7\xe3o de medicamentos conforme receita",(null==L?void 0:null===(i=L.activeTriggers)||void 0===i?void 0:i.includes("subcutaneous_injection"))&&"Aplica\xe7\xe3o de insulina/inje\xe7\xf5es subcut\xe2neas",(null==G?void 0:G.supplyProvision)==="family"&&"Fornecimento de insumos pela fam\xedlia",(null==G?void 0:G.houseworkScope)&&"Escopo de trabalho (apenas cuidados ao paciente)",(null==V?void 0:V.familyPosition)==="wont_adapt"&&"Assun\xe7\xe3o de risco ambiental","N\xe3o-pessoalidade (empresa pode substituir profissional)"].filter(Boolean);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"bg-brand-50 dark:bg-brand-900/30 p-4 rounded-xl border border-brand-200 dark:border-brand-700",children:(0,s.jsx)("p",{className:"text-sm text-brand-700 dark:text-brand-200",children:'\uD83D\uDCAC "Agora que entendi bem a situa\xe7\xe3o, vou montar uma proposta personalizada. Me conta: qual seria o hor\xe1rio ideal para ter o cuidador aqui?"'})}),(0,s.jsxs)(b,{title:"DEFINI\xc7\xc3O DE HOR\xc1RIO",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(P,{label:"Hor\xe1rio de entrada",options:ed,value:F.startTime,onValueChange:e=>o.updateSchedule({startTime:e})}),(0,s.jsx)(P,{label:"Hor\xe1rio de sa\xedda",options:ed,value:F.endTime,onValueChange:e=>o.updateSchedule({endTime:e})})]}),(0,s.jsxs)("div",{className:"bg-neutral-100 p-3 rounded-lg text-center",children:[(0,s.jsx)("span",{className:"text-sm text-neutral-600",children:"Total de horas: "}),(0,s.jsxs)("span",{className:"text-lg font-bold text-brand-600",children:[Q," horas/dia"]})]}),(0,s.jsx)(j,{label:"Tipo de turno",options:ec,value:F.shiftType,onValueChange:e=>o.updateSchedule({shiftType:e})})]}),(0,s.jsxs)(b,{title:"DEFINI\xc7\xc3O DE FREQU\xcaNCIA",children:[(0,s.jsx)("p",{className:"text-sm text-neutral-600 mb-3",children:'\uD83D\uDCAC "E quantos dias por semana voc\xeas precisam?"'}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:eu.map(e=>(0,s.jsxs)("label",{className:(0,d.cn)("flex items-center justify-center w-12 h-12 rounded-lg border-2 cursor-pointer font-medium transition-colors",F.weekDays.includes(e.id)?"bg-brand-500 border-brand-500 text-white":"bg-white border-neutral-300 text-neutral-700 hover:border-brand-300"),children:[(0,s.jsx)("input",{type:"checkbox",className:"sr-only",checked:F.weekDays.includes(e.id),onChange:a=>W(e.id,a.target.checked)}),e.label]},e.id))}),(0,s.jsxs)("div",{className:"flex justify-between text-sm text-neutral-600 mb-4",children:[(0,s.jsxs)("span",{children:["Total: ",(0,s.jsxs)("strong",{children:[F.weekDays.length," dias/semana"]})]}),(0,s.jsxs)("span",{children:["Plant\xf5es/m\xeas: ",(0,s.jsx)("strong",{children:Y.shiftsPerMonth})]})]})]}),(0,s.jsxs)(b,{title:"\uD83D\uDCB0 PERSONALIZA\xc7\xc3O DE PRE\xc7O",children:[(0,s.jsx)("p",{className:"text-sm text-neutral-600 mb-4",children:"Configure o pre\xe7o final de acordo com as negocia\xe7\xf5es."}),(0,s.jsxs)("div",{className:"bg-neutral-50 p-4 rounded-lg mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-neutral-700",children:"Pre\xe7o Base Sugerido (Sistema):"}),(0,s.jsxs)("span",{className:"text-lg font-bold text-neutral-900",children:[(0,el.xG)(K.shiftCost),"/plant\xe3o"]})]}),(0,s.jsxs)("div",{className:"text-xs text-neutral-500",children:[B.professionalLabel," • ",Q,"h • Complexidade \xd7",U.complexityMultiplier.toFixed(2)]})]}),(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{type:"checkbox",checked:p,onChange:e=>{g(e.target.checked),e.target.checked&&null===x&&h(K.shiftCost)},className:"sr-only peer"}),(0,s.jsx)("div",{className:"w-14 h-8 bg-neutral-300 dark:bg-neutral-600 rounded-full peer-checked:bg-brand-500 transition-colors"}),(0,s.jsx)("div",{className:"absolute top-1 left-1 w-6 h-6 bg-white rounded-full shadow-md transition-transform peer-checked:translate-x-6"})]}),(0,s.jsx)("span",{className:"text-sm font-medium text-neutral-800 dark:text-neutral-100 group-hover:text-brand-600 dark:group-hover:text-brand-400 transition-colors",children:"Usar valor personalizado por plant\xe3o"})]})}),p&&(0,s.jsxs)("div",{className:"bg-brand-50 dark:bg-brand-900/30 p-4 rounded-lg mb-4 border border-brand-200 dark:border-brand-600",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-brand-700 dark:text-brand-300 mb-2",children:"Valor por plant\xe3o (R$)"}),(0,s.jsx)("input",{type:"number",value:x||"",onChange:e=>h(parseFloat(e.target.value)||0),className:"w-full px-4 py-3 rounded-lg border-2 border-brand-300 dark:border-brand-500 bg-white dark:bg-neutral-800 text-lg font-bold text-brand-700 dark:text-brand-300 focus:outline-none focus:ring-2 focus:ring-brand-500 placeholder:text-neutral-400",step:"10",min:"0"})]}),(0,s.jsxs)("div",{className:"border-t border-neutral-200 pt-4 mt-4",children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-neutral-700 mb-3 flex items-center gap-2",children:[(0,s.jsx)(er.Z,{className:"w-4 h-4 text-success-600"}),"ADICIONAIS"]}),(0,s.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,s.jsx)("input",{type:"text",value:N,onChange:e=>C(e.target.value),placeholder:"Motivo do adicional (ex: Feriado, Cuidados especiais)",className:"flex-1 px-3 py-2 rounded-lg border border-neutral-300 text-sm"}),(0,s.jsx)("button",{onClick:()=>$("additional"),disabled:!N,className:"px-4 py-2 bg-success-500 text-white rounded-lg text-sm font-medium disabled:opacity-50",children:(0,s.jsx)(er.Z,{className:"w-4 h-4"})})]}),u.filter(e=>"additional"===e.type).map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-success-50 rounded-lg mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-success-700 flex-1",children:e.description}),(0,s.jsxs)("select",{value:e.valueType,onChange:a=>X(e.id,{valueType:a.target.value}),className:"px-2 py-1 rounded border border-success-300 text-sm",children:[(0,s.jsx)("option",{value:"fixed",children:"R$"}),(0,s.jsx)("option",{value:"percentage",children:"%"})]}),(0,s.jsx)("input",{type:"number",value:e.value,onChange:a=>X(e.id,{value:parseFloat(a.target.value)||0}),className:"w-20 px-2 py-1 rounded border border-success-300 text-sm text-right",step:"percentage"===e.valueType?"1":"10"}),(0,s.jsx)("button",{onClick:()=>ee(e.id),className:"p-1 text-danger-500 hover:bg-danger-50 rounded",children:(0,s.jsx)(en.Z,{className:"w-4 h-4"})})]},e.id))]}),(0,s.jsxs)("div",{className:"border-t border-neutral-200 pt-4 mt-4",children:[(0,s.jsxs)("h4",{className:"text-sm font-semibold text-neutral-700 mb-3 flex items-center gap-2",children:[(0,s.jsx)(ei.Z,{className:"w-4 h-4 text-warning-600"}),"DESCONTOS"]}),(0,s.jsxs)("div",{className:"flex gap-2 mb-3",children:[(0,s.jsx)("input",{type:"text",value:v,onChange:e=>f(e.target.value),placeholder:"Motivo do desconto (ex: Indica\xe7\xe3o, Fidelidade)",className:"flex-1 px-3 py-2 rounded-lg border border-neutral-300 text-sm"}),(0,s.jsx)("button",{onClick:()=>$("discount"),disabled:!v,className:"px-4 py-2 bg-warning-500 text-white rounded-lg text-sm font-medium disabled:opacity-50",children:(0,s.jsx)(ei.Z,{className:"w-4 h-4"})})]}),u.filter(e=>"discount"===e.type).map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-warning-50 rounded-lg mb-2",children:[(0,s.jsx)("span",{className:"text-sm text-warning-700 flex-1",children:e.description}),(0,s.jsxs)("select",{value:e.valueType,onChange:a=>X(e.id,{valueType:a.target.value}),className:"px-2 py-1 rounded border border-warning-300 text-sm",children:[(0,s.jsx)("option",{value:"fixed",children:"R$"}),(0,s.jsx)("option",{value:"percentage",children:"%"})]}),(0,s.jsx)("input",{type:"number",value:e.value,onChange:a=>X(e.id,{value:parseFloat(a.target.value)||0}),className:"w-20 px-2 py-1 rounded border border-warning-300 text-sm text-right",step:"percentage"===e.valueType?"1":"10"}),(0,s.jsx)("button",{onClick:()=>ee(e.id),className:"p-1 text-danger-500 hover:bg-danger-50 rounded",children:(0,s.jsx)(en.Z,{className:"w-4 h-4"})})]},e.id))]}),u.length>0&&(0,s.jsxs)("div",{className:"border-t border-neutral-200 pt-4 mt-4",children:[(0,s.jsx)("h4",{className:"text-sm font-semibold text-neutral-700 mb-3",children:"RESUMO DOS AJUSTES"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Base:"}),(0,s.jsx)("span",{children:(0,el.xG)(Y.baseShift)})]}),u.map(e=>(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{className:"additional"===e.type?"text-success-600":"text-warning-600",children:["additional"===e.type?"+":"-"," ",e.description]}),(0,s.jsxs)("span",{className:"additional"===e.type?"text-success-600":"text-warning-600",children:["additional"===e.type?"+":"-","percentage"===e.valueType?"".concat(e.value,"%"):(0,el.xG)(e.value)]})]},e.id)),(0,s.jsxs)("div",{className:"flex justify-between font-bold pt-2 border-t border-neutral-200",children:[(0,s.jsx)("span",{children:"Ajuste total:"}),(0,s.jsxs)("span",{className:Y.totalAdjustment>=0?"text-success-600":"text-warning-600",children:[Y.totalAdjustment>=0?"+":"",(0,el.xG)(Y.totalAdjustment)]})]})]})]})]}),(0,s.jsxs)(b,{title:"\uD83D\uDCCA OP\xc7\xd5ES DE FECHAMENTO",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("p",{className:"text-sm text-neutral-600 dark:text-neutral-300 mb-3",children:"Selecione o tipo de fechamento/cobran\xe7a:"}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:eo.map(e=>(0,s.jsxs)("button",{onClick:()=>k(e.id),className:(0,d.cn)("p-3 rounded-lg border-2 text-left transition-all",y===e.id?"bg-brand-50 dark:bg-brand-900/30 border-brand-500 text-brand-700 dark:text-brand-300 shadow-md":"bg-white dark:bg-neutral-800 border-neutral-200 dark:border-neutral-600 text-neutral-700 dark:text-neutral-200 hover:border-brand-300"),children:[(0,s.jsx)("span",{className:"text-lg",children:e.icon}),(0,s.jsx)("span",{className:"font-medium block",children:e.label}),(0,s.jsx)("span",{className:"text-xs opacity-75",children:e.description})]},e.id))})]}),"weekly"===y&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200 mb-3",children:"Quais dias da semana ter\xe1 plant\xe3o?"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:eu.map(e=>(0,s.jsx)("button",{onClick:()=>{I(a=>a.includes(e.id)?a.filter(a=>a!==e.id):[...a,e.id])},className:(0,d.cn)("px-4 py-2 rounded-lg font-medium transition-all",E.includes(e.id)?"bg-brand-500 text-white shadow-md":"bg-white dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 text-neutral-700 dark:text-neutral-200 hover:border-brand-300"),children:e.label},e.id))}),E.length>0&&(0,s.jsxs)("div",{className:"mt-3 p-3 bg-brand-50 dark:bg-brand-900/20 rounded-lg",children:[(0,s.jsxs)("p",{className:"text-sm text-brand-700 dark:text-brand-300",children:[(0,s.jsx)("strong",{children:E.length})," dia(s) por semana =",(0,s.jsxs)("strong",{className:"ml-1",children:[4*E.length," plant\xf5es/m\xeas"]})]}),(0,s.jsxs)("p",{className:"text-lg font-bold text-brand-600 dark:text-brand-400 mt-1",children:[(0,el.xG)(Y.finalShiftCost*E.length),"/semana"]})]})]}),"biweekly"===y&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200 mb-3",children:"Configura\xe7\xe3o quinzenal:"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"p-4 bg-white dark:bg-neutral-700 rounded-lg border border-neutral-200 dark:border-neutral-600",children:[(0,s.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 uppercase",children:"Plant\xf5es por quinzena"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:2*F.weekDays.length})]}),(0,s.jsxs)("div",{className:"p-4 bg-brand-50 dark:bg-brand-900/30 rounded-lg border border-brand-200 dark:border-brand-600",children:[(0,s.jsx)("p",{className:"text-xs text-brand-600 dark:text-brand-400 uppercase",children:"Valor quinzenal"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-brand-600 dark:text-brand-400",children:(0,el.xG)(Y.finalShiftCost*F.weekDays.length*2)})]})]})]}),"yearly"===y&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200 mb-3",children:"Contrato anual:"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"p-4 bg-white dark:bg-neutral-700 rounded-lg border border-neutral-200 dark:border-neutral-600",children:[(0,s.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 uppercase",children:"Plant\xf5es por ano"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:52*F.weekDays.length})]}),(0,s.jsxs)("div",{className:"p-4 bg-brand-50 dark:bg-brand-900/30 rounded-lg border border-brand-200 dark:border-brand-600",children:[(0,s.jsx)("p",{className:"text-xs text-brand-600 dark:text-brand-400 uppercase",children:"Valor anual estimado"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-brand-600 dark:text-brand-400",children:(0,el.xG)(12*Y.monthlyTotal)}),(0,s.jsx)("p",{className:"text-xs text-success-600 dark:text-success-400 mt-1",children:"\uD83C\uDF81 Desconto de fidelidade pode ser aplicado"})]})]})]}),"specific_days"===y&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-neutral-50 dark:bg-neutral-800 rounded-lg",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200 mb-2",children:"Filtrar por dia da semana:"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[[{id:"seg",label:"Seg"},{id:"ter",label:"Ter"},{id:"qua",label:"Qua"},{id:"qui",label:"Qui"},{id:"sex",label:"Sex"},{id:"sab",label:"S\xe1b"},{id:"dom",label:"Dom"}].map(e=>(0,s.jsx)("button",{onClick:()=>{O(a=>a.includes(e.id)?a.filter(a=>a!==e.id):[...a,e.id])},className:(0,d.cn)("px-3 py-2 rounded-lg text-sm font-medium transition-all",T.includes(e.id)?"bg-brand-500 text-white shadow-md":"bg-white dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 text-neutral-700 dark:text-neutral-200 hover:border-brand-300"),children:e.label},e.id)),T.length>0&&(0,s.jsx)("button",{onClick:()=>O([]),className:"px-3 py-2 rounded-lg text-sm font-medium text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300",children:"Limpar filtro"})]}),T.length>0&&(0,s.jsxs)("p",{className:"text-xs text-brand-600 dark:text-brand-400 mt-2",children:["Exibindo apenas: ",T.map(e=>({dom:"Dom",seg:"Seg",ter:"Ter",qua:"Qua",qui:"Qui",sex:"Sex",sab:"S\xe1b"})[e]).join(", ")]})]}),(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200 mb-3",children:T.length>0?"Dias de ".concat(T.map(e=>({dom:"Domingo",seg:"Segunda",ter:"Ter\xe7a",qua:"Quarta",qui:"Quinta",sex:"Sexta",sab:"S\xe1bado"})[e]).join(" e ")," do m\xeas:"):"Selecione os dias do m\xeas:"}),0===T.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"].map(e=>(0,s.jsx)("div",{className:"text-center text-xs font-medium text-neutral-500 dark:text-neutral-400 py-1",children:e},e))}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-1",children:Array.from({length:31},(e,a)=>a+1).map(e=>{let a=S.includes(e);return(0,s.jsxs)("button",{onClick:()=>{A(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e].sort((e,a)=>e-a))},className:(0,d.cn)("w-full aspect-square rounded-lg text-sm font-medium transition-all flex flex-col items-center justify-center gap-0.5",a?"bg-brand-500 text-white shadow-md":"bg-white dark:bg-neutral-700 border border-neutral-200 dark:border-neutral-600 text-neutral-700 dark:text-neutral-200 hover:border-brand-300 hover:bg-brand-50 dark:hover:bg-brand-900/20"),children:[(0,s.jsx)("span",{className:"text-sm font-bold",children:e}),(0,s.jsx)("span",{className:(0,d.cn)("text-[10px]",a?"text-white/80":"text-neutral-400 dark:text-neutral-500"),children:_(e)})]},e)})})]}):(0,s.jsx)("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2",children:Array.from({length:31},(e,a)=>a+1).filter(e=>M(e)).map(e=>{let a=S.includes(e);return(0,s.jsxs)("button",{onClick:()=>{A(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e].sort((e,a)=>e-a))},className:(0,d.cn)("p-3 rounded-xl text-center transition-all",a?"bg-brand-500 text-white shadow-lg ring-2 ring-brand-400":"bg-white dark:bg-neutral-700 border-2 border-neutral-200 dark:border-neutral-600 text-neutral-700 dark:text-neutral-200 hover:border-brand-400 hover:bg-brand-50 dark:hover:bg-brand-900/20"),children:[(0,s.jsx)("span",{className:"text-2xl font-bold block",children:e}),(0,s.jsx)("span",{className:(0,d.cn)("text-xs font-medium",a?"text-white/90":"text-neutral-500 dark:text-neutral-400"),children:_(e)})]},e)})}),(0,s.jsxs)("div",{className:"mt-3 p-3 bg-brand-50 dark:bg-brand-900/20 rounded-lg",children:[(0,s.jsxs)("p",{className:"text-sm font-medium text-brand-700 dark:text-brand-300",children:[S.length," dia(s) selecionado(s)"]}),S.length>0&&(0,s.jsxs)("p",{className:"text-xs text-brand-600 dark:text-brand-400 mt-1",children:["Dias: ",S.map(e=>"".concat(e," (").concat(_(e),")")).join(", ")]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:["daily"===y&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200 mb-2",children:"\uD83D\uDCB0 Valor por di\xe1ria:"}),(0,s.jsx)("div",{className:"p-4 bg-brand-50 dark:bg-brand-900/30 rounded-lg border-2 border-brand-500",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-neutral-800 dark:text-neutral-100",children:"Valor por plant\xe3o (di\xe1ria)"}),(0,s.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Cobran\xe7a individual por atendimento"})]}),(0,s.jsx)("span",{className:"text-2xl font-bold text-brand-600 dark:text-brand-400",children:(0,el.xG)(Y.finalShiftCost)})]})})]}),"specific_days"===y&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200 mb-2",children:"\uD83D\uDCC5 Resumo da sele\xe7\xe3o de dias:"}),(0,s.jsxs)("div",{className:"p-4 bg-brand-50 dark:bg-brand-900/30 rounded-lg border-2 border-brand-500",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 uppercase",children:"Dias selecionados"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:S.length})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 uppercase",children:"Valor por dia"}),(0,s.jsx)("p",{className:"text-xl font-bold text-brand-600 dark:text-brand-400",children:(0,el.xG)(Y.finalShiftCost)})]})]}),(0,s.jsx)("div",{className:"mt-3 pt-3 border-t border-brand-200 dark:border-brand-600",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"font-medium text-neutral-700 dark:text-neutral-200",children:"Total mensal estimado:"}),(0,s.jsx)("span",{className:"text-xl font-bold text-brand-600 dark:text-brand-400",children:(0,el.xG)(Y.finalShiftCost*S.length)})]})})]})]}),"weekly"===y&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200 mb-2",children:"\uD83D\uDCC6 Resumo semanal:"}),(0,s.jsxs)("div",{className:"p-4 bg-brand-50 dark:bg-brand-900/30 rounded-lg border-2 border-brand-500",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 uppercase",children:"Dias/semana"}),(0,s.jsx)("p",{className:"text-2xl font-bold text-neutral-800 dark:text-neutral-100",children:E.length||F.weekDays.length})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 uppercase",children:"Valor/dia"}),(0,s.jsx)("p",{className:"text-lg font-bold text-neutral-600 dark:text-neutral-300",children:(0,el.xG)(Y.finalShiftCost)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-brand-600 dark:text-brand-400 uppercase font-semibold",children:"Total/semana"}),(0,s.jsx)("p",{className:"text-xl font-bold text-brand-600 dark:text-brand-400",children:(0,el.xG)(Y.finalShiftCost*(E.length||F.weekDays.length))})]})]}),(0,s.jsx)("div",{className:"mt-3 pt-3 border-t border-brand-200 dark:border-brand-600",children:(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-neutral-600 dark:text-neutral-300",children:"Estimativa mensal (4 semanas):"}),(0,s.jsx)("span",{className:"font-bold text-neutral-800 dark:text-neutral-100",children:(0,el.xG)(Y.finalShiftCost*(E.length||F.weekDays.length)*4)})]})})]})]}),"biweekly"===y&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200 mb-2",children:"\uD83D\uDCCB Selecione a frequ\xeancia semanal para c\xe1lculo quinzenal:"}),J.map(e=>(0,s.jsxs)("button",{onClick:()=>{D(e.days),o.updateSchedule({weekDays:e.weekDays})},className:(0,d.cn)("w-full flex justify-between items-center p-4 rounded-lg border-2 transition-all text-left",w===e.days||F.weekDays.length===e.days?"bg-brand-50 dark:bg-brand-900/30 border-brand-500 shadow-md":"bg-white dark:bg-neutral-800 border-neutral-200 dark:border-neutral-600 hover:border-brand-300"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:(0,d.cn)("w-5 h-5 rounded-full border-2 flex items-center justify-center",w===e.days||F.weekDays.length===e.days?"border-brand-500 bg-brand-500":"border-neutral-300 dark:border-neutral-500"),children:(w===e.days||F.weekDays.length===e.days)&&(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-neutral-800 dark:text-neutral-100",children:e.label}),(0,s.jsxs)("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 ml-2",children:["→ ",2*e.days," plant\xf5es/quinzena"]})]})]}),(0,s.jsxs)("span",{className:"text-lg font-bold text-brand-600 dark:text-brand-400",children:[(0,el.xG)(Y.finalShiftCost*e.days*2),"/quinzena"]})]},e.days))]}),"monthly"===y&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200 mb-2",children:"\uD83D\uDCCA Selecione a frequ\xeancia semanal:"}),J.map(e=>(0,s.jsxs)("button",{onClick:()=>{D(e.days),o.updateSchedule({weekDays:e.weekDays})},className:(0,d.cn)("w-full flex justify-between items-center p-4 rounded-lg border-2 transition-all text-left",w===e.days||F.weekDays.length===e.days?"bg-brand-50 dark:bg-brand-900/30 border-brand-500 shadow-md":"bg-white dark:bg-neutral-800 border-neutral-200 dark:border-neutral-600 hover:border-brand-300"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:(0,d.cn)("w-5 h-5 rounded-full border-2 flex items-center justify-center",w===e.days||F.weekDays.length===e.days?"border-brand-500 bg-brand-500":"border-neutral-300 dark:border-neutral-500"),children:(w===e.days||F.weekDays.length===e.days)&&(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-neutral-800 dark:text-neutral-100",children:e.label}),(0,s.jsxs)("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 ml-2",children:["→ ",e.shiftsPerMonth," plant\xf5es/m\xeas"]})]})]}),(0,s.jsx)("span",{className:"text-lg font-bold text-brand-600 dark:text-brand-400",children:(0,el.xG)(e.monthlyCost)})]},e.days))]}),"yearly"===y&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-700 dark:text-neutral-200 mb-2",children:"\uD83D\uDCC8 Selecione a frequ\xeancia semanal para contrato anual:"}),J.map(e=>{let a=12*e.shiftsPerMonth,t=12*e.monthlyCost;return(0,s.jsx)("button",{onClick:()=>{D(e.days),o.updateSchedule({weekDays:e.weekDays})},className:(0,d.cn)("w-full p-4 rounded-lg border-2 transition-all text-left",w===e.days||F.weekDays.length===e.days?"bg-brand-50 dark:bg-brand-900/30 border-brand-500 shadow-md":"bg-white dark:bg-neutral-800 border-neutral-200 dark:border-neutral-600 hover:border-brand-300"),children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:(0,d.cn)("w-5 h-5 rounded-full border-2 flex items-center justify-center mt-1",w===e.days||F.weekDays.length===e.days?"border-brand-500 bg-brand-500":"border-neutral-300 dark:border-neutral-500"),children:(w===e.days||F.weekDays.length===e.days)&&(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium text-neutral-800 dark:text-neutral-100",children:e.label}),(0,s.jsxs)("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[a," plant\xf5es/ano"]})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-sm text-neutral-400 line-through",children:(0,el.xG)(t)}),(0,s.jsx)("p",{className:"text-lg font-bold text-brand-600 dark:text-brand-400",children:(0,el.xG)(.95*t)}),(0,s.jsx)("p",{className:"text-xs text-success-600 dark:text-success-400",children:"\uD83C\uDF81 5% desconto fidelidade"})]})]})},e.days)})]})]}),(0,s.jsx)("div",{className:"mt-4 p-4 bg-neutral-100 dark:bg-neutral-700 rounded-lg",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 uppercase tracking-wide",children:"Tipo de Fechamento"}),(0,s.jsxs)("p",{className:"font-medium text-neutral-800 dark:text-neutral-100",children:["monthly"===y&&"Mensal","daily"===y&&"Di\xe1ria (por plant\xe3o)","weekly"===y&&"Semanal (".concat(E.length||F.weekDays.length," dias/semana)"),"biweekly"===y&&"Quinzenal","yearly"===y&&"Anual","specific_days"===y&&"".concat(S.length," dia(s) do m\xeas")]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 uppercase tracking-wide",children:"Valor Estimado"}),(0,s.jsx)("p",{className:"text-xl font-bold text-brand-600 dark:text-brand-400",children:"daily"===y?"".concat((0,el.xG)(Y.finalShiftCost),"/dia"):"specific_days"===y?(0,el.xG)(Y.finalShiftCost*S.length):"weekly"===y?"".concat((0,el.xG)(Y.finalShiftCost*(E.length||F.weekDays.length)),"/semana"):"biweekly"===y?"".concat((0,el.xG)(Y.finalShiftCost*F.weekDays.length*2),"/quinzena"):"yearly"===y?"".concat((0,el.xG)(12*Y.monthlyTotal),"/ano"):"".concat((0,el.xG)(Y.monthlyTotal),"/m\xeas")})]})]})})]}),(0,s.jsxs)("div",{className:"bg-neutral-50 border-2 border-neutral-200 rounded-xl p-6",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-neutral-700 uppercase tracking-wide mb-4",children:"\uD83D\uDCCB RESUMO FINAL (Vis\xe3o do Avaliador)"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex justify-between pb-2 border-b border-neutral-200",children:[(0,s.jsx)("span",{className:"font-medium",children:"PACIENTE:"}),(0,s.jsxs)("span",{children:[q.fullName||"N\xe3o informado",", ",q.age," anos"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"AVALIA\xc7\xd5ES:"}),(0,s.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{children:["• ABEMID: ",B.totalScore," pts"]}),(0,s.jsxs)("span",{className:(0,d.cn)("font-medium","nurse"===B.indicatedProfessional?"text-danger-600":"tech_nurse"===B.indicatedProfessional?"text-warning-600":"text-success-600"),children:["→ ","nurse"===B.indicatedProfessional?"\uD83D\uDD34":"tech_nurse"===B.indicatedProfessional?"\uD83D\uDFE1":"\uD83D\uDFE2"," ",B.professionalLabel]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{children:["• KATZ: ",U.totalScore," pts"]}),(0,s.jsxs)("span",{children:["→ Multiplicador \xd7",U.complexityMultiplier.toFixed(2)]})]}),ea>0&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{children:["• Checklist: ",ea," riscos cr\xedticos"]}),(0,s.jsx)("span",{className:"text-danger-600",children:"→ Cl\xe1usula de risco"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2 pt-2 border-t border-neutral-200",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"PRECIFICA\xc7\xc3O:"}),(0,s.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{children:"Valor sugerido (sistema):"}),(0,s.jsx)("span",{children:(0,el.xG)(K.shiftCost)})]}),p&&(0,s.jsxs)("div",{className:"flex justify-between text-brand-600",children:[(0,s.jsx)("span",{children:"Valor personalizado:"}),(0,s.jsx)("span",{children:(0,el.xG)(x||0)})]}),u.length>0&&(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{children:["Ajustes (",u.length,"):"]}),(0,s.jsxs)("span",{className:Y.totalAdjustment>=0?"text-success-600":"text-warning-600",children:[Y.totalAdjustment>=0?"+":"",(0,el.xG)(Y.totalAdjustment)]})]}),(0,s.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,s.jsx)("span",{children:"Valor/plant\xe3o final:"}),(0,s.jsx)("span",{children:(0,el.xG)(Y.finalShiftCost)})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{children:["\xd7 ",Y.shiftsPerMonth," plant\xf5es:"]}),(0,s.jsx)("span",{children:(0,el.xG)(Y.monthlyTotal)})]})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-brand-500 text-white rounded-lg text-center",children:[(0,s.jsx)("p",{className:"text-sm opacity-80",children:"VALOR MENSAL FINAL"}),(0,s.jsx)("p",{className:"text-3xl font-bold",children:(0,el.xG)(Y.monthlyTotal)}),(0,s.jsxs)("p",{className:"text-sm opacity-80 mt-1",children:["(",(0,el.xG)(Y.finalShiftCost),"/plant\xe3o)"]})]}),(0,s.jsxs)("div",{className:"space-y-2 pt-2 border-t border-neutral-200",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-neutral-600",children:"CL\xc1USULAS A INCLUIR:"}),(0,s.jsx)("div",{className:"space-y-1",children:em.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,s.jsx)("span",{className:"text-success-500",children:"✓"}),(0,s.jsx)("span",{children:e})]},a))})]})]})]})]})}},{name:"Avaliador",component:function(){var e;let{getCurrentEvaluation:a,updateEvaluatorInfo:t}=(0,n.q)(),l=a(),r=(null==l?void 0:l.evaluatorInfo)||{evaluatorId:"",evaluatorName:"",evaluatorRole:"",evaluatorEmail:"",evaluatorPhone:"",branchOffice:"",evaluationStartTime:new Date,evaluationLocation:"",evaluationNotes:""},i=(e,a)=>{t({[e]:a})};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-brand-100 mb-4",children:(0,s.jsx)(em.Z,{className:"w-8 h-8 text-brand-600"})}),(0,s.jsx)("h2",{className:"text-xl font-bold text-neutral-900",children:"Identifica\xe7\xe3o do Avaliador"}),(0,s.jsx)("p",{className:"text-sm text-neutral-500 mt-2",children:"Informa\xe7\xf5es para controle, m\xe9tricas e rastreabilidade"})]}),(0,s.jsx)("div",{className:"bg-neutral-50 rounded-lg p-4 border border-neutral-200",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-brand-100 flex items-center justify-center",children:(0,s.jsx)(ex.Z,{className:"w-5 h-5 text-brand-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-neutral-500",children:"ID da Avalia\xe7\xe3o"}),(0,s.jsx)("p",{className:"font-mono font-medium text-neutral-900",children:(null==l?void 0:null===(e=l.id)||void 0===e?void 0:e.slice(0,8))||"Novo"})]})]})}),(0,s.jsx)(M,{label:"Nome Completo do Avaliador *",mask:"name",value:r.evaluatorName,onChange:e=>i("evaluatorName",e),placeholder:"Digite seu nome completo",errorMessage:"Digite nome e sobrenome"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Fun\xe7\xe3o / Cargo *"}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-2",children:eg.map(e=>(0,s.jsx)("button",{onClick:()=>i("evaluatorRole",e.value),type:"button",className:(0,d.cn)("px-4 py-3 rounded-lg border text-sm font-medium transition-all",r.evaluatorRole===e.value?"border-brand-500 bg-brand-50 text-brand-700":"border-neutral-200 hover:border-neutral-300"),children:e.label},e.value))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[(0,s.jsx)(eh.Z,{className:"w-4 h-4 inline mr-2"}),"Email"]}),(0,s.jsx)("input",{type:"email",value:r.evaluatorEmail,onChange:e=>i("evaluatorEmail",e.target.value),placeholder:"email@empresa.com",className:"w-full px-4 py-3 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-brand-500"})]}),(0,s.jsx)(M,{label:"Telefone",mask:"phone",value:r.evaluatorPhone,onChange:e=>i("evaluatorPhone",e),placeholder:"(00) 00000-0000",errorMessage:"Telefone inv\xe1lido"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[(0,s.jsx)(eb.Z,{className:"w-4 h-4 inline mr-2"}),"Unidade / Filial"]}),(0,s.jsxs)("select",{value:r.branchOffice,onChange:e=>i("branchOffice",e.target.value),className:"w-full px-4 py-3 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-brand-500",children:[(0,s.jsx)("option",{value:"",children:"Selecione a unidade"}),ev.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[(0,s.jsx)(F.Z,{className:"w-4 h-4 inline mr-2"}),"Local da Avalia\xe7\xe3o"]}),(0,s.jsx)("input",{type:"text",value:r.evaluationLocation,onChange:e=>i("evaluationLocation",e.target.value),placeholder:"Endere\xe7o ou descri\xe7\xe3o do local",className:"w-full px-4 py-3 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-brand-500"})]}),(0,s.jsx)("div",{className:"bg-success-50 rounded-lg p-4 border border-success-200",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(ep.Z,{className:"w-5 h-5 text-success-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium text-success-700",children:"In\xedcio da Avalia\xe7\xe3o"}),(0,s.jsx)("p",{className:"text-sm text-success-600",children:new Date(r.evaluationStartTime).toLocaleString("pt-BR")})]})]})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Observa\xe7\xf5es (opcional)"}),(0,s.jsx)("textarea",{value:r.evaluationNotes,onChange:e=>i("evaluationNotes",e.target.value),placeholder:"Notas adicionais sobre a avalia\xe7\xe3o...",rows:3,className:"w-full px-4 py-3 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-brand-500 resize-none"})]}),(0,s.jsx)("div",{className:"bg-brand-50 rounded-lg p-4 border border-brand-200",children:(0,s.jsxs)("p",{className:"text-sm text-brand-700",children:[(0,s.jsx)("strong",{children:"Por que coletamos essas informa\xe7\xf5es?"}),(0,s.jsx)("br",{}),"Para medir taxa de finaliza\xe7\xe3o, tempo m\xe9dio de avalia\xe7\xe3o e qualidade do atendimento por unidade."]})})]})}},{name:"Documentos",component:function(){let{getCurrentEvaluation:e,updateKYC:a}=(0,n.q)(),t=e(),l=(null==t?void 0:t.kyc)||{documentType:"rg",documentNumber:"",documentIssuer:"",documentFrontPhoto:"",documentBackPhoto:"",selfiePhoto:"",verificationStatus:"pending",verificationNotes:"",consentGiven:!1},r=(e,t)=>{a({[e]:t})},i=e=>{r("consentGiven",e),e&&r("consentTimestamp",new Date)},o=l.documentFrontPhoto&&l.documentBackPhoto&&l.consentGiven;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-brand-100 mb-4",children:(0,s.jsx)(eN.Z,{className:"w-8 h-8 text-brand-600"})}),(0,s.jsx)("h2",{className:"text-xl font-bold text-neutral-900",children:"Verifica\xe7\xe3o de Documentos"}),(0,s.jsx)("p",{className:"text-sm text-neutral-500 mt-2",children:"KYC - Conhecimento do Cliente (LGPD Compliance)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Tipo de Documento"}),(0,s.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:ey.map(e=>(0,s.jsxs)("button",{onClick:()=>r("documentType",e.value),className:(0,d.cn)("flex flex-col items-center px-4 py-3 rounded-lg border text-sm font-medium transition-all",l.documentType===e.value?"border-brand-500 bg-brand-50 text-brand-700":"border-neutral-200 hover:border-neutral-300"),children:[(0,s.jsx)("span",{className:"text-2xl mb-1",children:e.icon}),e.label]},e.value))})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:[(0,s.jsx)(eC.Z,{className:"w-4 h-4 inline mr-2"}),"N\xfamero do Documento"]}),(0,s.jsx)("input",{type:"text",value:l.documentNumber,onChange:e=>r("documentNumber",e.target.value),placeholder:"Digite o n\xfamero",className:"w-full px-4 py-3 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-brand-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"\xd3rg\xe3o Emissor"}),(0,s.jsx)("input",{type:"text",value:l.documentIssuer,onChange:e=>r("documentIssuer",e.target.value),placeholder:"Ex: SSP-SP",className:"w-full px-4 py-3 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-brand-500"})]})]}),(0,s.jsxs)("div",{className:"bg-neutral-50 rounded-xl p-4 space-y-4",children:[(0,s.jsxs)("h3",{className:"font-semibold text-neutral-900 flex items-center gap-2",children:[(0,s.jsx)(ef.Z,{className:"w-5 h-5"}),"Fotos do Documento"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(ek,{label:"Frente do Documento *",value:l.documentFrontPhoto,onChange:e=>r("documentFrontPhoto",e),placeholder:"Foto da frente"}),(0,s.jsx)(ek,{label:"Verso do Documento *",value:l.documentBackPhoto,onChange:e=>r("documentBackPhoto",e),placeholder:"Foto do verso"})]}),(0,s.jsxs)("div",{className:"pt-4 border-t border-neutral-200",children:[(0,s.jsx)(ek,{label:"Selfie com Documento (opcional)",value:l.selfiePhoto||"",onChange:e=>r("selfiePhoto",e),placeholder:"Selfie segurando o documento"}),(0,s.jsx)("p",{className:"text-xs text-neutral-500 mt-2",children:"A selfie ajuda a confirmar a identidade do titular."})]})]}),(0,s.jsx)("div",{className:"bg-warning-50 rounded-lg p-4 border border-warning-200",children:(0,s.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer",children:[(0,s.jsx)("input",{type:"checkbox",checked:l.consentGiven,onChange:e=>i(e.target.checked),className:"w-5 h-5 rounded border-warning-400 text-brand-500 focus:ring-brand-500 mt-0.5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-warning-800",children:"Consentimento para Coleta de Dados *"}),(0,s.jsx)("p",{className:"text-sm text-warning-700 mt-1",children:"Autorizo a coleta e armazenamento das imagens do meu documento de identifica\xe7\xe3o para fins de verifica\xe7\xe3o de identidade, em conformidade com a LGPD."}),l.consentGiven&&l.consentTimestamp&&(0,s.jsxs)("p",{className:"text-xs text-warning-600 mt-2",children:["✓ Consentido em: ",new Date(l.consentTimestamp).toLocaleString("pt-BR")]})]})]})}),(0,s.jsx)("div",{className:(0,d.cn)("rounded-lg p-4 border",o?"bg-success-50 border-success-200":"bg-neutral-50 border-neutral-200"),children:(0,s.jsx)("div",{className:"flex items-center gap-3",children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L.Z,{className:"w-6 h-6 text-success-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-success-800",children:"Documentos Completos"}),(0,s.jsx)("p",{className:"text-sm text-success-600",children:"Pronto para prosseguir para gera\xe7\xe3o do contrato"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_.Z,{className:"w-6 h-6 text-neutral-400"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-neutral-700",children:"Pendente"}),(0,s.jsxs)("p",{className:"text-sm text-neutral-500",children:[!l.documentFrontPhoto&&"Foto da frente • ",!l.documentBackPhoto&&"Foto do verso • ",!l.consentGiven&&"Consentimento"]})]})]})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Observa\xe7\xf5es da Verifica\xe7\xe3o (uso interno)"}),(0,s.jsx)("textarea",{value:l.verificationNotes,onChange:e=>r("verificationNotes",e.target.value),placeholder:"Notas sobre a qualidade dos documentos, observa\xe7\xf5es...",rows:2,className:"w-full px-4 py-3 rounded-lg border border-neutral-300 focus:outline-none focus:ring-2 focus:ring-brand-500 resize-none"})]})]})}}];function eD(){var e,a;let t=(0,r.useParams)(),i=(0,r.useRouter)(),o=t.id,{currentStep:d,loadEvaluation:c,nextStep:u,prevStep:x,getCurrentEvaluation:h}=(0,n.q)(),b=h();if((0,l.useEffect)(()=>{o&&c(o)},[o,c]),!b)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-neutral-500 mb-4",children:"Avalia\xe7\xe3o n\xe3o encontrada"}),(0,s.jsx)("button",{onClick:()=>i.push("/"),className:"px-4 py-2 bg-brand-500 text-white rounded-lg",children:"Voltar ao In\xedcio"})]})});let p=ew[d],g=(null==p?void 0:p.component)||I,v=d===ew.length-1;return(0,s.jsx)(m,{stepNumber:d+1,totalSteps:ew.length,stepName:(null==p?void 0:p.name)||"Avalia\xe7\xe3o",patientName:(null===(e=b.patient)||void 0===e?void 0:e.preferredName)||(null===(a=b.patient)||void 0===a?void 0:a.fullName),onNext:()=>{v?i.push("/avaliacao/".concat(o,"/proposta")):(u(),window.scrollTo({top:0,behavior:"smooth"}))},onPrev:()=>{0===d?i.push("/"):(x(),window.scrollTo({top:0,behavior:"smooth"}))},canGoNext:!0,canGoPrev:!0,nextLabel:v?"Apresentar Proposta":"Pr\xf3ximo",isLastStep:v,children:(0,s.jsx)(g,{})})}},2827:function(e,a,t){"use strict";t.d(a,{I:function(){return o}});var s=t(7437),l=t(2265),r=t(1001),n=t(2252),i=t(401);let o=(0,l.forwardRef)((e,a)=>{let{label:t,helperText:l,error:o,success:d,leftIcon:c,rightIcon:u,fullWidth:m=!0,className:x,id:h,...b}=e,p=h||"input-".concat(Math.random().toString(36).slice(2,9)),g=!!o,v=d&&!g;return(0,s.jsxs)("div",{className:(0,r.cn)("space-y-1.5",m&&"w-full"),children:[t&&(0,s.jsx)("label",{htmlFor:p,className:"block text-sm font-medium text-neutral-700",children:t}),(0,s.jsxs)("div",{className:"relative",children:[c&&(0,s.jsx)("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400",children:c}),(0,s.jsx)("input",{ref:a,id:p,className:(0,r.cn)("w-full px-4 py-3 min-h-[48px] rounded-xl border bg-white text-neutral-900","placeholder:text-neutral-400","transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-offset-0","disabled:bg-neutral-100 disabled:cursor-not-allowed disabled:text-neutral-500","touch-manipulation",c&&"pl-10",u&&"pr-10",g?"border-danger-500 focus:ring-danger-500 focus:border-danger-500":v?"border-success-500 focus:ring-success-500 focus:border-success-500":"border-neutral-300 focus:ring-brand-500 focus:border-brand-500",x),...b}),(u||g||v)&&(0,s.jsx)("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:g?(0,s.jsx)(n.Z,{className:"w-5 h-5 text-danger-500"}):v?(0,s.jsx)(i.Z,{className:"w-5 h-5 text-success-500"}):u})]}),(l||o)&&(0,s.jsx)("p",{className:(0,r.cn)("text-sm",g?"text-danger-600":"text-neutral-500"),children:o||l})]})});o.displayName="Input"},2793:function(e,a,t){"use strict";t.d(a,{P:function(){return r},Q:function(){return i}});let s=["ventilation","tracheostomy","iv_medication","picc_catheter","complex_wounds","intermittent_catheter","tube_placement"],l=["oxygen","tube_feeding","subcutaneous_injection"];function r(e){let a=(e.consciousness||0)+(e.breathing||0)+(e.feeding||0)+(e.medication||0)+(e.skin||0)+(e.elimination||0),t=e.activeTriggers||[],r=t.some(e=>s.includes(e)),i=!r&&t.some(e=>l.includes(e)),o="caregiver",d="Cuidador(a)",c="Paciente sem necessidades t\xe9cnicas de enfermagem.";return r?(o="nurse",d="Enfermeiro(a)",c="Paciente necessita de procedimentos privativos de enfermeiro: ".concat(n(t.filter(e=>s.includes(e))),".")):i?(o="tech_nurse",d="T\xe9cnico(a) de Enfermagem",c="Paciente necessita de procedimentos t\xe9cnicos: ".concat(n(t.filter(e=>l.includes(e))),".")):a>=10&&(o="tech_nurse",d="T\xe9cnico(a) de Enfermagem",c="Paciente com alta complexidade cl\xednica (pontua\xe7\xe3o ABEMID elevada)."),{totalScore:a,activeTriggers:t,indicatedProfessional:o,professionalLabel:d,justification:c}}function n(e){let a={ventilation:"ventila\xe7\xe3o mec\xe2nica",tracheostomy:"traqueostomia",iv_medication:"medica\xe7\xe3o intravenosa",picc_catheter:"cateter PICC/central",complex_wounds:"curativos complexos",intermittent_catheter:"cateterismo intermitente",tube_placement:"passagem de sonda",oxygen:"oxigenoterapia",tube_feeding:"alimenta\xe7\xe3o por sonda",subcutaneous_injection:"aplica\xe7\xe3o de insulina/inje\xe7\xf5es subcut\xe2neas"};return e.map(e=>a[e]||e).join(", ")}let i={caregiver:220,tech_nurse:280,nurse:380}},6756:function(e,a,t){"use strict";t.d(a,{w:function(){return l}});let s=[{min:6,max:6,letter:"A",label:"Independente",multiplier:1},{min:5,max:5.5,letter:"B",label:"Depend\xeancia Leve",multiplier:1.05},{min:4,max:4.5,letter:"C",label:"Depend\xeancia Leve-Moderada",multiplier:1.1},{min:3,max:3.5,letter:"D",label:"Depend\xeancia Moderada",multiplier:1.15},{min:2,max:2.5,letter:"E",label:"Depend\xeancia Moderada-Grave",multiplier:1.2},{min:1,max:1.5,letter:"F",label:"Depend\xeancia Grave",multiplier:1.25},{min:0,max:.5,letter:"G",label:"Depend\xeancia Total",multiplier:1.35}];function l(e){var a,t,l,r,n,i;let o=null!==(a=e.bathing)&&void 0!==a?a:1,d=null!==(t=e.dressing)&&void 0!==t?t:1,c=null!==(l=e.toileting)&&void 0!==l?l:1,u=o+d+c+(null!==(r=e.transferring)&&void 0!==r?r:1)+(null!==(n=e.continence)&&void 0!==n?n:1)+(null!==(i=e.feeding)&&void 0!==i?i:1),m=s.find(e=>u>=e.min&&u<=e.max)||s[s.length-1];return{totalScore:u,classification:m.letter,classificationLabel:m.label,complexityMultiplier:m.multiplier,justification:function(e,a){var t,s,l,r,n,i;let o=[];if((null!==(t=e.bathing)&&void 0!==t?t:1)<1&&o.push("banho"),(null!==(s=e.dressing)&&void 0!==s?s:1)<1&&o.push("vestu\xe1rio"),(null!==(l=e.toileting)&&void 0!==l?l:1)<1&&o.push("higiene"),(null!==(r=e.transferring)&&void 0!==r?r:1)<1&&o.push("transfer\xeancia"),(null!==(n=e.continence)&&void 0!==n?n:1)<1&&o.push("contin\xeancia"),(null!==(i=e.feeding)&&void 0!==i?i:1)<1&&o.push("alimenta\xe7\xe3o"),0===o.length)return"Paciente independente em todas as atividades de vida di\xe1ria.";let d=o.length>1?"".concat(o.slice(0,-1).join(", ")," e ").concat(o[o.length-1]):o[0];return"Paciente com ".concat(a.label.toLowerCase()," em ").concat(d,", caracterizando maior demanda de cuidados.")}(e,m)}}},8937:function(e,a,t){"use strict";t.d(a,{JZ:function(){return r},a4:function(){return l},xG:function(){return n}});var s=t(2793);function l(e){let{professionalType:a,complexityMultiplier:t,schedule:l,includeSupplies:r=!1,suppliesCost:n=0}=e,i=s.Q[a],o=l.totalHoursPerDay||12,d=i/12,c=1;("night"===l.shiftType||"24h"===l.shiftType)&&(c=1+(l.shiftType,7/o*.2));let u=Math.ceil(d*o*t*c),m=Math.round(52*(l.weekDays||["mon","tue","wed","thu","fri"]).length/12),x=u*m;return{baseHourlyRate:d,complexityMultiplier:t,nightShiftMultiplier:c,weekendMultiplier:1,dailyCost:u,monthlyCost:x,taxes:0,totalMonthly:x+(r?n:0),shiftCost:u,shiftsPerMonth:m,professionalLabel:({caregiver:"Cuidador(a)",tech_nurse:"T\xe9cnico(a) de Enfermagem",nurse:"Enfermeiro(a)"})[a]}}function r(e){let a="number"==typeof e?e:e.baseShiftCost;return[{days:3,label:"3 dias (alternados)",weekDays:["mon","wed","fri"],shiftsPerMonth:12,shiftCost:a,monthlyCost:12*a},{days:5,label:"5 dias (Seg-Sex)",weekDays:["mon","tue","wed","thu","fri"],shiftsPerMonth:20,shiftCost:a,monthlyCost:20*a},{days:6,label:"6 dias (Seg-S\xe1b)",weekDays:["mon","tue","wed","thu","fri","sat"],shiftsPerMonth:24,shiftCost:a,monthlyCost:24*a},{days:7,label:"7 dias (todos)",weekDays:["mon","tue","wed","thu","fri","sat","sun"],shiftsPerMonth:28,shiftCost:a,monthlyCost:28*a}]}function n(e){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}},1001:function(e,a,t){"use strict";t.d(a,{cn:function(){return r}});var s=t(1994),l=t(3335);function r(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,l.m6)((0,s.W)(a))}},9102:function(e,a,t){"use strict";t.d(a,{Fw:function(){return d},p6:function(){return i},zg:function(){return o}});var s=t(936),l=t(4122),r=t(8442),n=t(4862);function i(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"dd/MM/yyyy",t="string"==typeof e?(0,s.D)(e):e;return(0,l.WU)(t,a,{locale:n.F})}function o(e){let a="string"==typeof e?(0,s.D)(e):e;return(0,r.Q)(a,{locale:n.F,addSuffix:!0})}function d(e){let a=new Date,t=a.getFullYear()-e.getFullYear(),s=a.getMonth()-e.getMonth();return(s<0||0===s&&a.getDate()<e.getDate())&&t--,t}},2583:function(e,a,t){"use strict";function s(e,a){let t="",s=0,l=e.replace(/\D/g,"");for(let e=0;e<a.length&&s<l.length;e++)"9"===a[e]?(t+=l[s],s++):t+=a[e];return t}function l(e){return e.replace(/\D/g,"")}t.d(a,{CN:function(){return i},Cz:function(){return n},HY:function(){return o},KY:function(){return h},Ol:function(){return x},Uo:function(){return l},a$:function(){return u},cj:function(){return m},j0:function(){return b},jc:function(){return s},pM:function(){return c},rs:function(){return d},yD:function(){return p}});let r={CPF:"999.999.999-99",RG:"99.999.999-9",PHONE:"(99) 99999-9999",PHONE_FIXED:"(99) 9999-9999",CEP:"99999-999"};function n(e){return s(e,r.CPF)}function i(e){let a=l(e);return s(e,a.length>10?r.PHONE:r.PHONE_FIXED)}function o(e){return s(e,r.CEP)}function d(e){return s(e,r.RG)}function c(e){let a=l(e);if(11!==a.length||/^(\d)\1{10}$/.test(a))return!1;let t=0;for(let e=0;e<9;e++)t+=parseInt(a[e])*(10-e);let s=10*t%11;if((10===s||11===s)&&(s=0),s!==parseInt(a[9]))return!1;t=0;for(let e=0;e<10;e++)t+=parseInt(a[e])*(11-e);return(10==(s=10*t%11)||11===s)&&(s=0),s===parseInt(a[10])}function u(e){let a=l(e);return a.length>=10&&a.length<=11}function m(e){return 8===l(e).length}function x(e){let a=e.trim().split(/\s+/);return!(a.length<2)&&a.every(e=>e.length>=2&&/^[a-zA-ZÀ-ÿ]+$/.test(e))}function h(e){let a=["de","da","do","das","dos","e"];return e.toLowerCase().split(/\s+/).map((e,t)=>t>0&&a.includes(e)?e:e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}let b=n,p=i}},function(e){e.O(0,[6137,4875,2859,4122,9179,415,5859,2971,2117,1744],function(){return e(e.s=1905)}),_N_E=e.O()}]);