(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2218],{3540:function(e,t,s){Promise.resolve().then(s.bind(s,5130))},4401:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},2252:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5302:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},407:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},3044:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]])},9397:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5805:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},5130:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var r=s(7437),a=s(2265),n=s(521),i=s(7648),l=s(3044),c=s(9763);let d=(0,c.Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var o=s(2252),u=s(5302),x=s(5805),h=s(4401),m=s(9397),p=s(407);let f=(0,c.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var y=s(4362),v=s(1001);let g=[{id:"1",type:"evaluation",message:"Nova avalia\xe7\xe3o iniciada por Carlos Silva",time:"5 min atr\xe1s",icon:l.Z},{id:"2",type:"user",message:"Usu\xe1rio Maria Santos ativado",time:"15 min atr\xe1s",icon:d},{id:"3",type:"alert",message:"Avalia\xe7\xe3o #342 pendente de revis\xe3o",time:"1 hora atr\xe1s",icon:o.Z},{id:"4",type:"complete",message:"Avalia\xe7\xe3o #339 conclu\xedda",time:"2 horas atr\xe1s",icon:u.Z}],b=[{id:"1",title:"Aprovar cadastro de enfermeiro",priority:"high"},{id:"2",title:"Revisar avalia\xe7\xe3o #340",priority:"medium"},{id:"3",title:"Atualizar tabela de pre\xe7os",priority:"low"}];function j(){var e;let{user:t}=(0,y.aC)(),[s,c]=(0,a.useState)("week"),o={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}};return(0,r.jsxs)("div",{className:"space-y-6 pb-8",children:[(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",style:{color:"rgb(var(--color-text))"},children:"Dashboard Administrativo"}),(0,r.jsxs)("p",{style:{color:"rgb(var(--color-text-secondary))"},children:["Bem-vindo, ",(null==t?void 0:null===(e=t.fullName)||void 0===e?void 0:e.split(" ")[0])||"Admin"]})]}),(0,r.jsx)("div",{className:"flex items-center gap-2 bg-white dark:bg-neutral-800 rounded-xl p-1 shadow-soft",children:["today","week","month"].map(e=>(0,r.jsx)("button",{onClick:()=>c(e),className:(0,v.cn)("px-4 py-2 rounded-lg text-sm font-medium transition-colors",s===e?"bg-brand-500 text-white":"hover:bg-neutral-100 dark:hover:bg-neutral-700"),style:{color:s===e?void 0:"rgb(var(--color-text-secondary))"},children:"today"===e?"Hoje":"week"===e?"Semana":"M\xeas"},e))})]}),(0,r.jsxs)(n.E.div,{variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}}},initial:"hidden",animate:"visible",className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)(n.E.div,{variants:o,className:"card",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-brand-100 dark:bg-brand-900/30 flex items-center justify-center",children:(0,r.jsx)(x.Z,{className:"w-6 h-6 text-brand-600 dark:text-brand-400"})}),(0,r.jsx)("span",{className:"text-xs font-medium text-success-600 bg-success-100 dark:bg-success-900/30 px-2 py-1 rounded-full",children:"+12%"})]}),(0,r.jsx)("p",{className:"text-3xl font-bold mt-3",style:{color:"rgb(var(--color-text))"},children:156}),(0,r.jsx)("p",{className:"text-sm",style:{color:"rgb(var(--color-text-secondary))"},children:"Usu\xe1rios cadastrados"})]}),(0,r.jsxs)(n.E.div,{variants:o,className:"card",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:(0,r.jsx)(l.Z,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),(0,r.jsx)("span",{className:"text-xs font-medium text-success-600 bg-success-100 dark:bg-success-900/30 px-2 py-1 rounded-full",children:"+8%"})]}),(0,r.jsx)("p",{className:"text-3xl font-bold mt-3",style:{color:"rgb(var(--color-text))"},children:342}),(0,r.jsx)("p",{className:"text-sm",style:{color:"rgb(var(--color-text-secondary))"},children:"Total de avalia\xe7\xf5es"})]}),(0,r.jsxs)(n.E.div,{variants:o,className:"card",children:[(0,r.jsx)("div",{className:"flex items-start justify-between",children:(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-success-100 dark:bg-success-900/30 flex items-center justify-center",children:(0,r.jsx)(d,{className:"w-6 h-6 text-success-600 dark:text-success-400"})})}),(0,r.jsx)("p",{className:"text-3xl font-bold mt-3",style:{color:"rgb(var(--color-text))"},children:45}),(0,r.jsx)("p",{className:"text-sm",style:{color:"rgb(var(--color-text-secondary))"},children:"Profissionais ativos"})]}),(0,r.jsxs)(n.E.div,{variants:o,className:"card",children:[(0,r.jsx)("div",{className:"flex items-start justify-between",children:(0,r.jsx)("div",{className:"w-12 h-12 rounded-xl bg-warning-100 dark:bg-warning-900/30 flex items-center justify-center",children:(0,r.jsx)(h.Z,{className:"w-6 h-6 text-warning-600 dark:text-warning-400"})})}),(0,r.jsx)("p",{className:"text-3xl font-bold mt-3",style:{color:"rgb(var(--color-text))"},children:89}),(0,r.jsx)("p",{className:"text-sm",style:{color:"rgb(var(--color-text-secondary))"},children:"Pacientes ativos"})]})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"lg:col-span-1 space-y-6",children:[(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("h2",{className:"font-semibold mb-4",style:{color:"rgb(var(--color-text))"},children:"A\xe7\xf5es R\xe1pidas"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(i.default,{href:"/usuarios",className:"flex items-center justify-between p-3 rounded-xl hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors group",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-brand-100 dark:bg-brand-900/30 flex items-center justify-center",children:(0,r.jsx)(m.Z,{className:"w-5 h-5 text-brand-600 dark:text-brand-400"})}),(0,r.jsx)("span",{style:{color:"rgb(var(--color-text))"},children:"Novo Usu\xe1rio"})]}),(0,r.jsx)(p.Z,{className:"w-5 h-5 text-neutral-400 group-hover:text-neutral-600"})]}),(0,r.jsxs)(i.default,{href:"/avaliacao",className:"flex items-center justify-between p-3 rounded-xl hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors group",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center",children:(0,r.jsx)(l.Z,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),(0,r.jsx)("span",{style:{color:"rgb(var(--color-text))"},children:"Ver Avalia\xe7\xf5es"})]}),(0,r.jsx)(p.Z,{className:"w-5 h-5 text-neutral-400 group-hover:text-neutral-600"})]}),(0,r.jsxs)("button",{className:"w-full flex items-center justify-between p-3 rounded-xl hover:bg-neutral-50 dark:hover:bg-neutral-800 transition-colors group",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-success-100 dark:bg-success-900/30 flex items-center justify-center",children:(0,r.jsx)(f,{className:"w-5 h-5 text-success-600 dark:text-success-400"})}),(0,r.jsx)("span",{style:{color:"rgb(var(--color-text))"},children:"Gerar Relat\xf3rio"})]}),(0,r.jsx)(p.Z,{className:"w-5 h-5 text-neutral-400 group-hover:text-neutral-600"})]})]})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"font-semibold",style:{color:"rgb(var(--color-text))"},children:"Tarefas Pendentes"}),(0,r.jsx)("span",{className:"text-xs font-medium bg-warning-100 dark:bg-warning-900/30 text-warning-700 dark:text-warning-400 px-2 py-1 rounded-full",children:b.length})]}),(0,r.jsx)("div",{className:"space-y-3",children:b.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-neutral-50 dark:bg-neutral-800 rounded-xl",children:[(0,r.jsx)("div",{className:(0,v.cn)("w-2 h-2 rounded-full","high"===e.priority?"bg-error-500":"medium"===e.priority?"bg-warning-500":"bg-neutral-400")}),(0,r.jsx)("span",{className:"flex-1 text-sm",style:{color:"rgb(var(--color-text))"},children:e.title})]},e.id))})]})]}),(0,r.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"lg:col-span-2 card",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"font-semibold",style:{color:"rgb(var(--color-text))"},children:"Atividade Recente"}),(0,r.jsx)("button",{className:"text-sm text-brand-600 dark:text-brand-400 hover:underline",children:"Ver tudo"})]}),(0,r.jsx)("div",{className:"space-y-4",children:g.map((e,t)=>{let s=e.icon;return(0,r.jsxs)("div",{className:"flex items-start gap-4 pb-4 border-b border-neutral-100 dark:border-neutral-700 last:border-0 last:pb-0",children:[(0,r.jsx)("div",{className:(0,v.cn)("w-10 h-10 rounded-xl flex items-center justify-center","evaluation"===e.type?"bg-purple-100 dark:bg-purple-900/30":"user"===e.type?"bg-brand-100 dark:bg-brand-900/30":"alert"===e.type?"bg-warning-100 dark:bg-warning-900/30":"bg-success-100 dark:bg-success-900/30"),children:(0,r.jsx)(s,{className:(0,v.cn)("w-5 h-5","evaluation"===e.type?"text-purple-600 dark:text-purple-400":"user"===e.type?"text-brand-600 dark:text-brand-400":"alert"===e.type?"text-warning-600 dark:text-warning-400":"text-success-600 dark:text-success-400")})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm",style:{color:"rgb(var(--color-text))"},children:e.message}),(0,r.jsx)("p",{className:"text-xs mt-1",style:{color:"rgb(var(--color-text-secondary))"},children:e.time})]})]},e.id)})})]})]})]})}},4362:function(e,t,s){"use strict";s.d(t,{Ho:function(){return d},QL:function(){return u},aC:function(){return o}});var r=s(7437),a=s(2265),n=s(9376),i=s(4270);let l=(0,a.createContext)(null),c=["/login","/forgot-pin","/"];function d(e){let{children:t}=e,s=(0,n.useRouter)(),d=(0,n.usePathname)(),o=function(){let[e,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{t(!0)},[]),e}(),u=(0,i.t)(),[x,h]=(0,a.useState)(!1),[m,p]=(0,a.useState)(null),[f,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(!o)return;let e=setTimeout(()=>{(0,i.v)().then(()=>{y(!0)})},100);return()=>clearTimeout(e)},[o]),(0,a.useEffect)(()=>{if(!f)return;let e=()=>{if(!u.checkSession()&&!c.includes(d)){s.push("/login");return}if(u.session){let e=new Date(u.session.expiresAt).getTime()-Date.now();p(e),h(e>0&&e<3e5)}};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[f,d,s,u]),(0,a.useEffect)(()=>{if(!u.isAuthenticated)return;let e=()=>{u.recordActivity()},t=["mousedown","keydown","touchstart","scroll"];return t.forEach(t=>{window.addEventListener(t,e,{passive:!0})}),()=>{t.forEach(t=>{window.removeEventListener(t,e)})}},[u.isAuthenticated,u]),(0,a.useEffect)(()=>{if(!f)return;let e=c.includes(d);u.isAuthenticated||e?u.isAuthenticated&&"/login"===d&&s.push("/"):s.push("/login")},[f,u.isAuthenticated,d,s]);let v=(0,a.useCallback)(async e=>{let t=await u.loginWithPin(e);return t.success&&s.push("/"),t},[u,s]),g=(0,a.useCallback)(()=>{u.logout(),s.push("/login")},[u,s]),b=(0,a.useCallback)(()=>{u.refreshSession(),h(!1)},[u]),j=(0,a.useCallback)(e=>u.hasPermission(e),[u]),k={user:u.getCurrentUser(),isAuthenticated:u.isAuthenticated,isLoading:!f,permissions:u.getPermissions(),login:v,logout:g,hasPermission:j,showSessionWarning:x,sessionExpiresIn:m,extendSession:b};return(0,r.jsx)(l.Provider,{value:k,children:t})}function o(){let e=(0,a.useContext)(l);if(!e)throw Error("useAuth deve ser usado dentro de AuthProvider");return e}function u(e){let{isAuthenticated:t,isLoading:s,hasPermission:r}=o(),i=(0,n.useRouter)();return(0,a.useEffect)(()=>{if(!s){if(!t){i.push("/login");return}e&&!r(e)&&i.push("/unauthorized")}},[t,s,e,r,i]),{isLoading:s,isAuthorized:t&&(!e||r(e))}}},1001:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(1994),a=s(3335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m6)((0,r.W)(t))}}},function(e){e.O(0,[6137,7230,4875,7648,4270,2971,2117,1744],function(){return e(e.s=3540)}),_N_E=e.O()}]);