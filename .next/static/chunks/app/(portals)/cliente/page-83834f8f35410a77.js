(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1483],{7356:function(e,t,s){Promise.resolve().then(s.bind(s,5719))},5719:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return D}});var a=s(7437),n=s(521),i=s(7648),l=s(407),r=s(1723),c=s(2718),d=s(3041),o=s(8997),m=s(4159),u=s(8736),x=s(3639),h=s(9121),f=s(4122),p=s(817),j=s(4780),N=s(4862),g=s(4362),v=s(1001);let b={id:"1",fullName:"Maria da Silva Santos",preferredName:"Dona Maria",age:78,photoUrl:null,careStatus:"active",mainDiagnosis:"Alzheimer est\xe1gio moderado",lastUpdate:new Date},w=[{id:"1",time:"07:00",endTime:"19:00",professionalName:"Ana Paula Costa",professionalType:"Cuidadora",professionalPhoto:null,status:"in_progress"}],y=[{id:"1",date:new Date,time:"14:00",title:"Fisioterapia",professionalName:"Dr. Carlos Silva",type:"appointment"},{id:"2",date:(0,h.E)(new Date,1),time:"10:00",title:"Consulta Neurologia",professionalName:"Dra. Patricia Souza",type:"external"}],E={daysUnderCare:45,pendingDocuments:1};function D(){let{user:e}=(0,g.aC)();return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-neutral-900",children:["Ol\xe1, ",null==e?void 0:e.fullName.split(" ")[0],"! \uD83D\uDC4B"]}),(0,a.jsx)("p",{className:"text-neutral-500 mt-1",children:(0,f.WU)(new Date,"EEEE, dd 'de' MMMM",{locale:N.F})})]}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,a.jsx)(i.default,{href:"/cliente/paciente",children:(0,a.jsxs)("div",{className:"card bg-gradient-to-br from-brand-500 to-brand-600 text-white p-5",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-16 h-16 rounded-full bg-white/20 flex items-center justify-center text-2xl font-bold",children:b.preferredName.charAt(0)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:b.preferredName}),(0,a.jsxs)("p",{className:"text-brand-100 text-sm",children:[b.age," anos"]}),(0,a.jsx)("p",{className:"text-brand-100 text-sm mt-1",children:b.mainDiagnosis})]}),(0,a.jsx)(l.Z,{className:"w-5 h-5 text-brand-200"})]}),(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-white/20 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}),(0,a.jsx)("span",{className:"text-sm text-brand-100",children:"Em atendimento"})]}),(0,a.jsxs)("span",{className:"text-sm text-brand-100",children:[E.daysUnderCare," dias de cuidado"]})]})]})})}),w.length>0&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h2",{className:"font-semibold text-neutral-900",children:"Profissional Hoje"}),(0,a.jsx)(i.default,{href:"/cliente/agenda",className:"text-sm text-brand-600",children:"Ver agenda"})]}),(0,a.jsx)("div",{className:"card",children:w.map(e=>(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-full bg-brand-100 flex items-center justify-center text-brand-600 font-semibold",children:e.professionalName.split(" ").map(e=>e[0]).slice(0,2).join("")}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-neutral-900",children:e.professionalName}),(0,a.jsx)("p",{className:"text-sm text-neutral-500",children:e.professionalType}),(0,a.jsxs)("p",{className:"text-sm text-neutral-500 flex items-center gap-1 mt-1",children:[(0,a.jsx)(r.Z,{className:"w-4 h-4"}),e.time," - ",e.endTime]})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(i.default,{href:"/cliente/mensagens?to=".concat(e.id),className:"p-2 bg-brand-50 text-brand-600 rounded-lg hover:bg-brand-100",children:(0,a.jsx)(c.Z,{className:"w-5 h-5"})}),(0,a.jsx)("a",{href:"tel:+5545999999999",className:"p-2 bg-success-50 text-success-600 rounded-lg hover:bg-success-100",children:(0,a.jsx)(d.Z,{className:"w-5 h-5"})})]})]},e.id))})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h2",{className:"font-semibold text-neutral-900",children:"Pr\xf3ximos Eventos"}),(0,a.jsx)(i.default,{href:"/cliente/agenda",className:"text-sm text-brand-600",children:"Ver todos"})]}),(0,a.jsx)("div",{className:"space-y-3",children:y.map((e,t)=>(0,a.jsxs)(n.E.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3+.1*t},className:"card flex items-center gap-4",children:[(0,a.jsxs)("div",{className:(0,v.cn)("w-12 h-12 rounded-lg flex flex-col items-center justify-center text-white",(0,p.z)(e.date)?"bg-brand-500":"bg-neutral-400"),children:[(0,a.jsx)("span",{className:"text-xs font-medium",children:(0,f.WU)(e.date,"MMM",{locale:N.F}).toUpperCase()}),(0,a.jsx)("span",{className:"text-lg font-bold leading-none",children:(0,f.WU)(e.date,"dd")})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-neutral-900",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-neutral-500",children:e.professionalName}),(0,a.jsxs)("p",{className:"text-sm text-neutral-400 flex items-center gap-1 mt-0.5",children:[(0,a.jsx)(r.Z,{className:"w-3 h-3"}),e.time,(0,p.z)(e.date)&&(0,a.jsx)("span",{className:"ml-2 px-1.5 py-0.5 bg-brand-100 text-brand-600 text-xs rounded",children:"Hoje"}),(0,j.P)(e.date)&&(0,a.jsx)("span",{className:"ml-2 px-1.5 py-0.5 bg-neutral-100 text-neutral-600 text-xs rounded",children:"Amanh\xe3"})]})]}),(0,a.jsx)(l.Z,{className:"w-5 h-5 text-neutral-300"})]},e.id))})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:[(0,a.jsx)("h2",{className:"font-semibold text-neutral-900 mb-3",children:"Acesso R\xe1pido"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsx)(i.default,{href:"/cliente/paciente/saude",children:(0,a.jsxs)("div",{className:"card p-4 flex flex-col items-center gap-2 hover:shadow-medium transition-shadow",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-50 flex items-center justify-center",children:(0,a.jsx)(o.Z,{className:"w-6 h-6 text-red-500"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-neutral-700",children:"Sa\xfade"})]})}),(0,a.jsx)(i.default,{href:"/cliente/paciente/medicamentos",children:(0,a.jsxs)("div",{className:"card p-4 flex flex-col items-center gap-2 hover:shadow-medium transition-shadow",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-purple-50 flex items-center justify-center",children:(0,a.jsx)(m.Z,{className:"w-6 h-6 text-purple-500"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-neutral-700",children:"Medicamentos"})]})}),(0,a.jsx)(i.default,{href:"/cliente/documentos",children:(0,a.jsxs)("div",{className:"card p-4 flex flex-col items-center gap-2 hover:shadow-medium transition-shadow relative",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center",children:(0,a.jsx)(u.Z,{className:"w-6 h-6 text-blue-500"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-neutral-700",children:"Documentos"}),E.pendingDocuments>0&&(0,a.jsx)("span",{className:"absolute top-2 right-2 w-5 h-5 bg-danger-500 text-white text-xs rounded-full flex items-center justify-center",children:E.pendingDocuments})]})}),(0,a.jsx)(i.default,{href:"/cliente/mensagens",children:(0,a.jsxs)("div",{className:"card p-4 flex flex-col items-center gap-2 hover:shadow-medium transition-shadow",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-50 flex items-center justify-center",children:(0,a.jsx)(c.Z,{className:"w-6 h-6 text-green-500"})}),(0,a.jsx)("span",{className:"text-sm font-medium text-neutral-700",children:"Mensagens"})]})})]})]}),(0,a.jsx)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},children:(0,a.jsx)("div",{className:"card bg-warning-50 border border-warning-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-warning-100 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(x.Z,{className:"w-5 h-5 text-warning-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-warning-800",children:"Documento pendente"}),(0,a.jsx)("p",{className:"text-sm text-warning-600 mt-1",children:"A receita m\xe9dica de Donepezila precisa ser renovada at\xe9 15/02/2026."}),(0,a.jsx)(i.default,{href:"/cliente/documentos",className:"inline-block mt-2 text-sm font-medium text-warning-700 hover:text-warning-800",children:"Ver documento â†’"})]})]})})})]})}},4362:function(e,t,s){"use strict";s.d(t,{Ho:function(){return d},QL:function(){return m},aC:function(){return o}});var a=s(7437),n=s(2265),i=s(9376),l=s(4270);let r=(0,n.createContext)(null),c=["/login","/forgot-pin","/"];function d(e){let{children:t}=e,s=(0,i.useRouter)(),d=(0,i.usePathname)(),o=function(){let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{t(!0)},[]),e}(),m=(0,l.t)(),[u,x]=(0,n.useState)(!1),[h,f]=(0,n.useState)(null),[p,j]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(!o)return;let e=setTimeout(()=>{(0,l.v)().then(()=>{j(!0)})},100);return()=>clearTimeout(e)},[o]),(0,n.useEffect)(()=>{if(!p)return;let e=()=>{if(!m.checkSession()&&!c.includes(d)){s.push("/login");return}if(m.session){let e=new Date(m.session.expiresAt).getTime()-Date.now();f(e),x(e>0&&e<3e5)}};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[p,d,s,m]),(0,n.useEffect)(()=>{if(!m.isAuthenticated)return;let e=()=>{m.recordActivity()},t=["mousedown","keydown","touchstart","scroll"];return t.forEach(t=>{window.addEventListener(t,e,{passive:!0})}),()=>{t.forEach(t=>{window.removeEventListener(t,e)})}},[m.isAuthenticated,m]),(0,n.useEffect)(()=>{if(!p)return;let e=c.includes(d);m.isAuthenticated||e?m.isAuthenticated&&"/login"===d&&s.push("/"):s.push("/login")},[p,m.isAuthenticated,d,s]);let N=(0,n.useCallback)(async e=>{let t=await m.loginWithPin(e);return t.success&&s.push("/"),t},[m,s]),g=(0,n.useCallback)(()=>{m.logout(),s.push("/login")},[m,s]),v=(0,n.useCallback)(()=>{m.refreshSession(),x(!1)},[m]),b=(0,n.useCallback)(e=>m.hasPermission(e),[m]),w={user:m.getCurrentUser(),isAuthenticated:m.isAuthenticated,isLoading:!p,permissions:m.getPermissions(),login:N,logout:g,hasPermission:b,showSessionWarning:u,sessionExpiresIn:h,extendSession:v};return(0,a.jsx)(r.Provider,{value:w,children:t})}function o(){let e=(0,n.useContext)(r);if(!e)throw Error("useAuth deve ser usado dentro de AuthProvider");return e}function m(e){let{isAuthenticated:t,isLoading:s,hasPermission:a}=o(),l=(0,i.useRouter)();return(0,n.useEffect)(()=>{if(!s){if(!t){l.push("/login");return}e&&!a(e)&&l.push("/unauthorized")}},[t,s,e,a,l]),{isLoading:s,isAuthorized:t&&(!e||a(e))}}},1001:function(e,t,s){"use strict";s.d(t,{cn:function(){return i}});var a=s(1994),n=s(3335);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,a.W)(t))}}},function(e){e.O(0,[6137,7230,4875,2859,4122,7648,3012,4270,2971,2117,1744],function(){return e(e.s=7356)}),_N_E=e.O()}]);