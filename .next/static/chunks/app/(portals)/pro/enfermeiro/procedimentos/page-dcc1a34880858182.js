(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3404],{59910:function(e,t,a){Promise.resolve().then(a.bind(a,32853))},63639:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},31047:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},65302:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},10407:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},91723:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},54159:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]])},99397:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},95337:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]])},99376:function(e,t,a){"use strict";var s=a(35475);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},32853:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var s=a(57437),r=a(2265),l=a(40521),n=a(48614),i=a(54159),c=a(42488),o=a(88997),d=a(93609),u=a(95337),m=a(65302),p=a(91723),x=a(63639),h=a(73247),g=a(99397),b=a(10407),y=a(26899),v=a(31047),f=a(14362),j=a(91001),N=a(44372),w=a(5341),k=a(84122),Z=a(34862);let C=(()=>{let e=new Date;return[{id:"1",patientName:"Maria Silva",patientId:"p1",type:"vitals",title:"Aferi\xe7\xe3o de Sinais Vitais",description:"Aferi\xe7\xe3o completa de sinais vitais de rotina",performedAt:(0,N.b)(e,1),status:"completed",values:{bloodPressure:"120/80",heartRate:72,temperature:36.5,oxygenSaturation:98}},{id:"2",patientName:"Maria Silva",patientId:"p1",type:"medication",title:"Administra\xe7\xe3o de Medicamento",description:"Losartana 50mg - Via oral",performedAt:(0,N.b)(e,2),status:"completed"},{id:"3",patientName:"Jo\xe3o Santos",patientId:"p2",type:"wound_care",title:"Curativo",description:"Troca de curativo em \xfalcera de press\xe3o regi\xe3o sacral",performedAt:(0,N.b)(e,3),status:"completed"},{id:"4",patientName:"Maria Silva",patientId:"p1",type:"vitals",title:"Glicemia Capilar",description:"Mensura\xe7\xe3o de glicemia capilar pr\xe9-refei\xe7\xe3o",performedAt:(0,N.b)(e,4),status:"completed",values:{glucose:142}},{id:"5",patientName:"Ana Oliveira",patientId:"p3",type:"injection",title:"Aplica\xe7\xe3o de Insulina",description:"Insulina NPH 20 UI - SC regi\xe3o abdominal",performedAt:(0,w.k)(e,1),status:"completed"},{id:"6",patientName:"Maria Silva",patientId:"p1",type:"medication",title:"Administra\xe7\xe3o de Medicamento",description:"Metformina 850mg - Via oral",performedAt:new Date,status:"pending"}]})(),A=e=>{switch(e){case"medication":return{label:"Medica\xe7\xe3o",icon:i.Z,color:"text-purple-600",bg:"bg-purple-100 dark:bg-purple-900/30"};case"vitals":return{label:"Sinais Vitais",icon:c.Z,color:"text-brand-600",bg:"bg-brand-100 dark:bg-brand-900/30"};case"wound_care":return{label:"Curativo",icon:o.Z,color:"text-error-600",bg:"bg-error-100 dark:bg-error-900/30"};case"catheter":return{label:"Sonda",icon:d.Z,color:"text-blue-600",bg:"bg-blue-100 dark:bg-blue-900/30"};case"injection":return{label:"Inje\xe7\xe3o",icon:u.Z,color:"text-warning-600",bg:"bg-warning-100 dark:bg-warning-900/30"};default:return{label:"Outro",icon:u.Z,color:"text-neutral-600",bg:"bg-neutral-100 dark:bg-neutral-800"}}},S=e=>{switch(e){case"completed":return{label:"Realizado",icon:m.Z,color:"text-success-600",bg:"bg-success-100 dark:bg-success-900/30"};case"pending":return{label:"Pendente",icon:p.Z,color:"text-warning-600",bg:"bg-warning-100 dark:bg-warning-900/30"};case"cancelled":return{label:"Cancelado",icon:x.Z,color:"text-error-600",bg:"bg-error-100 dark:bg-error-900/30"}}};function P(){let{user:e}=(0,f.aC)(),[t,a]=(0,r.useState)("all"),[i,m]=(0,r.useState)(""),[p,x]=(0,r.useState)(null),N=C.filter(e=>{let a="all"===t||e.type===t,s=e.patientName.toLowerCase().includes(i.toLowerCase())||e.title.toLowerCase().includes(i.toLowerCase());return a&&s}),w={total:C.filter(e=>"completed"===e.status).length,pending:C.filter(e=>"pending"===e.status).length,today:C.filter(e=>{let t=new Date;return e.performedAt.toDateString()===t.toDateString()}).length};return(0,s.jsxs)("div",{className:"space-y-4 pb-20",children:[(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[(0,s.jsxs)("h1",{className:"text-xl font-semibold flex items-center gap-2",style:{color:"rgb(var(--color-text))"},children:[(0,s.jsx)(u.Z,{className:"w-6 h-6 text-brand-500"}),"Procedimentos"]}),(0,s.jsx)("p",{className:"text-sm mt-1",style:{color:"rgb(var(--color-text-secondary))"},children:"Registro e acompanhamento de procedimentos t\xe9cnicos"})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-3 gap-3",children:[(0,s.jsxs)("div",{className:"card text-center py-4",children:[(0,s.jsx)("p",{className:"text-2xl font-bold",style:{color:"rgb(var(--color-text))"},children:w.today}),(0,s.jsx)("p",{className:"text-xs",style:{color:"rgb(var(--color-text-secondary))"},children:"Hoje"})]}),(0,s.jsxs)("div",{className:"card text-center py-4",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-warning-600",children:w.pending}),(0,s.jsx)("p",{className:"text-xs",style:{color:"rgb(var(--color-text-secondary))"},children:"Pendentes"})]}),(0,s.jsxs)("div",{className:"card text-center py-4",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-success-600",children:w.total}),(0,s.jsx)("p",{className:"text-xs",style:{color:"rgb(var(--color-text-secondary))"},children:"Realizados"})]})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"space-y-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),(0,s.jsx)("input",{type:"text",value:i,onChange:e=>m(e.target.value),placeholder:"Buscar procedimentos...",className:"input-base pl-10"})]}),(0,s.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",children:["all","vitals","medication","wound_care"].map(e=>(0,s.jsx)("button",{onClick:()=>a(e),className:(0,j.cn)("px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors",t===e?"bg-brand-500 text-white":"bg-neutral-100 dark:bg-neutral-800"),style:{color:t===e?void 0:"rgb(var(--color-text-secondary))"},children:"all"===e?"Todos":"vitals"===e?"Sinais Vitais":"medication"===e?"Medica\xe7\xf5es":"Curativos"},e))})]}),(0,s.jsxs)(l.E.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},whileTap:{scale:.98},className:"w-full btn-primary py-3",children:[(0,s.jsx)(g.Z,{className:"w-5 h-5 mr-2"}),"Registrar Procedimento"]}),(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.25},className:"space-y-3",children:(0,s.jsx)(n.M,{mode:"popLayout",children:0===N.length?(0,s.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},className:"card text-center py-12",children:[(0,s.jsx)(u.Z,{className:"w-12 h-12 mx-auto text-neutral-300 dark:text-neutral-600 mb-3"}),(0,s.jsx)("p",{style:{color:"rgb(var(--color-text-secondary))"},children:"Nenhum procedimento encontrado"})]}):N.map((e,t)=>{let a=A(e.type),r=S(e.status),n=a.icon,i=r.icon;return(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:.05*t},onClick:()=>x(e),className:"card cursor-pointer hover:shadow-md transition-shadow",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:(0,j.cn)("w-10 h-10 rounded-full flex items-center justify-center",a.bg),children:(0,s.jsx)(n,{className:(0,j.cn)("w-5 h-5",a.color)})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium",style:{color:"rgb(var(--color-text))"},children:e.title}),(0,s.jsx)("p",{className:"text-sm",style:{color:"rgb(var(--color-text-secondary))"},children:e.patientName})]})]}),(0,s.jsx)(b.Z,{className:"w-5 h-5 text-neutral-400"})]}),(0,s.jsx)("p",{className:"text-sm line-clamp-1 mb-3",style:{color:"rgb(var(--color-text-secondary))"},children:e.description}),e.values&&(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.values.bloodPressure&&(0,s.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-neutral-100 dark:bg-neutral-800",children:["PA: ",e.values.bloodPressure]}),e.values.heartRate&&(0,s.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-neutral-100 dark:bg-neutral-800",children:["FC: ",e.values.heartRate," bpm"]}),e.values.temperature&&(0,s.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-neutral-100 dark:bg-neutral-800",children:["Temp: ",e.values.temperature,"\xb0C"]}),e.values.oxygenSaturation&&(0,s.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-neutral-100 dark:bg-neutral-800",children:["SpO2: ",e.values.oxygenSaturation,"%"]}),e.values.glucose&&(0,s.jsxs)("span",{className:"text-xs px-2 py-1 rounded-full bg-neutral-100 dark:bg-neutral-800",children:["Glicemia: ",e.values.glucose," mg/dL"]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("span",{className:(0,j.cn)("badge text-xs flex items-center gap-1",r.bg,r.color),children:[(0,s.jsx)(i,{className:"w-3 h-3"}),r.label]})}),(0,s.jsx)("span",{className:"text-xs",style:{color:"rgb(var(--color-text-secondary))"},children:(0,k.WU)(e.performedAt,"dd/MM '\xe0s' HH:mm",{locale:Z.F})})]})]},e.id)})})}),(0,s.jsx)(n.M,{children:p&&(0,s.jsx)(l.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-end",onClick:()=>x(null),children:(0,s.jsxs)(l.E.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},onClick:e=>e.stopPropagation(),className:"w-full bg-white dark:bg-neutral-900 rounded-t-3xl p-6 max-h-[85vh] overflow-y-auto",children:[(0,s.jsx)("div",{className:"w-12 h-1 bg-neutral-300 dark:bg-neutral-600 rounded-full mx-auto mb-6"}),(()=>{let e=A(p.type),t=e.icon;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,s.jsx)("div",{className:(0,j.cn)("w-12 h-12 rounded-full flex items-center justify-center",e.bg),children:(0,s.jsx)(t,{className:(0,j.cn)("w-6 h-6",e.color)})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-lg font-semibold",style:{color:"rgb(var(--color-text))"},children:p.title}),(0,s.jsx)("p",{className:"text-sm",style:{color:"rgb(var(--color-text-secondary))"},children:p.patientName})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,s.jsx)("span",{className:(0,j.cn)("badge",e.bg,e.color),children:e.label}),(()=>{let e=S(p.status),t=e.icon;return(0,s.jsxs)("span",{className:(0,j.cn)("badge flex items-center gap-1",e.bg,e.color),children:[(0,s.jsx)(t,{className:"w-3 h-3"}),e.label]})})()]}),(0,s.jsxs)("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800 rounded-xl mb-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium mb-2",style:{color:"rgb(var(--color-text))"},children:"Descri\xe7\xe3o"}),(0,s.jsx)("p",{style:{color:"rgb(var(--color-text-secondary))"},children:p.description})]}),p.values&&(0,s.jsxs)("div",{className:"p-4 bg-neutral-50 dark:bg-neutral-800 rounded-xl mb-4",children:[(0,s.jsx)("h3",{className:"text-sm font-medium mb-3",style:{color:"rgb(var(--color-text))"},children:"Valores Registrados"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[p.values.bloodPressure&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(o.Z,{className:"w-4 h-4 text-error-500"}),(0,s.jsxs)("span",{className:"text-sm",style:{color:"rgb(var(--color-text))"},children:["PA: ",p.values.bloodPressure," mmHg"]})]}),p.values.heartRate&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 text-brand-500"}),(0,s.jsxs)("span",{className:"text-sm",style:{color:"rgb(var(--color-text))"},children:["FC: ",p.values.heartRate," bpm"]})]}),p.values.temperature&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(y.Z,{className:"w-4 h-4 text-warning-500"}),(0,s.jsxs)("span",{className:"text-sm",style:{color:"rgb(var(--color-text))"},children:["Temp: ",p.values.temperature,"\xb0C"]})]}),p.values.oxygenSaturation&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 text-blue-500"}),(0,s.jsxs)("span",{className:"text-sm",style:{color:"rgb(var(--color-text))"},children:["SpO2: ",p.values.oxygenSaturation,"%"]})]}),p.values.glucose&&(0,s.jsxs)("div",{className:"flex items-center gap-2 col-span-2",children:[(0,s.jsx)(c.Z,{className:"w-4 h-4 text-purple-500"}),(0,s.jsxs)("span",{className:"text-sm",style:{color:"rgb(var(--color-text))"},children:["Glicemia: ",p.values.glucose," mg/dL"]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm mb-4",style:{color:"rgb(var(--color-text-secondary))"},children:[(0,s.jsx)(v.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:(0,k.WU)(p.performedAt,"EEEE, dd 'de' MMMM 'de' yyyy '\xe0s' HH:mm",{locale:Z.F})})]}),(0,s.jsx)("button",{onClick:()=>x(null),className:"w-full btn-primary",children:"Fechar"})]})})()]})})})]})}},14362:function(e,t,a){"use strict";a.d(t,{Ho:function(){return o},QL:function(){return u},aC:function(){return d}});var s=a(57437),r=a(2265),l=a(99376),n=a(64270);let i=(0,r.createContext)(null),c=["/login","/forgot-pin","/"];function o(e){let{children:t}=e,a=(0,l.useRouter)(),o=(0,l.usePathname)(),d=function(){let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{t(!0)},[]),e}(),u=(0,n.t)(),[m,p]=(0,r.useState)(!1),[x,h]=(0,r.useState)(null),[g,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!d)return;let e=setTimeout(()=>{(0,n.v)().then(()=>{b(!0)})},100);return()=>clearTimeout(e)},[d]),(0,r.useEffect)(()=>{if(!g)return;let e=()=>{if(!u.checkSession()&&!c.includes(o)){a.push("/login");return}if(u.session){let e=new Date(u.session.expiresAt).getTime()-Date.now();h(e),p(e>0&&e<3e5)}};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[g,o,a,u]),(0,r.useEffect)(()=>{if(!u.isAuthenticated)return;let e=()=>{u.recordActivity()},t=["mousedown","keydown","touchstart","scroll"];return t.forEach(t=>{window.addEventListener(t,e,{passive:!0})}),()=>{t.forEach(t=>{window.removeEventListener(t,e)})}},[u.isAuthenticated,u]),(0,r.useEffect)(()=>{if(!g)return;let e=c.includes(o);u.isAuthenticated||e?u.isAuthenticated&&"/login"===o&&a.push("/"):a.push("/login")},[g,u.isAuthenticated,o,a]);let y=(0,r.useCallback)(async e=>{let t=await u.loginWithPin(e);return t.success&&a.push("/"),t},[u,a]),v=(0,r.useCallback)(()=>{u.logout(),a.push("/login")},[u,a]),f=(0,r.useCallback)(()=>{u.refreshSession(),p(!1)},[u]),j=(0,r.useCallback)(e=>u.hasPermission(e),[u]),N={user:u.getCurrentUser(),isAuthenticated:u.isAuthenticated,isLoading:!g,permissions:u.getPermissions(),login:y,logout:v,hasPermission:j,showSessionWarning:m,sessionExpiresIn:x,extendSession:f};return(0,s.jsx)(i.Provider,{value:N,children:t})}function d(){let e=(0,r.useContext)(i);if(!e)throw Error("useAuth deve ser usado dentro de AuthProvider");return e}function u(e){let{isAuthenticated:t,isLoading:a,hasPermission:s}=d(),n=(0,l.useRouter)();return(0,r.useEffect)(()=>{if(!a){if(!t){n.push("/login");return}e&&!s(e)&&n.push("/unauthorized")}},[t,a,e,s,n]),{isLoading:a,isAuthorized:t&&(!e||s(e))}}},91001:function(e,t,a){"use strict";a.d(t,{cn:function(){return l}});var s=a(61994),r=a(53335);function l(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}}},function(e){e.O(0,[6137,7230,4875,2859,4122,5992,4270,2971,2117,1744],function(){return e(e.s=59910)}),_N_E=e.O()}]);