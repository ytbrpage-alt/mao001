(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9322],{19951:function(e,t,s){Promise.resolve().then(s.bind(s,45551))},45551:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return E}});var a=s(57437),i=s(2265),n=s(40521),l=s(48614),r=s(48736),c=s(99397),o=s(73247),d=s(92369),u=s(91723),m=s(61341),x=s(76372),p=s(88997),h=s(42488),g=s(26899),v=s(66927),j=s(32489),f=s(30401),b=s(10407),N=s(14362),y=s(91001);let w=[{id:"1",patientId:"1",patientName:"Maria Silva",date:new Date,type:"routine",status:"synced",vitalSigns:{bloodPressure:"120/80",heartRate:72,temperature:36.5,oxygenSaturation:97,glucose:110},observations:"Paciente est\xe1vel, sem queixas. Aceitou bem alimenta\xe7\xe3o e medica\xe7\xe3o.",medications:["Losartana 50mg","AAS 100mg"],createdBy:"Jo\xe3o Cuidador"},{id:"2",patientId:"2",patientName:"Jo\xe3o Santos",date:new Date(Date.now()-72e5),type:"medication",status:"synced",vitalSigns:{bloodPressure:"140/90",heartRate:85,oxygenSaturation:94},observations:"Administrada medica\xe7\xe3o conforme prescri\xe7\xe3o. Paciente relatou leve cefal\xe9ia.",medications:["Captopril 25mg","Omeprazol 20mg"],createdBy:"Jo\xe3o Cuidador"},{id:"3",patientId:"3",patientName:"Ana Oliveira",date:new Date(Date.now()-864e5),type:"emergency",status:"synced",vitalSigns:{bloodPressure:"100/60",heartRate:110,temperature:38.2,oxygenSaturation:88},observations:"Paciente apresentou dispneia intensa. Aumentado O2 para 4L/min. Fam\xedlia notificada.",procedures:["Oxigenoterapia 4L/min","Monitoriza\xe7\xe3o cont\xednua"],createdBy:"Jo\xe3o Cuidador"},{id:"4",patientId:"1",patientName:"Maria Silva",date:new Date(Date.now()-1728e5),type:"procedure",status:"pending",vitalSigns:{bloodPressure:"125/82",heartRate:75},observations:"Realizado curativo em MID. Ferida em bom aspecto de cicatriza\xe7\xe3o.",procedures:["Curativo MID","Troca de cobertura"],createdBy:"Jo\xe3o Cuidador"}],S=e=>{switch(e){case"routine":return{label:"Rotina",color:"bg-blue-100 text-blue-700"};case"emergency":return{label:"Urg\xeancia",color:"bg-error-100 text-error-700"};case"medication":return{label:"Medica\xe7\xe3o",color:"bg-purple-100 text-purple-700"};case"procedure":return{label:"Procedimento",color:"bg-green-100 text-green-700"}}},C=e=>e.toLocaleDateString("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});function E(){let{user:e}=(0,N.aC)(),[t,s]=(0,i.useState)(""),[E,P]=(0,i.useState)("all"),[Z,k]=(0,i.useState)(null),[A,R]=(0,i.useState)(!1),L=w.filter(e=>{let s=e.patientName.toLowerCase().includes(t.toLowerCase())||e.observations.toLowerCase().includes(t.toLowerCase()),a="all"===E||e.type===E;return s&&a});return(0,a.jsxs)("div",{className:"space-y-4 pb-4",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-xl font-semibold text-neutral-900 flex items-center gap-2",children:[(0,a.jsx)(r.Z,{className:"w-6 h-6 text-brand-500"}),"Evolu\xe7\xf5es"]}),(0,a.jsxs)("p",{className:"text-sm text-neutral-500 mt-1",children:[w.length," registros"]})]}),(0,a.jsxs)("button",{onClick:()=>R(!0),className:"btn-primary py-2 px-4",children:[(0,a.jsx)(c.Z,{className:"w-5 h-5 mr-1"}),"Nova"]})]}),(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"relative",children:[(0,a.jsx)(o.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Buscar evolu\xe7\xe3o...",value:t,onChange:e=>s(e.target.value),className:"input-primary pl-10"})]}),(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"flex gap-2 overflow-x-auto pb-2",children:[{value:"all",label:"Todas"},{value:"routine",label:"Rotina"},{value:"medication",label:"Medica\xe7\xe3o"},{value:"procedure",label:"Procedimento"},{value:"emergency",label:"Urg\xeancia"}].map(e=>(0,a.jsx)("button",{onClick:()=>P(e.value),className:(0,y.cn)("px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-colors",E===e.value?"bg-brand-500 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"),children:e.label},e.value))}),(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsx)(l.M,{mode:"popLayout",children:0===L.length?(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"card text-center py-8",children:[(0,a.jsx)(r.Z,{className:"w-12 h-12 text-neutral-300 mx-auto mb-3"}),(0,a.jsx)("p",{className:"text-neutral-500",children:"Nenhuma evolu\xe7\xe3o encontrada"})]}):L.map((e,t)=>{let s=S(e.type);return(0,a.jsxs)(n.E.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:.05*t},onClick:()=>k(e),className:"card p-4 cursor-pointer hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-brand-100 flex items-center justify-center",children:(0,a.jsx)(d.Z,{className:"w-5 h-5 text-brand-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-neutral-900",children:e.patientName}),(0,a.jsxs)("p",{className:"text-sm text-neutral-500 flex items-center gap-1",children:[(0,a.jsx)(u.Z,{className:"w-3.5 h-3.5"}),C(e.date)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:(0,y.cn)("px-2 py-1 rounded-full text-xs font-medium",s.color),children:s.label}),"synced"===e.status?(0,a.jsx)(m.Z,{className:"w-4 h-4 text-success-500"}):(0,a.jsx)(x.Z,{className:"w-4 h-4 text-warning-500"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 flex-wrap text-sm mb-3",children:[e.vitalSigns.bloodPressure&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-neutral-600",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4"}),e.vitalSigns.bloodPressure]}),e.vitalSigns.heartRate&&(0,a.jsxs)("span",{className:"flex items-center gap-1 text-neutral-600",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4"}),e.vitalSigns.heartRate," bpm"]}),e.vitalSigns.temperature&&(0,a.jsxs)("span",{className:(0,y.cn)("flex items-center gap-1",e.vitalSigns.temperature>37.5?"text-error-600":"text-neutral-600"),children:[(0,a.jsx)(g.Z,{className:"w-4 h-4"}),e.vitalSigns.temperature,"\xb0C"]}),e.vitalSigns.oxygenSaturation&&(0,a.jsxs)("span",{className:(0,y.cn)("flex items-center gap-1",e.vitalSigns.oxygenSaturation<92?"text-error-600":"text-neutral-600"),children:[(0,a.jsx)(v.Z,{className:"w-4 h-4"}),e.vitalSigns.oxygenSaturation,"%"]})]}),(0,a.jsx)("p",{className:"text-sm text-neutral-600 line-clamp-2",children:e.observations})]},e.id)})})}),(0,a.jsx)(l.M,{children:Z&&(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-end z-50",onClick:()=>k(null),children:(0,a.jsxs)(n.E.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},onClick:e=>e.stopPropagation(),className:"bg-white w-full rounded-t-3xl max-h-[85vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"sticky top-0 bg-white p-4 border-b flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold",children:"Evolu\xe7\xe3o Detalhada"}),(0,a.jsx)("button",{onClick:()=>k(null),className:"p-2 rounded-full hover:bg-neutral-100",children:(0,a.jsx)(j.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-brand-100 flex items-center justify-center",children:(0,a.jsx)(d.Z,{className:"w-6 h-6 text-brand-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:Z.patientName}),(0,a.jsx)("p",{className:"text-sm text-neutral-500",children:C(Z.date)})]})]}),(0,a.jsx)("span",{className:(0,y.cn)("px-3 py-1 rounded-full text-sm font-medium",S(Z.type).color),children:S(Z.type).label})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"Sinais Vitais"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[Z.vitalSigns.bloodPressure&&(0,a.jsxs)("div",{className:"p-3 bg-neutral-50 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-neutral-500 mb-1",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-xs",children:"Press\xe3o Arterial"})]}),(0,a.jsxs)("p",{className:"font-semibold",children:[Z.vitalSigns.bloodPressure," mmHg"]})]}),Z.vitalSigns.heartRate&&(0,a.jsxs)("div",{className:"p-3 bg-neutral-50 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-neutral-500 mb-1",children:[(0,a.jsx)(h.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-xs",children:"Freq. Card\xedaca"})]}),(0,a.jsxs)("p",{className:"font-semibold",children:[Z.vitalSigns.heartRate," bpm"]})]}),Z.vitalSigns.temperature&&(0,a.jsxs)("div",{className:"p-3 bg-neutral-50 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-neutral-500 mb-1",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-xs",children:"Temperatura"})]}),(0,a.jsxs)("p",{className:(0,y.cn)("font-semibold",Z.vitalSigns.temperature>37.5&&"text-error-600"),children:[Z.vitalSigns.temperature,"\xb0C"]})]}),Z.vitalSigns.oxygenSaturation&&(0,a.jsxs)("div",{className:"p-3 bg-neutral-50 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-neutral-500 mb-1",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-xs",children:"SpOâ‚‚"})]}),(0,a.jsxs)("p",{className:(0,y.cn)("font-semibold",Z.vitalSigns.oxygenSaturation<92&&"text-error-600"),children:[Z.vitalSigns.oxygenSaturation,"%"]})]}),Z.vitalSigns.glucose&&(0,a.jsxs)("div",{className:"p-3 bg-neutral-50 rounded-xl col-span-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-neutral-500 mb-1",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-xs",children:"Glicemia"})]}),(0,a.jsxs)("p",{className:"font-semibold",children:[Z.vitalSigns.glucose," mg/dL"]})]})]})]}),Z.medications&&Z.medications.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"Medica\xe7\xf5es Administradas"}),(0,a.jsx)("div",{className:"space-y-2",children:Z.medications.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-purple-50 rounded-lg",children:[(0,a.jsx)(f.Z,{className:"w-4 h-4 text-purple-600"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},t))})]}),Z.procedures&&Z.procedures.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"Procedimentos Realizados"}),(0,a.jsx)("div",{className:"space-y-2",children:Z.procedures.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded-lg",children:[(0,a.jsx)(f.Z,{className:"w-4 h-4 text-green-600"}),(0,a.jsx)("span",{className:"text-sm",children:e})]},t))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"Observa\xe7\xf5es"}),(0,a.jsx)("p",{className:"text-neutral-700 bg-neutral-50 p-4 rounded-xl",children:Z.observations})]}),(0,a.jsxs)("div",{className:"text-sm text-neutral-500 flex items-center justify-between",children:[(0,a.jsxs)("span",{children:["Registrado por: ",Z.createdBy]}),(0,a.jsx)("span",{className:"flex items-center gap-1",children:"synced"===Z.status?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 text-success-500"}),"Sincronizado"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 text-warning-500"}),"Pendente"]})})]})]})]})})}),(0,a.jsx)(l.M,{children:A&&(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>R(!1),children:(0,a.jsxs)(n.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-white w-full max-w-md rounded-2xl p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Nova Evolu\xe7\xe3o"}),(0,a.jsx)("p",{className:"text-neutral-500 mb-6",children:"Selecione o paciente para iniciar uma nova evolu\xe7\xe3o de enfermagem."}),(0,a.jsx)("div",{className:"space-y-3 mb-6",children:["Maria Silva","Jo\xe3o Santos","Ana Oliveira","Pedro Costa"].map(e=>(0,a.jsxs)("button",{className:"w-full flex items-center gap-3 p-3 bg-neutral-50 rounded-xl hover:bg-neutral-100 transition-colors text-left",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-brand-100 flex items-center justify-center",children:(0,a.jsx)(d.Z,{className:"w-5 h-5 text-brand-600"})}),(0,a.jsx)("span",{className:"font-medium",children:e}),(0,a.jsx)(b.Z,{className:"w-5 h-5 text-neutral-400 ml-auto"})]},e))}),(0,a.jsx)("button",{onClick:()=>R(!1),className:"w-full btn-outline",children:"Cancelar"})]})})})]})}},14362:function(e,t,s){"use strict";s.d(t,{Ho:function(){return o},QL:function(){return u},aC:function(){return d}});var a=s(57437),i=s(2265),n=s(99376),l=s(64270);let r=(0,i.createContext)(null),c=["/login","/forgot-pin","/"];function o(e){let{children:t}=e,s=(0,n.useRouter)(),o=(0,n.usePathname)(),d=function(){let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{t(!0)},[]),e}(),u=(0,l.t)(),[m,x]=(0,i.useState)(!1),[p,h]=(0,i.useState)(null),[g,v]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(!d)return;let e=setTimeout(()=>{(0,l.v)().then(()=>{v(!0)})},100);return()=>clearTimeout(e)},[d]),(0,i.useEffect)(()=>{if(!g)return;let e=()=>{if(!u.checkSession()&&!c.includes(o)){s.push("/login");return}if(u.session){let e=new Date(u.session.expiresAt).getTime()-Date.now();h(e),x(e>0&&e<3e5)}};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[g,o,s,u]),(0,i.useEffect)(()=>{if(!u.isAuthenticated)return;let e=()=>{u.recordActivity()},t=["mousedown","keydown","touchstart","scroll"];return t.forEach(t=>{window.addEventListener(t,e,{passive:!0})}),()=>{t.forEach(t=>{window.removeEventListener(t,e)})}},[u.isAuthenticated,u]),(0,i.useEffect)(()=>{if(!g)return;let e=c.includes(o);u.isAuthenticated||e?u.isAuthenticated&&"/login"===o&&s.push("/"):s.push("/login")},[g,u.isAuthenticated,o,s]);let j=(0,i.useCallback)(async e=>{let t=await u.loginWithPin(e);return t.success&&s.push("/"),t},[u,s]),f=(0,i.useCallback)(()=>{u.logout(),s.push("/login")},[u,s]),b=(0,i.useCallback)(()=>{u.refreshSession(),x(!1)},[u]),N=(0,i.useCallback)(e=>u.hasPermission(e),[u]),y={user:u.getCurrentUser(),isAuthenticated:u.isAuthenticated,isLoading:!g,permissions:u.getPermissions(),login:j,logout:f,hasPermission:N,showSessionWarning:m,sessionExpiresIn:p,extendSession:b};return(0,a.jsx)(r.Provider,{value:y,children:t})}function d(){let e=(0,i.useContext)(r);if(!e)throw Error("useAuth deve ser usado dentro de AuthProvider");return e}function u(e){let{isAuthenticated:t,isLoading:s,hasPermission:a}=d(),l=(0,n.useRouter)();return(0,i.useEffect)(()=>{if(!s){if(!t){l.push("/login");return}e&&!a(e)&&l.push("/unauthorized")}},[t,s,e,a,l]),{isLoading:s,isAuthorized:t&&(!e||a(e))}}},91001:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(61994),i=s(53335);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,i.m6)((0,a.W)(t))}}},function(e){e.O(0,[6137,7230,4875,1172,4270,2971,2117,1744],function(){return e(e.s=19951)}),_N_E=e.O()}]);