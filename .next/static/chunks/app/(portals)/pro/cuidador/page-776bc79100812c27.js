(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2458],{8037:function(e,t,a){Promise.resolve().then(a.bind(a,3854))},3854:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return J}});var r=a(7437),s=a(2265),i=a(521),l=a(8614),o=a(4159),c=a(6927),n=a(8870),d=a(596),m=a(4401),u=a(4972),h=a(8736),x=a(2023),g=a(5929),p=a(7226),b=a(5302),v=a(2252),y=a(2369),f=a(3639),j=a(5846),N=a(875),w=a(9397),k=a(1723),C=a(407),E=a(3041),T=a(2718),A=a(2489),Z=a(3229),S=a(9121),M=a(4122),H=a(817),D=a(4862),P=a(4362),z=a(9734),I=a(1001);let L={id:"1",name:"Maria Silva",age:82,conditions:["Alzheimer (fase inicial)","Hipertens\xe3o arterial","Diabetes tipo 2"],medications:[{name:"Donepezila",dose:"10mg",times:["08:00"]},{name:"Losartana",dose:"50mg",times:["08:00"]},{name:"Metformina",dose:"850mg",times:["08:00","20:00"]},{name:"AAS",dose:"100mg",times:["12:00"]}],mobilityAids:["Bengala"],allergies:["Dipirona"],dietaryRestrictions:["Dieta diab\xe9tica","Baixo s\xf3dio"],riskLevel:"medium",needsVitalMonitoring:!0,needsGlucoseMonitoring:!0,needsOxygenMonitoring:!1,sleepQuality:"Acorda para ir ao banheiro",wakeUpTime:"07:00",breakfastTime:"08:00",lunchTime:"12:00",dinnerTime:"19:00",bedTime:"21:00",katzScore:4,abemidScore:8},R=e=>{let t=[],a=1;return e.medications.forEach(e=>{e.times.forEach(r=>{t.push({id:"med-".concat(a++),title:"Administrar ".concat(e.name," ").concat(e.dose),description:"Medica\xe7\xe3o prescrita",time:r,completed:!1,category:"medication",priority:"high",linkedTo:e.name,recurring:!0})})}),e.katzScore>=3&&(t.push({id:"hyg-".concat(a++),title:"Banho assistido",description:"Auxiliar no banho completo",time:"09:00",completed:!1,category:"hygiene",priority:"medium",linkedTo:"KATZ ".concat(e.katzScore)}),t.push({id:"hyg-".concat(a++),title:"Higiene oral",time:"08:30",completed:!1,category:"hygiene",priority:"medium"})),t.push({id:"feed-".concat(a++),title:"Caf\xe9 da manh\xe3",description:e.dietaryRestrictions.join(", "),time:e.breakfastTime,completed:!1,category:"feeding",priority:"high"}),t.push({id:"feed-".concat(a++),title:"Almo\xe7o",time:e.lunchTime,completed:!1,category:"feeding",priority:"high"}),t.push({id:"feed-".concat(a++),title:"Jantar",time:e.dinnerTime,completed:!1,category:"feeding",priority:"high"}),e.conditions.some(e=>e.includes("Hipertens\xe3o"))&&t.push({id:"mon-".concat(a++),title:"Aferir press\xe3o arterial",time:"08:00",completed:!1,category:"monitoring",priority:"high",linkedTo:"Hipertens\xe3o"}),e.conditions.some(e=>e.includes("Diabetes"))&&t.push({id:"mon-".concat(a++),title:"Verificar glicemia",description:"Em jejum",time:"07:30",completed:!1,category:"monitoring",priority:"critical",linkedTo:"Diabetes"}),e.conditions.some(e=>e.includes("Alzheimer"))&&t.push({id:"ther-".concat(a++),title:"Estimula\xe7\xe3o cognitiva",description:"Atividades de mem\xf3ria",time:"11:00",completed:!1,category:"therapy",priority:"medium",linkedTo:"Alzheimer"}),e.mobilityAids.length>0&&t.push({id:"mob-".concat(a++),title:"Exerc\xedcios de mobilidade",time:"10:30",completed:!1,category:"mobility",priority:"medium"}),t.push({id:"rest-".concat(a++),title:"Repouso supervisionado",time:"14:00",completed:!1,category:"monitoring",priority:"low"}),t.sort((e,t)=>e.time.localeCompare(t.time))},F=e=>{let t=[],a=100;return e.conditions.some(e=>e.includes("Alzheimer"))&&t.push({id:"sugg-".concat(a++),title:"Orienta\xe7\xe3o temporal",description:"Lembrar dia, hora, local",time:"09:30",completed:!1,category:"suggested",priority:"low",isAISuggested:!0,suggestedReason:"85% dos cuidadores adicionam"}),e.conditions.some(e=>e.includes("Diabetes"))&&t.push({id:"sugg-".concat(a++),title:"Inspe\xe7\xe3o dos p\xe9s",description:"Verificar les\xf5es",time:"21:00",completed:!1,category:"suggested",priority:"medium",isAISuggested:!0,suggestedReason:"92% de ades\xe3o"}),t.push({id:"sugg-".concat(a++),title:"Hidrata\xe7\xe3o",description:"\xc1gua a cada 2h",time:"10:00",completed:!1,category:"suggested",priority:"medium",isAISuggested:!0,suggestedReason:"78% recomendam"}),t},B={patientName:"Maria Silva",patientAge:82,startTime:"07:00",endTime:"19:00",checkInTime:"06:55",address:"Rua das Flores, 123 - Apt 501",familyContact:{name:"Jo\xe3o Silva",relationship:"Filho",phone:"(11) 99999-8888"}},O=[{id:"1",patientName:"Maria Silva",date:new Date,time:"07:00 - 19:00"},{id:"2",patientName:"Jos\xe9 Santos",date:(0,S.E)(new Date,1),time:"19:00 - 07:00"},{id:"3",patientName:"Maria Silva",date:(0,S.E)(new Date,2),time:"07:00 - 19:00"}],U=e=>{switch(e){case"medication":return{icon:o.Z,color:"text-purple-500",bg:"rgba(168, 85, 247, 0.15)"};case"hygiene":return{icon:c.Z,color:"text-blue-500",bg:"rgba(59, 130, 246, 0.15)"};case"feeding":return{icon:n.Z,color:"text-green-500",bg:"rgba(34, 197, 94, 0.15)"};case"mobility":return{icon:d.Z,color:"text-orange-500",bg:"rgba(249, 115, 22, 0.15)"};case"monitoring":return{icon:m.Z,color:"text-red-500",bg:"rgba(239, 68, 68, 0.15)"};case"therapy":return{icon:u.Z,color:"text-pink-500",bg:"rgba(236, 72, 153, 0.15)"};case"custom":return{icon:h.Z,color:"text-neutral-500",bg:"rgba(115, 115, 122, 0.15)"};case"suggested":return{icon:x.Z,color:"text-amber-500",bg:"rgba(245, 158, 11, 0.15)"}}},_=e=>{switch(e){case"critical":return"border-l-red-500";case"high":return"border-l-orange-500";case"medium":return"border-l-brand-500";case"low":return"border-l-neutral-400 dark:border-l-neutral-600"}},V={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.04}}},W={hidden:{opacity:0,y:8},visible:{opacity:1,y:0}};function J(){var e;let{user:t}=(0,P.aC)(),{resolvedTheme:a,toggleTheme:S}=(0,z.Fg)(),[J,Q]=(0,s.useState)(!0),[G,K]=(0,s.useState)(!1),[q,X]=(0,s.useState)(!1),[Y,$]=(0,s.useState)({title:"",description:"",time:"",category:"custom",priority:"medium"}),ee=(0,s.useMemo)(()=>R(L),[]),[et,ea]=(0,s.useState)(ee),er=(0,s.useMemo)(()=>F(L),[]),es=e=>{ea(t=>t.map(t=>t.id===e?{...t,completed:!t.completed}:t))},ei=e=>{ea(t=>[...t,{...e,category:"monitoring"}].sort((e,t)=>e.time.localeCompare(t.time)))},el=et.filter(e=>e.completed).length,eo=et.length,ec=el/eo*100;return(0,r.jsxs)(i.E.div,{className:"space-y-5 pb-24",variants:V,initial:"hidden",animate:"visible",children:[(0,r.jsxs)(i.E.div,{variants:W,className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-lg sm:text-xl font-semibold",style:{color:"rgb(var(--color-text))"},children:["Ol\xe1, ",(null==t?void 0:null===(e=t.fullName)||void 0===e?void 0:e.split(" ")[0])||"Profissional","! \uD83D\uDC4B"]}),(0,r.jsx)("p",{className:"text-sm",style:{color:"rgb(var(--color-text-secondary))"},children:(0,M.WU)(new Date,"EEEE, dd 'de' MMMM",{locale:D.F})})]}),(0,r.jsx)(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:S,className:"p-2.5 rounded-full transition-colors",style:{backgroundColor:"rgb(var(--color-bg-muted))",color:"rgb(var(--color-text-secondary))"},children:"dark"===a?(0,r.jsx)(g.Z,{className:"w-5 h-5"}):(0,r.jsx)(p.Z,{className:"w-5 h-5"})})]}),(0,r.jsxs)(i.E.div,{variants:W,className:"card p-0 overflow-hidden",children:[(0,r.jsxs)("div",{className:"px-4 py-3 flex items-center justify-between",style:{backgroundColor:J?"rgba(16, 185, 129, 0.1)":"rgba(245, 158, 11, 0.1)"},children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[J?(0,r.jsx)(b.Z,{className:"w-5 h-5 text-success-500"}):(0,r.jsx)(v.Z,{className:"w-5 h-5 text-warning-500"}),(0,r.jsx)("span",{className:(0,I.cn)("font-medium text-sm",J?"text-success-600 dark:text-success-400":"text-warning-600 dark:text-warning-400"),children:J?"Plant\xe3o em andamento":"Aguardando check-in"})]}),(0,r.jsxs)("span",{className:"text-xs",style:{color:"rgb(var(--color-text-tertiary))"},children:[B.startTime," - ",B.endTime]})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(30, 138, 173, 0.15)"},children:(0,r.jsx)(y.Z,{className:"w-6 h-6 text-brand-500"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"font-semibold text-base",style:{color:"rgb(var(--color-text))"},children:B.patientName}),(0,r.jsxs)("p",{className:"text-sm truncate",style:{color:"rgb(var(--color-text-secondary))"},children:[B.patientAge," anos • ",B.address]})]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[L.conditions.slice(0,3).map((e,t)=>(0,r.jsx)("span",{className:"badge-info text-xs",children:e.split(" ")[0]},t)),L.allergies.length>0&&(0,r.jsxs)("span",{className:"badge-danger text-xs flex items-center gap-1",children:[(0,r.jsx)(f.Z,{className:"w-3 h-3"}),"Alergia"]})]}),(0,r.jsx)(i.E.button,{whileHover:{scale:1.01},whileTap:{scale:.98},onClick:()=>Q(!J),className:(0,I.cn)("w-full py-3 rounded-xl font-medium transition-all",J?"btn-danger":"btn-primary"),children:J?"Fazer Check-out":"Fazer Check-in"}),J&&(0,r.jsxs)("p",{className:"text-xs text-center mt-2",style:{color:"rgb(var(--color-text-tertiary))"},children:["Check-in: ",B.checkInTime]})]})]}),(0,r.jsxs)(i.E.div,{variants:W,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"font-semibold flex items-center gap-2",style:{color:"rgb(var(--color-text))"},children:[(0,r.jsx)(x.Z,{className:"w-5 h-5 text-amber-500"}),"Tarefas do Dia"]}),(0,r.jsxs)("p",{className:"text-xs",style:{color:"rgb(var(--color-text-tertiary))"},children:["Baseadas em ",L.name]})]}),(0,r.jsxs)("span",{className:"text-sm font-medium",style:{color:"rgb(var(--color-text-secondary))"},children:[el,"/",eo]})]}),(0,r.jsx)("div",{className:"h-1.5 rounded-full mb-4 overflow-hidden",style:{backgroundColor:"rgb(var(--color-bg-muted))"},children:(0,r.jsx)(i.E.div,{initial:{width:0},animate:{width:"".concat(ec,"%")},transition:{duration:.5},className:"h-full rounded-full bg-gradient-to-r from-success-400 to-success-500"})}),er.length>0&&(0,r.jsxs)(i.E.button,{onClick:()=>X(!q),className:"w-full mb-4 p-3 rounded-xl flex items-center justify-between transition-all hover:shadow-md",style:{backgroundColor:"rgba(245, 158, 11, 0.1)",border:"1px solid rgba(245, 158, 11, 0.3)"},whileHover:{scale:1.01},whileTap:{scale:.99},children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(j.Z,{className:"w-5 h-5 text-amber-500"}),(0,r.jsxs)("span",{className:"text-sm font-medium text-amber-600 dark:text-amber-400",children:[er.length," sugest\xf5es IA"]})]}),(0,r.jsx)(i.E.div,{animate:{rotate:q?180:0},transition:{duration:.2},children:(0,r.jsx)(N.Z,{className:"w-5 h-5 text-amber-500"})})]}),(0,r.jsx)(l.M,{children:q&&(0,r.jsx)(i.E.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden mb-4",children:(0,r.jsx)("div",{className:"space-y-2",children:er.map(e=>(0,r.jsx)(i.E.div,{className:"card p-3",style:{backgroundColor:"rgba(245, 158, 11, 0.05)",border:"1px solid rgba(245, 158, 11, 0.2)"},whileHover:{scale:1.01},children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(x.Z,{className:"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"font-medium text-sm",style:{color:"rgb(var(--color-text))"},children:e.title}),(0,r.jsx)("p",{className:"text-xs",style:{color:"rgb(var(--color-text-tertiary))"},children:e.description}),(0,r.jsx)("p",{className:"text-xs text-amber-500 mt-1 italic",children:e.suggestedReason})]}),(0,r.jsx)(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ei(e),className:"px-3 py-1.5 bg-amber-500 hover:bg-amber-400 text-white text-xs rounded-lg font-medium",children:"Adicionar"})]})},e.id))})})}),(0,r.jsx)("div",{className:"space-y-2",children:et.map((e,t)=>{let a=U(e.category),s=1>=Math.abs(parseInt(e.time.split(":")[0])-new Date().getHours());return(0,r.jsxs)(i.E.div,{layout:!0,initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{delay:.02*t},className:(0,I.cn)("card flex items-start gap-3 py-3 border-l-4",_(e.priority),e.completed&&"opacity-60"),style:{boxShadow:s&&!e.completed?"0 0 0 2px rgba(30, 138, 173, 0.3)":void 0},children:[(0,r.jsx)(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>es(e.id),className:(0,I.cn)("w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 mt-0.5 transition-all",e.completed?"border-success-500 bg-success-500":"border-neutral-300 dark:border-neutral-600 hover:border-brand-500"),children:e.completed&&(0,r.jsx)(b.Z,{className:"w-4 h-4 text-white"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-0.5",children:[(0,r.jsx)("div",{className:(0,I.cn)("w-5 h-5 rounded flex items-center justify-center flex-shrink-0",a.color),style:{backgroundColor:a.bg},children:(0,r.jsx)(a.icon,{className:"w-3 h-3"})}),(0,r.jsx)("p",{className:(0,I.cn)("text-sm font-medium truncate",e.completed&&"line-through"),style:{color:e.completed?"rgb(var(--color-text-tertiary))":"rgb(var(--color-text))"},children:e.title})]}),e.description&&(0,r.jsx)("p",{className:"text-xs ml-7 truncate",style:{color:"rgb(var(--color-text-tertiary))"},children:e.description}),e.linkedTo&&(0,r.jsxs)("p",{className:"text-xs ml-7 mt-0.5 text-brand-500",children:["↳ ",e.linkedTo]})]}),(0,r.jsxs)("div",{className:"text-right flex-shrink-0",children:[(0,r.jsx)("span",{className:(0,I.cn)("text-xs font-medium",s&&!e.completed?"text-brand-500":""),style:{color:s&&!e.completed?void 0:"rgb(var(--color-text-tertiary))"},children:e.time}),e.recurring&&(0,r.jsx)("p",{className:"text-[10px]",style:{color:"rgb(var(--color-text-tertiary))"},children:"Recorrente"})]})]},e.id)})}),(0,r.jsxs)(i.E.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>K(!0),className:"w-full mt-3 py-3 border-2 border-dashed rounded-xl font-medium flex items-center justify-center gap-2 transition-colors",style:{borderColor:"rgb(var(--color-border))",color:"rgb(var(--color-text-secondary))"},children:[(0,r.jsx)(w.Z,{className:"w-5 h-5"}),"Adicionar Tarefa"]})]}),(0,r.jsxs)(i.E.div,{variants:W,children:[(0,r.jsx)("h2",{className:"font-semibold mb-3",style:{color:"rgb(var(--color-text))"},children:"Este M\xeas"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3",children:[{value:"".concat(156,"h"),label:"Horas",icon:k.Z,color:"text-brand-500",bg:"rgba(30, 138, 173, 0.15)"},{value:13,label:"Plant\xf5es",icon:b.Z,color:"text-success-500",bg:"rgba(16, 185, 129, 0.15)"},{value:2,label:"Pacientes",icon:y.Z,color:"text-purple-500",bg:"rgba(168, 85, 247, 0.15)"},{value:3,label:"Evolu\xe7\xf5es",icon:h.Z,color:"text-amber-500",bg:"rgba(245, 158, 11, 0.15)"}].map((e,t)=>(0,r.jsxs)(i.E.div,{className:"card p-4",whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:[(0,r.jsx)("div",{className:(0,I.cn)("w-10 h-10 rounded-lg flex items-center justify-center mb-2",e.color),style:{backgroundColor:e.bg},children:(0,r.jsx)(e.icon,{className:"w-5 h-5"})}),(0,r.jsx)("p",{className:"text-xl font-bold",style:{color:"rgb(var(--color-text))"},children:e.value}),(0,r.jsx)("p",{className:"text-xs",style:{color:"rgb(var(--color-text-secondary))"},children:e.label})]},t))})]}),(0,r.jsxs)(i.E.div,{variants:W,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,r.jsx)("h2",{className:"font-semibold",style:{color:"rgb(var(--color-text))"},children:"Pr\xf3ximos Plant\xf5es"}),(0,r.jsx)("a",{href:"/pro/cuidador/agenda",className:"text-sm text-brand-500 hover:underline",children:"Ver agenda"})]}),(0,r.jsx)("div",{className:"space-y-2",children:O.map(e=>(0,r.jsxs)(i.E.div,{className:"card flex items-center gap-4 cursor-pointer",whileHover:{scale:1.01,x:4},whileTap:{scale:.99},children:[(0,r.jsxs)("div",{className:(0,I.cn)("w-12 h-12 rounded-lg flex flex-col items-center justify-center flex-shrink-0",(0,H.z)(e.date)?"bg-brand-500 text-white":""),style:{backgroundColor:(0,H.z)(e.date)?void 0:"rgb(var(--color-bg-muted))",color:(0,H.z)(e.date)?void 0:"rgb(var(--color-text-secondary))"},children:[(0,r.jsx)("span",{className:"text-xs font-medium",children:(0,M.WU)(e.date,"MMM",{locale:D.F}).toUpperCase()}),(0,r.jsx)("span",{className:"text-lg font-bold leading-none",children:(0,M.WU)(e.date,"dd")})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"font-medium truncate",style:{color:"rgb(var(--color-text))"},children:e.patientName}),(0,r.jsx)("p",{className:"text-sm",style:{color:"rgb(var(--color-text-secondary))"},children:e.time})]}),(0,r.jsx)(C.Z,{className:"w-5 h-5 flex-shrink-0",style:{color:"rgb(var(--color-text-tertiary))"}})]},e.id))})]}),(0,r.jsxs)(i.E.div,{variants:W,className:"card",children:[(0,r.jsx)("p",{className:"text-sm mb-2",style:{color:"rgb(var(--color-text-secondary))"},children:"Contato da Fam\xedlia"}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",style:{color:"rgb(var(--color-text))"},children:B.familyContact.name}),(0,r.jsx)("p",{className:"text-sm",style:{color:"rgb(var(--color-text-tertiary))"},children:B.familyContact.relationship})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(i.E.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:"tel:".concat(B.familyContact.phone),className:"p-2 rounded-lg text-brand-500",style:{backgroundColor:"rgba(30, 138, 173, 0.15)"},children:(0,r.jsx)(E.Z,{className:"w-5 h-5"})}),(0,r.jsx)(i.E.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:"https://wa.me/55".concat(B.familyContact.phone.replace(/\D/g,"")),className:"p-2 rounded-lg text-success-500",style:{backgroundColor:"rgba(16, 185, 129, 0.15)"},children:(0,r.jsx)(T.Z,{className:"w-5 h-5"})})]})]})]}),(0,r.jsx)(l.M,{children:G&&(0,r.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"modal-overlay flex items-end",onClick:()=>K(!1),children:(0,r.jsxs)(i.E.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},onClick:e=>e.stopPropagation(),className:"modal-content w-full max-h-[90vh] overflow-y-auto",children:[(0,r.jsxs)("div",{className:"p-4 flex justify-between items-center sticky top-0 z-10",style:{backgroundColor:"rgb(var(--color-bg-elevated))",borderBottom:"1px solid rgb(var(--color-border-subtle))"},children:[(0,r.jsx)("h2",{className:"text-lg font-semibold",style:{color:"rgb(var(--color-text))"},children:"Adicionar Tarefa"}),(0,r.jsx)(i.E.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>K(!1),className:"p-2 rounded-full",style:{backgroundColor:"rgb(var(--color-bg-muted))"},children:(0,r.jsx)(A.Z,{className:"w-5 h-5",style:{color:"rgb(var(--color-text-secondary))"}})})]}),(0,r.jsxs)("div",{className:"p-6 space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"label",children:"Categoria"}),(0,r.jsx)("div",{className:"grid grid-cols-4 gap-2",children:[{value:"medication",icon:o.Z,label:"Medica\xe7\xe3o"},{value:"hygiene",icon:c.Z,label:"Higiene"},{value:"feeding",icon:n.Z,label:"Alimenta\xe7\xe3o"},{value:"monitoring",icon:m.Z,label:"Monit."},{value:"mobility",icon:d.Z,label:"Mobilidade"},{value:"therapy",icon:u.Z,label:"Terapia"},{value:"custom",icon:h.Z,label:"Outra"}].map(e=>(0,r.jsxs)(i.E.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>$({...Y,category:e.value}),className:(0,I.cn)("flex flex-col items-center gap-1.5 p-3 rounded-xl border-2 transition-all",Y.category===e.value?"border-brand-500":""),style:{backgroundColor:Y.category===e.value?"rgba(30, 138, 173, 0.1)":"rgb(var(--color-bg-muted))",borderColor:Y.category===e.value?void 0:"rgb(var(--color-border))"},children:[(0,r.jsx)(e.icon,{className:(0,I.cn)("w-5 h-5",Y.category===e.value?"text-brand-500":""),style:{color:Y.category===e.value?void 0:"rgb(var(--color-text-tertiary))"}}),(0,r.jsx)("span",{className:"text-[10px]",style:{color:Y.category===e.value?"rgb(var(--color-text))":"rgb(var(--color-text-secondary))"},children:e.label})]},e.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"label",children:"Prioridade"}),(0,r.jsx)("div",{className:"flex gap-2",children:[{value:"low",label:"Baixa",color:"rgba(115, 115, 122, 0.2)",active:"rgba(115, 115, 122, 0.4)"},{value:"medium",label:"M\xe9dia",color:"rgba(245, 158, 11, 0.15)",active:"rgba(245, 158, 11, 0.3)"},{value:"high",label:"Alta",color:"rgba(249, 115, 22, 0.15)",active:"rgba(249, 115, 22, 0.3)"},{value:"critical",label:"Cr\xedtica",color:"rgba(239, 68, 68, 0.15)",active:"rgba(239, 68, 68, 0.3)"}].map(e=>(0,r.jsx)(i.E.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>$({...Y,priority:e.value}),className:(0,I.cn)("flex-1 py-2.5 rounded-lg text-sm font-medium transition-all",Y.priority===e.value&&"ring-2 ring-brand-500"),style:{backgroundColor:Y.priority===e.value?e.active:e.color,color:"rgb(var(--color-text))"},children:e.label},e.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"label",children:"T\xedtulo"}),(0,r.jsx)("input",{type:"text",value:Y.title,onChange:e=>$({...Y,title:e.target.value}),placeholder:"Ex: Verificar sinais vitais",className:"input-primary"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"label",children:"Hor\xe1rio"}),(0,r.jsx)("input",{type:"time",value:Y.time,onChange:e=>$({...Y,time:e.target.value}),className:"input-primary"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"label",children:"Descri\xe7\xe3o (opcional)"}),(0,r.jsx)("textarea",{value:Y.description,onChange:e=>$({...Y,description:e.target.value}),placeholder:"Detalhes adicionais...",rows:2,className:"input-primary resize-none"})]}),(0,r.jsxs)(i.E.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>{if(!Y.title||!Y.time)return;let e={id:"custom-".concat(Date.now()),title:Y.title,description:Y.description,time:Y.time,completed:!1,category:Y.category,priority:Y.priority};ea(t=>[...t,e].sort((e,t)=>e.time.localeCompare(t.time))),$({title:"",description:"",time:"",category:"custom",priority:"medium"}),K(!1)},disabled:!Y.title||!Y.time,className:"w-full btn-primary disabled:opacity-50",children:[(0,r.jsx)(Z.Z,{className:"w-5 h-5 mr-2"}),"Salvar Tarefa"]})]})]})})})]})}},4362:function(e,t,a){"use strict";a.d(t,{Ho:function(){return n},QL:function(){return m},aC:function(){return d}});var r=a(7437),s=a(2265),i=a(9376),l=a(4270);let o=(0,s.createContext)(null),c=["/login","/forgot-pin","/"];function n(e){let{children:t}=e,a=(0,i.useRouter)(),n=(0,i.usePathname)(),d=function(){let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{t(!0)},[]),e}(),m=(0,l.t)(),[u,h]=(0,s.useState)(!1),[x,g]=(0,s.useState)(null),[p,b]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(!d)return;let e=setTimeout(()=>{(0,l.v)().then(()=>{b(!0)})},100);return()=>clearTimeout(e)},[d]),(0,s.useEffect)(()=>{if(!p)return;let e=()=>{if(!m.checkSession()&&!c.includes(n)){a.push("/login");return}if(m.session){let e=new Date(m.session.expiresAt).getTime()-Date.now();g(e),h(e>0&&e<3e5)}};e();let t=setInterval(e,3e4);return()=>clearInterval(t)},[p,n,a,m]),(0,s.useEffect)(()=>{if(!m.isAuthenticated)return;let e=()=>{m.recordActivity()},t=["mousedown","keydown","touchstart","scroll"];return t.forEach(t=>{window.addEventListener(t,e,{passive:!0})}),()=>{t.forEach(t=>{window.removeEventListener(t,e)})}},[m.isAuthenticated,m]),(0,s.useEffect)(()=>{if(!p)return;let e=c.includes(n);m.isAuthenticated||e?m.isAuthenticated&&"/login"===n&&a.push("/"):a.push("/login")},[p,m.isAuthenticated,n,a]);let v=(0,s.useCallback)(async e=>{let t=await m.loginWithPin(e);return t.success&&a.push("/"),t},[m,a]),y=(0,s.useCallback)(()=>{m.logout(),a.push("/login")},[m,a]),f=(0,s.useCallback)(()=>{m.refreshSession(),h(!1)},[m]),j=(0,s.useCallback)(e=>m.hasPermission(e),[m]),N={user:m.getCurrentUser(),isAuthenticated:m.isAuthenticated,isLoading:!p,permissions:m.getPermissions(),login:v,logout:y,hasPermission:j,showSessionWarning:u,sessionExpiresIn:x,extendSession:f};return(0,r.jsx)(o.Provider,{value:N,children:t})}function d(){let e=(0,s.useContext)(o);if(!e)throw Error("useAuth deve ser usado dentro de AuthProvider");return e}function m(e){let{isAuthenticated:t,isLoading:a,hasPermission:r}=d(),l=(0,i.useRouter)();return(0,s.useEffect)(()=>{if(!a){if(!t){l.push("/login");return}e&&!r(e)&&l.push("/unauthorized")}},[t,a,e,r,l]),{isLoading:a,isAuthorized:t&&(!e||r(e))}}},9734:function(e,t,a){"use strict";a.d(t,{Fg:function(){return c},f6:function(){return o}});var r=a(7437),s=a(2265);let i=(0,s.createContext)(void 0),l="maos-amigas-theme";function o(e){let{children:t,defaultTheme:a="system"}=e,[o,c]=(0,s.useState)(a),[n,d]=(0,s.useState)("light"),[m,u]=(0,s.useState)(!1),h=(0,s.useCallback)(()=>window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",[]),x=(0,s.useCallback)(e=>"system"===e?h():e,[h]),g=(0,s.useCallback)(e=>{let t=document.documentElement;t.classList.remove("light","dark"),t.classList.add(e),t.style.colorScheme=e},[]);(0,s.useEffect)(()=>{let e=localStorage.getItem(l)||a;c(e);let t=x(e);d(t),g(t),u(!0)},[a,x,g]),(0,s.useEffect)(()=>{if(!m)return;let e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>{if("system"===o){let e=h();d(e),g(e)}};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[o,m,h,g]);let p=(0,s.useCallback)(e=>{c(e),localStorage.setItem(l,e);let t=x(e);d(t),g(t)},[x,g]),b=(0,s.useCallback)(()=>{p("dark"===n?"light":"dark")},[n,p]);return m?(0,r.jsx)(i.Provider,{value:{theme:o,resolvedTheme:n,setTheme:p,toggleTheme:b},children:t}):(0,r.jsx)(i.Provider,{value:{theme:"system",resolvedTheme:"light",setTheme:()=>{},toggleTheme:()=>{}},children:t})}function c(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},1001:function(e,t,a){"use strict";a.d(t,{cn:function(){return i}});var r=a(1994),s=a(3335);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}}},function(e){e.O(0,[6137,7230,4875,2859,4122,5319,8518,4270,2971,2117,1744],function(){return e(e.s=8037)}),_N_E=e.O()}]);